import{u as J,q as $,v as n,ct as o,r as j,kV as q,kW as U,ab as K,j as e,n as b,E as f,J as Q,B as a,T as X,C as Z,G as i,o as y,I as F,F as w,H as D}from"./index-CpZD2H93.js";import{d as ee}from"./PriorityHigh-GKb8m_z9.js";import{D as se}from"./index-vlTKwxOR.js";import{L as te}from"./Legend-BBFIM_kK.js";import{G as W,S as E,B as P}from"./silver-medal-Co1Ddjhs.js";import{y as A}from"./yellow-BQYah5ZS.js";const de=()=>{const k=J();let{SubjectId:x,TestId:d,StandardDivisionId:c,getExamName:p,getTeacherName:m,getSubjectName:g}=$();x=n(x),d=n(d),c=n(c),p=n(p),m=n(m),g=n(g);const I=localStorage.getItem("localSchoolId"),M=sessionStorage.getItem("AcademicYearId"),R="Displays brief mark list with toppers for selected class-subject.",B="To view the student name take your cursor on the roll number.";o(s=>s.SubjectMarkList.listTestMark);const h=o(s=>s.SubjectMarkList.HeaderListTestMark),T=o(s=>s.SubjectMarkList.listTestMarkNew);o(s=>s.SubjectMarkList.HeaderList),o(s=>s.SubjectMarkList.StudentNameMouseOver),o(s=>s.SubjectMarkList.legend),o(s=>s.SubjectMarkList.ThreeToppersList);const G={asSchoolId:Number(I),asStandardDivision_Id:Number(c),asSubject_Id:Number(x),asTestId:Number(d),asAcademicYearID:Number(M),asShowTotalAsPerOutOfMarks:"Y"},O={asAcademicYearID:Number(M),asSchoolId:Number(I),asStandardDivision_Id:Number(c),asSubject_Id:Number(x),asTestId:Number(d)};j.useEffect(()=>{k(q(O))},[]),j.useEffect(()=>{k(U(G))},[]);const V=s=>{let t=s.toString();return t.length<2&&(t="0"+t+" "),t},[S,z]=K.useState([{id:"rollNo",label:"Roll No.",renderCell:s=>e.jsx(e.Fragment,{children:e.jsxs(b,{direction:"row",alignItems:"center",gap:2,children:[s.rollNo&&e.jsx(f,{title:s.MoueOverText1!=null?s.MoueOverText1:"",children:e.jsx("span",{children:V(s.rollNo)})}),s.rank==="1"&&e.jsx("img",{src:W,alt:"Gold Medal",height:20}),s.rank==="2"&&e.jsx("img",{src:E,alt:"Silver Medal",height:20}),s.rank==="3"&&e.jsx("img",{src:P,alt:"Bronze Medal",height:20})]})})}]);j.useEffect(()=>{if(h.length>0){let s=[...S];h.map((t,r)=>{s.push({id:"theory",label:t.substring(0,1),renderCell:l=>e.jsx(e.Fragment,{children:e.jsxs(b,{direction:"row",alignItems:"center",gap:2,children:[l.Marks[r].theoryType&&(l.Marks[r].theoryType==="Ex"&&e.jsx("span",{style:{color:"brown",fontWeight:"bold"},children:l.Marks[r].theoryType})||l.Marks[r].theoryType==="-"&&e.jsx("span",{style:{color:"green",fontWeight:"bold",backgroundColor:Q[100],margin:"0px",paddingLeft:"5px",paddingRight:"5px"},children:l.Marks[r].theoryType})||l.Marks[r].theoryType==="Ab"&&e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:l.Marks[r].theoryType})),!l.Marks[r].theoryType&&parseFloat(l.Marks[r].theory)]})})})}),s.push({id:"total",label:"Total",renderCell:t=>e.jsx("span",{children:parseFloat(t.total)})}),z(s)}},[h]);let H=T.length,u=10,N=Math.ceil(H/u),v=0,L=u-1,C=[];for(let s=0;s<N;s++)C.push({startIndex:v,endIndex:L}),v+=u,L+=u;let _=12/N;const Y=[...h.slice(-1).map((s,t)=>({id:1,Name:`Legend for ${s}`,color:"blue",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsxs("span",{style:{color:"blue",fontWeight:"bold"},children:[s.substring(0,1)," : ",s]})})})),{id:2,Name:"Exempted",color:"brown",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"brown",fontWeight:"bold"},children:"Ex :"})})},{id:3,Name:"Late Joinee",color:"green",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"green",fontWeight:"bold"},children:"- :"})})},{id:4,Name:"Absent",color:"red",fontWeight:"bold",Value:e.jsx(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:e.jsx("span",{style:{color:"red",fontWeight:"bold"},children:"Ab :"})})},{id:5,Name:"",color:"black",Value:e.jsxs(a,{sx:{display:"flex",gap:1,alignItems:"center"},children:[e.jsx(X,{variant:"h5",children:"Toppers of the class :"}),e.jsx("img",{src:W,alt:"Gold Medal",width:17}),e.jsx("img",{src:E,alt:"Silver Medal",width:17}),e.jsx("img",{src:P,alt:"Bronze Medal",width:17})]})}];return e.jsx(e.Fragment,{children:e.jsxs(a,{sx:{px:2},children:[e.jsx(Z,{navLinks:[{title:"Exam Result",path:"/RITeSchool/Teacher/ExamResultBase/"+c+"/"+d},{title:"Subject Mark List",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(b,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(i,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Class",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"60vw",sm:"17vw"}},value:m,size:"small",InputProps:{readOnly:!0}})}),e.jsx(i,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Subject Name",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"60vw",sm:"17vw"}},value:g,size:"small",InputProps:{readOnly:!0}})}),e.jsx(i,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(y,{fullWidth:!0,label:"Exam ",InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:{xs:"60vw",sm:"18vw"}},value:p,size:"small",InputProps:{readOnly:!0}})}),e.jsxs(i,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:[e.jsx(f,{title:B,children:e.jsx(F,{sx:{color:"white",backgroundColor:A[700],"&:hover":{backgroundColor:A[800]}},children:e.jsx(ee,{})})}),e.jsx(f,{title:R,children:e.jsx(F,{sx:{color:"white",backgroundColor:w[500],"&:hover":{backgroundColor:w[500]}},children:e.jsx(D,{})})})]})]})})}),e.jsxs(a,{children:[e.jsx(a,{sx:{background:"white",p:1,mb:2},children:e.jsx(te,{LegendArray:Y})}),e.jsx(a,{sx:{p:2,background:"white"},children:e.jsx(i,{container:!0,spacing:2,children:C.map(s=>e.jsx(i,{item:!0,xs:_,children:e.jsx(se,{columns:S,data:T.filter(t=>t.Index>=s.startIndex&&t.Index<=s.endIndex),isPagination:!1})}))})})]})]})})};export{de as default};
