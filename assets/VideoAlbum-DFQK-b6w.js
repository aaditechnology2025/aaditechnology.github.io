import{c as n,u as Y,r as a,bx as f,bA as j,j as t,B as h,C as V,l as w}from"./index-CpZD2H93.js";import{L as M}from"./List1-CVRAXJd-.js";import{M as b}from"./MonthYearselector-C9gxwKYF.js";import"./Attachment-BXtOqCtF.js";import"./Dropdown-AVnwFZWJ.js";const B=()=>{const g=n(e=>e.PhotoGalllary.YearList),r=Y();a.useEffect(()=>{localStorage.setItem("url",window.location.pathname),r(f(S)),i(new Date().getMonth()+1),c(new Date().getFullYear())},[]);const[s,i]=a.useState(0),[o,c]=a.useState(0);a.useEffect(()=>{s===0||o===0||r(j(L))},[s,o]);const m=n(e=>e.Video.VideoList),p=n(e=>e.Video.Loading),l=localStorage.getItem("localSchoolId"),d=sessionStorage.getItem("Id"),u=sessionStorage.getItem("RoleId"),x=e=>{i(e)},I=e=>{c(e)},L={asSchoolId:l,asMonth:s,asYear:o,asUserId:d},S={asSchoolId:l,asUserId:d,asUserRoleId:u};return t.jsxs(h,{sx:{px:2},children:[t.jsx(V,{navLinks:[{title:"Video Gallery",path:""}]}),t.jsxs(h,{sx:{background:"white",p:2},children:[t.jsx(b,{month:s,onChange:x,year:o,YearData:g,newChange:I}),p?t.jsx(w,{}):t.jsx(M,{items:m})]})]})};export{B as default};
