import{cc as xr,j as e,B as g,T as M,c as h,r as x,G as T,h7 as fr,ad as gr,u as ur,A as pr,z as hr,h8 as te,h9 as Be,t as he,ha as br,hb as mr,hc as Tr,C as jr,ay as Le,E as F,I as E,F as Me,bl as se,ap as ae,hd as vr,J as X,br as Ve,l as Sr,ag as be,ai as m,aj as c,o as We,ah as Je,ak as Re,ab as ze,he as Ye,hf as Ir,hg as He,hh as Xe}from"./index-CpZD2H93.js";import{d as wr}from"./EventBusy-Cp_-meIu.js";import{D as Qe,U as Cr}from"./UploadDocument-DIsqNiJZ.js";import{Q as yr}from"./QuestionMark-B_7MKkiz.js";import{C as Pr}from"./CheckCircle-rXRTd6Pm.js";import{S as Ar}from"./Save-Pq9d8yJY.js";import"./CloudUpload-C2WsbpCZ.js";import"./Errormessage-DVJGTehf.js";import"./UploadDocList-Bl2QzY_T.js";import"./Visibility-DDnH8LZ2.js";const Dr=xr(e.jsx("path",{fillRule:"evenodd",d:"M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM10 17H5v-2h5v2zm0-4H5v-2h5v2zm0-4H5V7h5v2zm4.82 6L12 12.16l1.41-1.41 1.41 1.42L17.99 9l1.42 1.42L14.82 15z"}),"FactCheck"),k=({Label:A,Text:u})=>e.jsx(e.Fragment,{children:e.jsxs(g,{mb:1,display:"flex",alignItems:"center",children:[e.jsx(g,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:A}),e.jsx(M,{variant:"h5",component:"span",sx:{textWrap:"wrap",maxWidth:"auto"},children:u})]})}),kr=()=>{var O;const A=h(i=>i.PerformanceGradeAssignment.ISlistEnableRejectButtonDetails),u=h(i=>i.PerformanceGradeAssignment.ISlistIsFinalApproverDetails),b=h(i=>i.PerformanceGradeAssignment.ISlistUserNameDetails),[N,I]=x.useState("");function ne(){let i=!1,V=u.filter(D=>D.Text3===sessionStorage.getItem("Id"));return V.length>0&&V[0].Text4==="True"&&(i=!0),i}return e.jsx(e.Fragment,{children:b.length>0&&e.jsxs(T,{container:!0,spacing:2,children:[e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Status :",Text:b[0].Text3})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Year :",Text:b[0].Text11})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Name :",Text:b[0].Text1})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Post :",Text:b[0].Text2})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Employee Code :",Text:b[0].Text4})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Length Of Service :",Text:b[0].Text6})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:" Date of Joining :",Text:b[0].Text5.split(" ")[0]})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsxs(g,{display:"flex",alignItems:"center",mb:1,children:[e.jsx(g,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Date of Last Increment:"}),e.jsx(g,{component:"span",sx:{display:"inline-flex",alignItems:"center"},children:ne()===!1?e.jsx(M,{variant:"h5",component:"span",children:b[0].Text12!==""?fr(b[0].Text12.split(" ")[0]):"-"}):e.jsx(Qe,{disabled:((O=A[0])==null?void 0:O.Text5)==="1",maxDate:!0,DateValue:N,onDateChange:i=>{I(i)},label:"",size:"small",fullWidth:!1})})]})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:"Address :",Text:b[0].Text14})}),e.jsx(T,{item:!0,xs:12,sm:6,children:e.jsx(k,{Label:" Highest Education Qualification and Year of Passing :",Text:b[0].Text15})})]})})},Nr=()=>{const A=new Date,u=String(A.getDate()).padStart(2,"0"),b=String(A.getMonth()+1).padStart(2,"0"),N=A.getFullYear();return`${u}-${b}-${N}`},Jr=()=>{var Ee,Oe;const A=gr(),u=ur(),b=pr(),{showAlert:N,closeAlert:I}=x.useContext(hr),ne=Nr(),O=h(r=>r.PerformanceGradeAssignment.ISlistSchoolOrgNameDetails),i=h(r=>r.PerformanceGradeAssignment.ISlistUserNameDetails),V=h(r=>r.PerformanceGradeAssignment.ISlistDescriptionDetails),D=h(r=>r.PerformanceGradeAssignment.ISlistOriginalSkillIdDetails),$=h(r=>r.PerformanceGradeAssignment.ISlistTeacherTitleDetails),q=h(r=>r.PerformanceGradeAssignment.ISlistParameterIdDetails),Q=h(r=>r.PerformanceGradeAssignment.ISlistIsFinalApproverDetails),G=h(r=>r.PerformanceGradeAssignment.ISgradeDropDownList),oe=h(r=>r.PerformanceGradeAssignment.ISAttachmentDetails),W=h(r=>r.PerformanceGradeAssignment.ISlistIsPublishedDetails),n=h(r=>r.PerformanceGradeAssignment.ISlistEnableRejectButtonDetails),le=h(r=>r.PerformanceGradeAssignment.ISSubmitStaffPerformanceDetailsMsg),ie=h(r=>r.PerformanceGradeAssignment.ISPublishStaffPerformanceDetailsMsg),de=h(r=>r.PerformanceGradeAssignment.ISSaveStaffPerformanceEvalDetailsMsg),qe=h(r=>r.PerformanceGradeAssignment.Loading);(Ee=$[0])==null||Ee.Text7,i[0];const{userId:d,asYear:v,status:ce}=A.state||{},B=localStorage.getItem("SchoolId"),xe=sessionStorage.getItem("AcademicYearId"),j=sessionStorage.getItem("Id");sessionStorage.getItem("Id");const[fe,me]=x.useState(""),[Te,Ke]=x.useState(""),[w,je]=x.useState(""),[C,ve]=x.useState(""),[_e,Se]=x.useState(!1),[Ze,ge]=x.useState(null),[$r,er]=x.useState(""),[rr,tr]=x.useState(""),[S,ue]=x.useState({}),[sr,y]=x.useState(!1),[ar,P]=x.useState(!1),[Ie,K]=x.useState(""),[we,_]=x.useState("");x.useEffect(()=>{var r,t,s,a;i.length>0&&(me(((r=i[0])==null?void 0:r.Text13)===""?ne:(t=i[0])==null?void 0:t.Text13),Ke(((s=i[0])==null?void 0:s.Text12)===""||(a=i[0])==null?void 0:a.Text12))},[i]),x.useEffect(()=>{var r,t;(i==null?void 0:i.length)>0&&(ve((r=i[0])==null?void 0:r.Text9),je((t=i[0])==null?void 0:t.Text8))},[i]),x.useEffect(()=>{G.length>0&&console.log(G)},[G]);const J={asSchoolId:Number(B),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asAcademicYearId:Number(xe)};x.useEffect(()=>{u(te(J)),u(Be(J)),O.length>0},[u,d,v]);function nr(){b("/RITeSchool/Teacher/PerfEvalViewReport",{state:{asYear:v,asUserId:d}})}x.useEffect(()=>{i.length>0},[i]);function Ce(r){var s;return(s=Q.filter(a=>a.Text3===r)[0])==null?void 0:s.Text1}function R(){let r=!1,t=Q.filter(s=>s.Text3===sessionStorage.getItem("Id"));return t.length>0&&t[0].Text4==="True"&&(r=!0),r}x.useEffect(()=>{le!==""&&(he.success(le),u(br()),u(te(J)))},[le]),x.useEffect(()=>{ie!==""&&(he.success(ie),u(mr()),u(te(J)))},[ie]),x.useEffect(()=>{de!==""&&(he.success(de),u(Tr()),u(te(J)))},[de]);function U(){let r=!1,t=sessionStorage.getItem("Id");return d===t&&ce==="2"&&(r=!0),r}function z(r){let t=!1,s=sessionStorage.getItem("Id");return r===s&&!Y(r)&&(t=!0),t}function ye(){var t;let r=!1;return B==="18"&&Number(v)>=51?((t=$[0])==null?void 0:t.Text7)==="2"&&(r=!0):r=!0,r}function or(r){let t="";return G.length>0&&G.map((s,a)=>{s.Id===r&&r!=="0"?t=s.Name:s.Id===r&&r==="0"&&(t="")}),t}function Pe(r,t){let s=q.filter(a=>a.Text2===r&&a.Text5===t);return s.length>0?or(s[0].Text3):""}function Ae(r,t){let s=q.filter(a=>a.Text2===r&&a.Text5===t);return s.length>0?s[0].Text4:""}x.useEffect(()=>{if(D.length>0){const r=D.reduce((t,s)=>($.filter(l=>l.Text4===s.Text1).forEach(l=>{const f=q.filter(p=>p.Text2===l.Text1);if(f.length===0&&(s.Text8==="True"&&Q.forEach(p=>{const o=`${s.Text1}-${l.Text1}-0-${p.Text3}-${s.Text7}`,L=JSON.stringify({id:"0",parameterId:l.Text1,gradeId:"0",observation:"",reportingUserId:p.Text3});t[o]=L}),s.Text8==="False")){const p=`${s.Text1}-${l.Text1}-0-${d}-${s.Text7}`,o=JSON.stringify({id:"0",parameterId:l.Text1,gradeId:"0",observation:"",reportingUserId:d});t[p]=o}f.forEach(p=>{const o=`${s.Text1}-${l.Text1}-0-${p.Text5}-${s.Text7}`,L=JSON.stringify({id:"0",parameterId:p.Text2,gradeId:p.Text3,observation:p.Text4,reportingUserId:p.Text5});t[o]=L})}),t),{});ue(r)}},[D,$,q,Q,d]);const Z=r=>{try{return JSON.parse(r)}catch(t){return console.error("Failed to parse JSON:",t),null}},De=(r,t,s,a)=>{const l={gradeId:t},f={id:"0",parameterId:s,gradeId:t,observation:"",reportingUserId:a};ue(p=>{const o={...p};if(o[r]){const H={...JSON.parse(o[r]),...l};o[r]=JSON.stringify(H)}else o[r]=JSON.stringify(f);return o})},ke=(r,t,s,a)=>{const l={observation:t},f={id:"0",parameterId:s,gradeId:"0",observation:t,reportingUserId:a};ue(p=>{const o={...p};if(o[r]){const H={...JSON.parse(o[r]),...l};o[r]=JSON.stringify(H)}else o[r]=JSON.stringify(f);return o})};function Ne(r){const t=[];let s=0;return Object.entries(r).forEach(([a,l])=>{if(typeof l=="string")try{const f=JSON.parse(l),[,,,,p]=a.split("-");f.reportingUserId===j&&p==="3"&&(s++,f.gradeId==="0"&&t.push(s))}catch(f){console.error("Error parsing JSON value: ",f)}}),t.length>0?{isValidGrade:!1,errorMessage:`Grade should be selected for row(s): ${t.join(", ")}`}:{isValidGrade:!0,errorMessage:""}}function ee(){for(let r in S){const t=JSON.parse(S[r]);if(r.split("-")[4]==="2"&&t.reportingUserId===j&&t.observation!=="")return!0;if(r.split("-")[4]==="2"&&t.reportingUserId!==j&&t.observation!=="")return!0}return!1}function $e(r){new DOMParser;let t="";return Object.keys(r).forEach(s=>{const a=r[s];if(typeof a=="string")try{const l=JSON.parse(a);l.reportingUserId===j&&(t+=`<StaffPerformanceObservation>
                        <Id>0</Id>
                        <StaffPerformanceEvalDetailsId>0</StaffPerformanceEvalDetailsId>
                        <ParameterId>${l.parameterId}</ParameterId>
                        <GradeId>${l.gradeId}</GradeId>
                        <ReportingUserId>${l.reportingUserId}</ReportingUserId>
                        <Observation>${l.observation}</Observation>
                      </StaffPerformanceObservation>`)}catch(l){console.error("Error parsing JSON value: ",l)}}),t="<ArrayOfStaffPerformanceObservation xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'>"+t+"</ArrayOfStaffPerformanceObservation>",t}const re=()=>{let r=U();return r&&w.trim()!==""&&C.trim()!==""?!0:r===!1},Y=r=>{var s;let t=!1;if((W==null?void 0:W.length)>0){const a=W==null?void 0:W.filter(l=>l.Text3===r);a.length>0&&(((s=a[0])==null?void 0:s.Text2)==="True"?t=!0:t=!1)}return t},Ue=r=>{let t=!1;_(""),K(""),P(!1),y(!1);const{isValidGrade:s,errorMessage:a}=Ne(S);$e(S);let l=U();const f={asSchoolId:Number(B),asUpdatedById:Number(j),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asPerformanceXml:$e(S),asClasses:w.toString(),asSubjects:C.toString()};return re()&&s&&ee()&&(t=!0,u(Ir(f,r)),y(!1),P(!1)),l&&(w==null?void 0:w.trim())===""&&y(!0),l&&(C==null?void 0:C.trim())===""&&P(!0),s||K(a),ee()||_("Value for at least one observation should be set."),t};function lr(){let r=!1,t=U();_(""),K(""),P(!1),y(!1);const{isValidGrade:s,errorMessage:a}=Ne(S);return re()&&s&&ee()&&(r=!0,y(!1),P(!1)),t&&(w==null?void 0:w.trim())===""&&y(!0),t&&(C==null?void 0:C.trim())===""&&P(!0),s||K(a),ee()||_("Value for at least one observation should be set."),r}const Fe=()=>{let r=U();const t={asSchoolId:Number(B),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asIsSubmitAction:1};re()&&lr()&&(N({title:"Please Confirm",message:"This action will save and submit current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{re()&&Ue("submit")&&(u(He(t)),y(!1),P(!1)),I()},onCancel:I}),y(!1),P(!1)),y(!!(r&&w==="")),P(!!(r&&C===""))},ir=()=>{const r={asSchoolId:Number(B),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asIsSubmitAction:0};N({title:"Please Confirm",message:"This action will unsubmit current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{u(He(r)),I()},onCancel:I})},dr=()=>{const r={asSchoolId:Number(B),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asIsPublish:!0,asAcademicYearId:Number(xe),asEffectiveDate:fe,asLastIncrementDate:Te};N({title:"Please Confirm",message:"This action will publish current details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{u(Xe(r)),I()},onCancel:I})},cr=()=>{const r={asSchoolId:Number(B),asUserId:Number(d),asReportingUserId:Number(j),asYear:Number(v),asIsPublish:!1,asAcademicYearId:Number(xe),asEffectiveDate:fe,asLastIncrementDate:Te};N({title:"Please Confirm",message:"This action will unpublish all published details. Are you sure you want to continue?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{u(Xe(r)),I()},onCancel:I})};return e.jsxs(e.Fragment,{children:[e.jsxs(g,{sx:{px:2},children:[e.jsx(jr,{navLinks:[{title:"Performance Grade Assignment",path:`/RITeSchool/Teacher/PerformanceGradeAssignmentBaseScreen/${Le(v)}/${Le(ce)}`},{title:"Performance Evaluation",path:""}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"Manage / display performance evaluation details.",children:e.jsx(E,{sx:{color:"white",backgroundColor:Me[500],height:"36px !important",":hover":{backgroundColor:Me[600]}},children:e.jsx(yr,{})})})}),R()&&e.jsxs(e.Fragment,{children:[e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"View report",children:e.jsx("span",{children:e.jsx(E,{disabled:!Y(j),sx:{color:"white",backgroundColor:se[500],"&:hover":{backgroundColor:se[600]}},onClick:nr,children:e.jsx(Dr,{})})})})}),(n==null?void 0:n.length)>0&&n[0].Text4==="True"&&e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"Publish",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text4==="True"),sx:{color:"white",backgroundColor:se[500],"&:hover":{backgroundColor:se[600]}},onClick:dr,children:e.jsx(Pr,{})})})})})]}),R()&&(n==null?void 0:n.length)>0&&n[0].Text5==="1"&&e.jsx(F,{title:"Unpublish",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text5==="1"),sx:{color:"white",backgroundColor:ae[500],"&:hover":{backgroundColor:ae[600]}},onClick:cr,children:e.jsx(vr,{})})})}),R()&&(n==null?void 0:n.length)>0&&n[0].Text3==="True"&&e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"Submit",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text3==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:Fe,children:e.jsx(Ve,{})})})})}),!R()&&e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"Submit",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text3==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:Fe,children:e.jsx(Ve,{})})})})}),R()&&n.length>0&&((Oe=n[0])==null?void 0:Oe.Text4)==="True"&&e.jsx(F,{title:"Unsubmit",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text4==="True"),sx:{color:"white",backgroundColor:ae[500],"&:hover":{backgroundColor:ae[600]}},onClick:ir,children:e.jsx(wr,{})})})}),e.jsx(g,{sx:{display:"flex",alignItems:"center"},children:e.jsx(F,{title:"Save",children:e.jsx("span",{children:e.jsx(E,{disabled:!((n==null?void 0:n.length)>0&&n[0].Text2==="True"),sx:{color:"white",backgroundColor:X[500],"&:hover":{backgroundColor:X[600]}},onClick:()=>{Ue("save")},children:e.jsx(Ar,{})})})})})]})}),Object.keys(S).length===0||oe.length===0||qe?e.jsx(Sr,{}):e.jsxs(g,{border:1,sx:{p:2,background:"white"},children:[e.jsxs(g,{mb:1,children:[sr&&e.jsx(e.Fragment,{children:e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:"Classes Taught should not be blank."})}),ar&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:"Teaching Subjects should not be blank."}),Ie.length>0&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:Ie}),we.length>0&&e.jsx("div",{style:{color:"red",fontWeight:"bolder"},children:we})]}),e.jsx(T,{container:!0,spacing:3,children:O==null?void 0:O.map((r,t)=>e.jsxs(T,{item:!0,xs:12,children:[e.jsxs(be,{children:[e.jsx(m,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(c,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx(M,{variant:"h4",color:"#38548a",children:r.schoolOrgName})})}),e.jsx(m,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(c,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx(M,{variant:"h4",color:"#38548a",children:r.schoolName})})}),e.jsx(m,{sx:{backgroundColor:"#F0F0F0"},children:e.jsxs(c,{align:"center",sx:{border:"1px solid black",py:1},children:["      ",e.jsx(M,{variant:"h4",color:"#38548a",children:r.address})]})}),e.jsx(m,{sx:{backgroundColor:"#F0F0F0"},children:e.jsx(c,{align:"center",sx:{border:"1px solid black",py:1},children:e.jsx(M,{variant:"h4",color:"#38548a",children:"Staff Performance Evaluation"})})})]}),e.jsx("br",{}),i.length>0&&i.map((s,a)=>{var l;return e.jsxs(e.Fragment,{children:[e.jsx(g,{sx:{backgroundColor:"#ffffff",display:"flex",justifyContent:"space-between",pr:7},children:e.jsx(kr,{})}),e.jsxs(g,{py:1,mb:1,display:"flex",alignItems:"center",children:[e.jsx(g,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Classes Taught:"}),e.jsx(We,{id:"outlined-basic",value:w,required:!0,label:"",variant:"outlined",onChange:f=>{U()&&je(f.target.value)},size:"small",inputProps:{maxLength:100,readOnly:!U()},sx:{height:"1vh",width:"76vw"}}),e.jsx("span",{style:{color:"red"},children:" *"})]}),e.jsxs(g,{py:.5,mb:1,display:"flex",alignItems:"center",children:[e.jsx(g,{display:"inline-block",border:1,borderRadius:4,width:"10vw",pl:1,mr:1,sx:{width:{xs:"40vw",sm:"40vw",md:"20vw",lg:"10vw",xl:"10vw"}},children:"Teaching Subjects:"}),e.jsx(We,{id:"outlined-basic",value:C,required:!0,label:"",onChange:f=>{U()&&ve(f.target.value)},inputProps:{readOnly:!U()},variant:"outlined",size:"small",sx:{height:"1vh",width:"76vw"}}),e.jsx("span",{style:{color:"red"},children:" *"})]}),R()&&e.jsxs(g,{py:1,children:[e.jsx(g,{display:"inline-flex",alignItems:"center",border:1,borderRadius:4,pl:1,mr:1,sx:{height:"5vh",width:"12vw"},children:"Effective From Date:"}),e.jsx(g,{component:"span",sx:{display:"inline-flex",alignItems:"center"},children:e.jsx(Qe,{disabled:((l=n[0])==null?void 0:l.Text5)==="1",minDate:!0,DateValue:fe,onDateChange:f=>{me(f)},label:"",size:"small",fullWidth:!1})})]})]})})]},r.UserId))}),ye()&&V.length>0&&e.jsx(M,{variant:"h4",textAlign:"center",color:"#38548a",mt:1,mb:1,sx:{fontWeight:"800"},children:"Key To Rate"}),ye()&&V.length>0&&e.jsxs(be,{children:[e.jsx(Je,{children:e.jsxs(m,{sx:{textAlign:"left",backgroundColor:"#19bed4"},children:[e.jsx(c,{sx:{fontWeight:"bold",color:"white",paddingTop:"10px",paddingBottom:"10px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Grade"}),e.jsx(c,{sx:{fontWeight:"bold",color:"white",paddingTop:"10px",paddingBottom:"10px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Description"})]})}),V.map((r,t)=>e.jsx(Re,{children:e.jsxs(m,{children:[e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text5}),e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text2})]})}))]})," ",e.jsx("br",{}),e.jsxs(be,{children:[e.jsx(Je,{children:e.jsxs(m,{sx:{backgroundColor:"#19bed4"},children:[e.jsx(c,{sx:{textAlign:"center",fontWeight:"bold",color:"white",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",width:"100px"},children:"Sr. No."}),e.jsx(c,{colSpan:2,sx:{textAlign:"center",fontWeight:"bold",color:"white",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",minWidth:"70vw"},children:"Performance Parameter"})]})}),e.jsxs(Re,{children:[(D==null?void 0:D.length)>0&&D.map((r,t)=>e.jsxs(ze.Fragment,{children:[e.jsx(m,{sx:{backgroundColor:"#e5e7eb"},children:e.jsx(c,{colSpan:3,sx:{textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text2})}),($==null?void 0:$.length)>0&&(()=>{let s=0;return $.map((a,l)=>{var f,p;return a.Text4===r.Text1&&e.jsxs(ze.Fragment,{children:[e.jsxs(m,{children:[e.jsxs(c,{sx:{textAlign:"center",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",borderBottom:"1px solid white"},children:[++s," "]}),e.jsx(c,{colSpan:2,sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",fontWeight:"bolder"},children:a.Text2})]}),e.jsxs(m,{children:[e.jsx(c,{sx:{textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)",borderBottom:"1px solid white"}}),e.jsx(c,{sx:{backgroundColor:"#f3f4f6",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Observer"}),e.jsx(c,{sx:{backgroundColor:"#f3f4f6",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text7==="2"?"Observation":"Grade"})]}),r.Text8==="False"?e.jsx(e.Fragment,{children:e.jsxs(m,{children:[e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:Ce(d)}),e.jsxs(c,{sx:{padding:r.Text7==="2"&&z(d)?"0":"5px",border:"1px solid rgba(224, 224, 224, 1)",height:"100%"},children:[r.Text7==="2"&&z(d)?e.jsx("textarea",{maxLength:4e3,rows:3,style:{width:"100%",height:"100%",resize:"vertical",backgroundColor:"white",margin:0,padding:"5px",border:"0.5px solid #f4f4f5",boxSizing:"border-box",display:"block"},value:((f=Z(S[`${r.Text1}-${a.Text1}-0-${d}-${r.Text7}`]))==null?void 0:f.observation)??"",onChange:o=>{ke(`${r.Text1}-${a.Text1}-0-${d}-${r.Text7}`,o.target.value,a.Text1,d)},disabled:Y(d)}):r.Text7==="2"&&Ae(a.Text1,d),r.Text7==="3"&&z(d)?e.jsx(Ye,{defaultValue:((p=Z(S[`${r.Text1}-${a.Text1}-0-${d}-${r.Text7}`]))==null?void 0:p.gradeId)??"0",ItemList:G,size:"small",disabled:Y(d),DisableClearable:!0,sx:{maxWidth:"15vw"},onChange:o=>{De(`${r.Text1}-${a.Text1}-0-${d}-${r.Text7}`,o.Value,a.Text1,d)}}):r.Text7==="3"&&Pe(a.Text1,d)]})]})}):Q.map((o,L)=>{var H,Ge;return e.jsx(e.Fragment,{children:e.jsxs(m,{children:[e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:Ce(o.Text3)}),e.jsxs(c,{sx:{padding:r.Text7==="2"&&z(o.Text3)?"0":"5px",border:"1px solid rgba(224, 224, 224, 1)",height:"100%"},children:[r.Text7==="2"&&z(o.Text3)?e.jsx("textarea",{maxLength:4e3,rows:3,style:{width:"100%",height:"100%",resize:"vertical",backgroundColor:"white",margin:0,padding:"5px",border:"0.5px solid #f4f4f5",boxSizing:"border-box",display:"block"},value:((H=Z(S[`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`]))==null?void 0:H.observation)??"",onChange:pe=>{ke(`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`,pe.target.value,a.Text1,o.Text3)},disabled:Y(o.Text3)}):r.Text7==="2"&&Ae(a.Text1,o.Text3),r.Text7==="3"&&z(o.Text3)?e.jsx(Ye,{defaultValue:((Ge=Z(S[`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`]))==null?void 0:Ge.gradeId)??"0",ItemList:G,size:"small",disabled:Y(o.Text3),DisableClearable:!0,sx:{maxWidth:"15vw"},onChange:pe=>{De(`${r.Text1}-${a.Text1}-0-${o.Text3}-${r.Text7}`,pe.Value,a.Text1,o.Text3)}}):r.Text7==="3"&&Pe(a.Text1,o.Text3)]})]},L)})})]},l)})})()]},t)),e.jsx(m,{children:e.jsx(c,{colSpan:3,sx:{backgroundColor:"#e5e7eb",textAlign:"left",fontWeight:"bold",color:"black",paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:"Attachment"})}),oe.length>0&&oe.map((r,t)=>e.jsx(e.Fragment,{children:e.jsxs(m,{children:[e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"}}),e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:r.Text1}),e.jsx(c,{sx:{paddingTop:"5px",paddingBottom:"5px",border:"1px solid rgba(224, 224, 224, 1)"},children:e.jsx("span",{onClick:()=>{Se(!0),er(r.Text1),tr(r.Text3)},onMouseEnter:()=>ge(t),onMouseLeave:()=>ge(null),style:{cursor:"pointer",color:"#6366f1",textDecoration:Ze===t?"underline":"none"},children:`${r.Text8===""?"0":r.Text8} Files Uploaded`})})]},t)}))]})]})]})]}),e.jsx(Cr,{Id:d,ReportingUserId:rr,yearId:v,saveButton:ce,open:_e,handleClose:r=>{Se(!1),r&&u(Be(J)),ge(null)},RefreshList:()=>{}})]})};export{Jr as default};
