import{U as W,V as K,j as e,af as Q,B as x,ag as X,ah as Z,ai as L,aj as j,ak as ee,E as I,I as C,ao as se,q as ae,v as A,u as te,A as re,ae as oe,r as m,c as u,hD as le,hE as ce,hF as ne,hG as ie,hH as de,hI as he,hJ as ue,C as xe,n as me,G as p,bI as D,F as H,H as ge,bl as R,T as S,ay as o}from"./index-CpZD2H93.js";var w={},be=K;Object.defineProperty(w,"__esModule",{value:!0});var G=w.default=void 0,je=be(W()),Se=e,Te=(0,je.default)((0,Se.jsx)("path",{d:"M22 5.18 10.59 16.6l-4.24-4.24 1.41-1.41 2.83 2.83 10-10L22 5.18zM12 20c-4.41 0-8-3.59-8-8s3.59-8 8-8c1.57 0 3.04.46 4.28 1.25l1.45-1.45C16.1 2.67 14.13 2 12 2 6.48 2 2 6.48 2 12s4.48 10 10 10c1.73 0 3.36-.44 4.78-1.22l-1.5-1.5c-1 .46-2.11.72-3.28.72zm7-5h-3v2h3v3h2v-3h3v-2h-3v-3h-2v3z"}),"AddTask");G=w.default=Te;function z({ItemList:n,clickAssign:d,HeaderArray:l,MySubject:g}){return e.jsx("div",{children:e.jsx(Q,{component:x,sx:{border:"1px solid lightgrey"},children:e.jsxs(X,{"aria-label":"simple table",children:[e.jsx(Z,{children:e.jsx(L,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:l.map((a,i)=>e.jsx(j,{sx:{textTransform:"capitalize",color:T=>T.palette.common.white,py:1,width:a!=null&&a.width?a==null?void 0:a.width:"auto"},align:a!=null&&a.align?a==null?void 0:a.align:"left",children:e.jsx("b",{children:a.Header})},i))})}),e.jsx(ee,{children:n.map(a=>e.jsxs(L,{children:[e.jsx(j,{sx:{textTransform:"capitalize",py:.5},children:a.Text1}),e.jsx(j,{sx:{textTransform:"capitalize",py:.5},children:a.Text2}),e.jsx(j,{sx:{textTransform:"capitalize",py:.5},align:"center",children:e.jsx(I,{title:"Add Homework",children:e.jsx(C,{sx:{color:"#223354","&:hover":{bgcolor:"grey.300"}},onClick:()=>{d({SubjectId:a.SubjectId,StandardDivisionId:a.StandardDivisionId,SubjectName:a.Text2,StandardDivision:a.Text1},g)},children:e.jsx(se,{})})})})]},a.Id))})]})})})}const pe=()=>{let{ClassTecherId:n,ClassId:d}=ae();n=A(n),d=A(d),console.log(n,"ClassTecherId");const l=te(),g=re(),a=[{Id:1,Header:"Class",width:200},{Id:2,Header:"Subject"},{Id:3,Header:"Assign",width:400,align:"center"}],i=Number(localStorage.getItem("localSchoolId")),T=Number(sessionStorage.getItem("TeacherId")),b=Number(sessionStorage.getItem("AcademicYearId")),_=Number(sessionStorage.getItem("ShowHomeworkToClassTeacher")),E=Number(sessionStorage.getItem("StandardDivisionId")),h=oe("Assign Homework"),[r,F]=m.useState(n||"0");console.log(n,"ClassTecherId",r);const[t,M]=m.useState(h!=="Y"?T:d||"0"),y=u(s=>s.TeacherNameList.TeacherList),v=u(s=>s.TeacherNameList.ClassList),f=u(s=>s.TeacherNameList.SubjectList),N=u(s=>s.TeacherNameList.SubjectList1),Y=u(s=>s.TeacherNameList.IsGetSchoolSettings),B=u(s=>s.TeacherNameList.ISGetSchoolSettingsSubjectL);m.useEffect(()=>{const s={asSchoolId:Number(i)},c={asSchoolId:i,asAcademicYearId:b,asShowHomeworkToClassTeacher:_,aTeacherId:h==="Y"?0:Number(t)},J={asSchoolId:i,asAcademicYearID:b};l(le(s)),l(ce(s)),l(ne(c)),l(ie(J))},[]);const q={asSchoolId:i,asAcademicYearId:b,aTeacherId:Number(t)};m.useEffect(()=>{l(de(q))},[t]),m.useEffect(()=>{if(r==null||t==null)l(he());else{const s={asSchoolId:i,aTeacherId:Number(t),asAcademicYearId:b,asStandardDivisionId:Number(r)};l(ue(s))}},[t,r]);const P=s=>{M(s==""?null:s)},V=s=>{F(s==""?null:s)},U=()=>{let s="";return v.map(c=>{c.Value==r&&(s=c.Name)}),s},O=()=>{let s="";return y.map(c=>{c.Value==t&&(s=c.Name)}),s},k=(s,c)=>{g("/RITeSchool/Teacher/AddHomeworkNew/"+o(t)+"/"+o(O())+"/"+o(s.StandardDivision)+"/"+o(s.SubjectName)+"/"+o(s.SubjectId)+"/"+o(c)+"/"+o(r),{state:{fromInternal:!0}})},$=()=>{g("/RITeSchool/Teacher/AddDailyLog/"+o(r)+"/"+o(U())+"/"+o(t),{state:{fromInternal:!0}})};return e.jsxs(x,{sx:{px:2},children:[e.jsx(xe,{navLinks:[{title:"Assign Homework",path:"/RITeSchool/Teacher/AssignHomework"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(me,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"right",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(p,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(D,{ItemList:y,onChange:P,defaultValue:t==null?void 0:t.toString(),label:"Select Teacher",sx:{width:{xs:"40vw",sm:"20vw"},bgcolor:h==="N"?"#F0F0F0":"inherit"},size:"small",mandatory:!0,DisableClearable:h==="N",disabled:h==="N"})}),e.jsx(p,{item:!0,xs:12,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(D,{ItemList:v,onChange:V,defaultValue:r,label:"Select Class:",sx:{width:{xs:"40vw",sm:"20vw"}},size:"small",mandatory:!0})}),e.jsxs(p,{item:!0,xs:12,sm:6,gap:1,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:[e.jsx(I,{title:"List the class subjects for homework assignment.",children:e.jsx(C,{sx:{color:"white",backgroundColor:H[500],"&:hover":{backgroundColor:H[500]}},children:e.jsx(ge,{})})}),r&&(E===Number(r)&&h==="Y"||f.some(s=>s.Text5==="Y")&&Y==="true")&&e.jsx(x,{children:e.jsx(I,{title:"Manage Daily Log",children:e.jsx(C,{onClick:$,sx:{color:"white",backgroundColor:R[500],"&:hover":{backgroundColor:R[600]}},children:e.jsx(G,{})})})})]})]})})}),e.jsxs(x,{sx:{p:2,background:"white",display:"flex",flexDirection:"column"},children:[e.jsxs(x,{children:[e.jsxs(S,{variant:"h4",mb:1,children:[" ","My Subjects"," "]}),f.length>0?e.jsx(z,{ItemList:f,clickAssign:k,HeaderArray:a,MySubject:!0}):e.jsx(S,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})]}),B=="True"&&e.jsxs(x,{mt:2,children:[e.jsxs(S,{variant:"h4",mb:1,children:[" ","My Class Subjects"," "]}),N.length>0?e.jsx(z,{ItemList:N,clickAssign:k,HeaderArray:a,MySubject:!1}):e.jsx(S,{variant:"body1",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})})]})]})]})};export{pe as default};
