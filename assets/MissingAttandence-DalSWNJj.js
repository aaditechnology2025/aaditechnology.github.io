import{P as c,S as j,h as p,j as e,G as l,q as F,v as x,u as y,A as w,r as i,c as I,g$ as h,B as C,gB as L}from"./index-CpZD2H93.js";import{E as s}from"./ErrorMessages-Cl09dz4o.js";import{B as M}from"./BackButton-D8aQMrwN.js";import{D as B}from"./DateSelector-CMUBXQs5.js";import{P}from"./PageHeader-C9ChZO91.js";import{L as R,f as T}from"./CardStyle-CBuNm0_N.js";import"./ArrowRight-CUT45HBv.js";/* empty css                       */import"./ButtonStyle-DAEB_dBE.js";import"./Card-B0aZ7mGs.js";S.propTypes={Class:c.string,Status:c.string,getAttendance:c.array};function S({Class:a}){return j(),p(),e.jsx(R,{children:e.jsx(l,{container:!0,children:e.jsx(l,{item:!0,xs:10,children:e.jsx(T,{children:a})})})})}function z(){let{assignedDate:a,StandardId:o}=F();a=x(a),o=x(o);const u=y();w(),j(),p();const[d,A]=i.useState(a),g=t=>{A(L(t))},n=I(t=>t.MissingAttandence.MissingAttandenceList),f=localStorage.getItem("localSchoolId"),m={asAcademicYearId:sessionStorage.getItem("AcademicYearId"),asSchoolId:f,asDate:d};i.useEffect(()=>{u(h(m))},[]),i.useEffect(()=>{u(h(m))},[d]);const D=new Date(d),E=new Date;return e.jsx(e.Fragment,{children:e.jsxs(C,{sx:{px:2},children:[e.jsx(P,{heading:"Missing Attendance",subheading:""}),e.jsx(l,{container:!0,direction:"row",children:e.jsx(M,{FromRoute:"/Teacher/TAttendance/"+a+"/"+o})}),e.jsx(B,{date:d,setCurrentDate:g,Close:g}),D>E?e.jsx(s,{Error:"Future date attendance is not allowed."}):n.length<1||n==null||n.daywiseAttendanceStatusResult.length<1?e.jsx(s,{Error:"No missing attendance found."}):n.daywiseAttendanceStatusResult.map((t,r)=>e.jsxs("div",{children:[" ",r===0&&t.Status=="A"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Attendance date should be within the current academic year"})}):r===0&&t.Status=="W"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Selected date is weekend."})}):r===0&&t.Status=="H"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Selected date is holiday."})}):r===0&&t.Status=="F"?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"Future date attendance cannot be viewed."})}):n.daywiseAttendanceStatusResult.length<1?e.jsx(e.Fragment,{children:e.jsx(s,{Error:"No missing attendance found."})}):e.jsx(e.Fragment,{children:e.jsx(S,{Class:t.Class},r)})]},r))]})})}export{z as default};
