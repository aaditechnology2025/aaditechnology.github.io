import{u as R,c as d,r as t,g7 as k,g8 as E,g9 as N,ga as v,gb as G,j as e,B as p,gc as L}from"./index-CpZD2H93.js";import{B as U}from"./BackButton-D8aQMrwN.js";import{D as S}from"./Dropdown-AVnwFZWJ.js";import{P as V}from"./PageHeader-C9ChZO91.js";import{B as O}from"./ButtonStyle-DAEB_dBE.js";import{C as H}from"./Card-B0aZ7mGs.js";function X(){const l=R(),F=d(a=>a.Fees.AcademicYearsforFeeChallan),C=d(a=>a.Fees.AllFeeTypesForChallanImport),g=d(a=>a.Fees.AllPayableforChallan),c=d(a=>a.Fees.FileNameForSNSChallan),h=d(a=>a.Fees.DetailsForChallanImport),r=localStorage.getItem("localSchoolId"),n=sessionStorage.getItem("AcademicYearId"),u=sessionStorage.getItem("StandardDivisionId"),m=sessionStorage.getItem("StudentId"),I=sessionStorage.getItem("StandardId");let y=localStorage.getItem("SiteURL")+c;const[o,f]=t.useState(""),[s,A]=t.useState(""),[i,x]=t.useState(""),b=a=>{f(a)},j=a=>{A(a)},P=a=>{x(a)},Y={aiSchoolId:r,aiAcademicYearId:n,aiStudentId:m},B={aiSchoolId:r,aiSelectedAcademicYearId:n,aiStandardDivisionId:u,aiStandardId:I},D={aiSchoolId:r,aiAcademicYearId:n,aiStandardId:I,aiOriginalFeeTypeId:s},T={aiSchoolId:r,aiAcademicYearId:n,aiStudentId:m,aiSelectedAcademicYearId:o};t.useEffect(()=>{l(k(Y)),l(E(B))},[]),t.useEffect(()=>{l(N(D))},[s]),t.useEffect(()=>{l(v(T))},[o]),t.useEffect(()=>{c!==""&&(window.open(y),l(G()))},[c]);const w=()=>{const a={aiSchoolId:r,aiAcademicYearId:n,aiStandardId:h.StandardId,aiStandardDivisionId:h.StandardDivisionId,aiSchoolwiseStudentId:h.SchoolwiseStudentId,aiFeeTypeId:s,asPayableFor:i,aiSelectedAcademicYearId:o};o!==""&&s!==""&&i!==""&&l(L(a))};return e.jsxs(p,{sx:{px:2},children:[e.jsx(V,{heading:"Generate Challan"}),e.jsx(U,{FromRoute:"/Student/Fees"}),e.jsxs(H,{component:p,p:2,children:[e.jsx(S,{Array:F,handleChange:b,label:"Academic Year",defaultValue:o}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(S,{Array:C,handleChange:j,label:"Select School Type",defaultValue:s}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(S,{Array:g,handleChange:P,label:"Select Payable",defaultValue:i}),e.jsx("br",{})," ",e.jsx("br",{}),e.jsx(O,{onClick:w,color:o!==""&&s!==""&&i!==""?"primary":"warning",children:"Generate"})]})]})}export{X as default};
