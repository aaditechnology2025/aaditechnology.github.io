import{j3 as ts,A as as,q as rs,v as S,r,ar as ls,c as i,kL as ds,kM as ns,kN as is,kO as os,kP as cs,kQ as ps,kR as xs,kS as ms,kT as us,kU as Ss,j as e,B as F,C as hs,n as C,G as o,bI as L,E as Ts,I as js,F as me,H as fs,T as n,af as ue,c1 as Se,ag as he,ah as Te,ai as P,aj as j,ak as je}from"./index-CpZD2H93.js";import{R as gs}from"./RadioButton1-Bomg8HHo.js";import{D as fe}from"./DynamicList2-CNt-YSsD.js";import{G as ge,S as Ie,B as be}from"./silver-medal-Co1Ddjhs.js";import{S as Ce,a as w}from"./index-vlTKwxOR.js";import"./ButtonStyle-DAEB_dBE.js";import"./RadioGroup-DpIwLy2j.js";import"./Radio-IVxzoZco.js";import"./FormGroup-C5-m8U5s.js";const ks=()=>{const m=ts();as();let{TeacherId:_,StandardDivisionId:E,TestId:I,standardId:Z,examtopperProp:B,IsReadOnly:O,AcademicYear:l,LatestExamId:f,LatestExamId1:J,Studentid:U}=rs();_=S(_),E=S(E),I=S(I),Z=S(Z),B=S(B),O=S(O),l=S(l),f=S(f),J=S(J),U=S(U);const[c,ee]=r.useState(E??"0"),[b,A]=r.useState(I??""),[H,Le]=r.useState("0");r.useState();const[p,q]=r.useState("0"),[g,Q]=r.useState("0"),[M,we]=r.useState("0");r.useState(!0);const[d,Ee]=r.useState("1"),[se,y]=r.useState("");JSON.parse(sessionStorage.getItem("SchoolConfiguration")),JSON.parse(sessionStorage.getItem("ScreensAccessPermission"));const[R,W]=r.useState("0");let N=ls(78);const Ne=[{Value:"1",Name:"Class Toppers"},{Value:"2",Name:"Standard Toppers"}],ye=["Rank","Roll No.","Student Name","Marks"],Re=["Rank","Class","Roll No.","Student Name","Marks"],h=Number(localStorage.getItem("localSchoolId")),T=Number(sessionStorage.getItem("AcademicYearId"));Number(sessionStorage.getItem("TeacherId"));const ke="Displays the first three class / standard toppers as well as subject toppers of your class / standard for the selected exam",[ve,te]=r.useState([]),[De,ae]=r.useState([]),[Be,re]=r.useState([]),[Ae,le]=r.useState([]),He=i(s=>s.Toppers.LatestExamIdCT);i(s=>s.Toppers.LatestExamIdST);const k=i(s=>s.Toppers.ClassDropdownList),u=i(s=>s.Toppers.ExamDropdownListCT),Me=i(s=>s.Toppers.SubjectDropdownListCT),V=i(s=>s.Toppers.ClassToppersList),G=i(s=>s.Toppers.ClassSubjectToppersList),Y=i(s=>s.Toppers.StandardDropdownList),v=i(s=>s.Toppers.ExamDropdownListST),Ve=i(s=>s.Toppers.SubjectDropdownListST),$=i(s=>s.Toppers.StandardToppersList),z=i(s=>s.Toppers.StandardSubjectToppersList);r.useEffect(()=>{d=="1"&&c!=="0"?m(ds(de)):d=="2"&&p!=="0"&&m(ns($e))},[c,p]),r.useEffect(()=>{te(G)},[G]),r.useEffect(()=>{le(z)},[z]),r.useEffect(()=>{ae($)},[$]),r.useEffect(()=>{re(V)},[V]);const Ge=()=>{let s="0";return k.map(t=>{t.Value==c&&(s=t.Id)}),s},[Ye,K]=r.useState(!0);r.useEffect(()=>{d=="1"?m(is(ze)):d=="2"&&m(os(_e))},[d,l]),r.useEffect(()=>{k.length>0&&d=="1"&&c=="0"&&ee(k[0].Value),Y.length>0&&d=="2"&&(p=="0"&&q(Y[0].Value),q(Ge()))},[k,Y,l]),r.useEffect(()=>{d=="1"&&c!=="0"?(m(cs(de)),Q(g)):d=="2"&&p!="0"&&(m(ps(Oe)),A(b))},[d,c,p,l]),r.useEffect(()=>{let s="0";if(u.length>0&&d=="1"){Ye?s=I??(f||u[0].Value):N=="Y"?u[0].Value==="-1"?s=f||u[0].Value:s=He:s=g,A(s);const t=u.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))}if(v.length>0&&d=="2"){N=="Y"?s=f||u[0].Value:s=b,Q(s);const t=v.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))}},[u,v,l]),r.useEffect(()=>{d=="1"&&m(xs(Fe))},[b,l]),r.useEffect(()=>{m(ms(Pe))},[c,b,H]),r.useEffect(()=>{d=="2"&&m(us(Je))},[g,l]),r.useEffect(()=>{m(Ss(Ue))},[p,g,M,l]),r.useEffect(()=>{re(V.map(s=>({...s,IsHighlightStudent:s.Id==R}))),ae($.map(s=>({...s,IsHighlightStudent:s.Id==R}))),te(G.map(s=>({...s,Students:s.Students.map(t=>({...t,IsHighlightStudent:t.Id==R}))}))),le(z.map(s=>({...s,Students:s.Students.map(t=>({...t,IsHighlightStudent:t.Id==R}))})))},[R]);const $e={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:null,asStandardId:Number(p)},ze={asSchoolId:h,asAcademicYearId:Number(l||T),IsStandardList:!1},de={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:Number(c),asStandardId:0},Fe={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:Number(c),asStandardId:null,asTestId:Number(b)},Pe={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:Number(c),asStandardId:null,asTestId:Number(b),asSubjectId:Number(H)},_e={asSchoolId:h,asAcademicYearId:Number(l||T),IsStandardList:!0},Oe={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:0,asStandardId:Number(p)},Je={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:null,asStandardId:Number(p),asTestId:Number(g)},Ue={asSchoolId:h,asAcademicYearId:Number(l||T),asStandardDivId:0,asStandardId:Number(p),asTestId:Number(g),asSubjectId:Number(M)},qe=s=>{ee(s),K(!1)},Qe=s=>{A(s);const t=u.find(a=>a.Id===s);t&&y(t.Name.replaceAll("-",""))},We=s=>{Le(s)},Ke=s=>{q(s),K(!1)},ne=s=>{Q(s);const t=v.find(a=>a.Id===s);t&&(y(t.Name.replaceAll("-","")),A(s))},Xe=s=>{we(s)},Ze=s=>{Ee(s),W("0"),y(""),K(!1)},ie=s=>{d==="1"&&H=="0"||d==="2"&&M=="0"?W(s):W("0")},oe=ve.reduce((s,t)=>(s[t.Subject]||(s[t.Subject]=[]),s[t.Subject].push(t),s),{}),ce=Ae.reduce((s,t)=>(s[t.Subject]||(s[t.Subject]=[]),s[t.Subject].push(t),s),{}),pe={title:"Exam Results",path:"/RITeSchool/Teacher/ExamResultBase/"+E+"/"+I},xe={title:"Final Result ",path:"/RITeSchool/Teacher/FinalResult/"+E},es=()=>J?[{title:"Progress Report",path:"/RITeSchool/Teacher/ProgressReportNew/"+l+"/"+U+"/"+_},{title:`${d==="1"?"Class Toppers":"Standard Toppers"}`}]:O?B==="true"?[xe,{title:`${d==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/FinalResultToppers/"}]:[pe,{title:`${d==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/ExamResultToppers/"}]:B==="true"?[xe,{title:`${d==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/FinalResultToppers/"}]:[pe,{title:`${d==="1"?"Class Toppers":"Standard Toppers"}`,path:"/RITeSchool/Teacher/ExamResultToppers/"}];return e.jsxs(F,{sx:{px:2},children:[e.jsx(hs,{navLinks:es(),rightActions:e.jsx(e.Fragment,{children:e.jsxs(C,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"left",gap:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[d==="1"?e.jsxs(e.Fragment,{children:[e.jsxs(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:[N=="Y"&&e.jsx(L,{sx:{width:{xs:"40vw",sm:"10vw"}},ItemList:k,onChange:qe,defaultValue:c,size:"small",label:"Select Class"})," "]}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{sx:{width:{xs:"60vw",sm:"20vw"}},ItemList:u,onChange:Qe,defaultValue:b,size:"small",label:"Select Exam"})}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{sx:{width:{xs:"60vw",sm:"15vw"}},ItemList:Me,onChange:We,defaultValue:H,size:"small",label:"Subject"})})]}):e.jsxs(e.Fragment,{children:[e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="Y"&&e.jsx(L,{label:"Select Standard",sx:{width:{xs:"40vw",sm:"10vw"}},ItemList:Y,onChange:Ke,defaultValue:p,size:"small"})}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="Y"&&e.jsx(L,{ItemList:v,sx:{width:{xs:"60vw",sm:"20vw"}},onChange:ne,defaultValue:g,label:"Select Exam",size:"small"})}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:N=="N"&&e.jsx(L,{ItemList:u,sx:{width:{xs:"60vw",sm:"15vw"}},onChange:ne,defaultValue:g,label:"Select Exam",size:"small"})}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(L,{ItemList:Ve,sx:{width:{xs:"40vw",sm:"15vw"}},onChange:Xe,defaultValue:M,label:"Subject",size:"small"})})]}),e.jsx(o,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(Ts,{title:ke,children:e.jsx(js,{sx:{color:"white",backgroundColor:me[500],"&:hover":{backgroundColor:me[500]}},children:e.jsx(fs,{})})})})]})})}),e.jsxs(F,{sx:{px:2,pt:1,background:"white",paddingBottom:4},children:[e.jsx(gs,{Array:Ne,ClickRadio:Ze,defaultValue:d,Label:""}),d==="1"?e.jsxs(F,{children:[V.length>0?e.jsxs("div",{children:[e.jsx(n,{variant:"h4",my:2,children:se}),e.jsx(fe,{HeaderList:ye,ItemList:Be,IconList:[],ClickItem:ie})]}):e.jsx(n,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})}),G.length>0&&e.jsx(n,{variant:"h4",my:2,children:"Subject Toppers"}),e.jsx(o,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row"},children:Object.keys(oe).map((s,t)=>e.jsx(o,{item:!0,xs:12,sm:12,md:6,children:e.jsx(ue,{component:Se,children:e.jsxs(he,{"aria-label":"simple table",sx:{border:a=>`1px solid ${a.palette.grey[300]}`},children:[e.jsxs(Te,{children:[e.jsx(P,{children:e.jsx(j,{colSpan:3,children:e.jsx(n,{variant:"h4",children:s})})}),e.jsxs(Ce,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:[e.jsx(w,{children:"Rank"}),e.jsx(w,{align:"center",children:"Roll No."}),e.jsx(w,{children:"Student Name"})]})]}),e.jsx(je,{children:oe[s].map((a,X)=>a.Students.map((x,D)=>e.jsxs(P,{children:[D===0&&e.jsxs(j,{rowSpan:a.Students.length,sx:{width:"220px",borderRight:ss=>`1px solid ${ss.palette.grey[300]}`},children:[a.Rank_Image==="~/RITeSchool/images/Number1.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:ge,width:"40",alt:"Gold Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number2.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Ie,width:"40",alt:"Silver Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number3.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:be,width:"40",alt:"Bronze Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]})]}),e.jsx(j,{sx:{py:1,color:x.IsHighlightStudent?"red":""},align:"center",children:x.Text1}),e.jsx(j,{sx:{py:1,color:x.IsHighlightStudent?"red":""},children:x.Text2})]},`${t}-${X}-${D}`)))})]})})},t))})]}):e.jsxs(F,{children:[$.length>0?e.jsxs("div",{children:[e.jsx(n,{variant:"h4",my:2,children:se}),e.jsx(fe,{HeaderList:Re,ItemList:De,IconList:[],ClickItem:ie})]}):e.jsx(n,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No record found."})}),z.length>0&&e.jsx(n,{variant:"h4",my:2,children:"Subject Toppers"}),e.jsx(o,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row"},children:Object.keys(ce).map((s,t)=>e.jsx(o,{item:!0,xs:12,sm:12,md:6,children:e.jsx(ue,{component:Se,children:e.jsxs(he,{children:[e.jsxs(Te,{children:[e.jsx(P,{children:e.jsx(j,{colSpan:3,children:e.jsx(n,{variant:"h4",children:s})})}),e.jsxs(Ce,{children:[e.jsx(w,{children:"Rank"}),e.jsx(w,{children:"Class"}),e.jsx(w,{align:"center",children:"Roll No."}),e.jsx(w,{children:"Student Name"})]})]}),e.jsx(je,{children:ce[s].map((a,X)=>a.Students.map((x,D)=>e.jsxs(P,{children:[D===0&&e.jsxs(j,{rowSpan:a.Students.length,children:[a.Rank_Image==="~/RITeSchool/images/Number1.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:ge,width:"40",alt:"Gold Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number2.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:Ie,width:"40",alt:"Silver Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]}),a.Rank_Image==="~/RITeSchool/images/Number3.gif"&&e.jsxs(C,{direction:"row",alignItems:"center",gap:2,children:[e.jsx("img",{src:be,width:"40",alt:"Bronze Medal"}),e.jsx(n,{variant:"h3",children:a.Marks})]})]}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":"",pl:"2px"},align:"center",children:x.Text3}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":""},align:"center",children:x.Text1}),e.jsx(j,{sx:{color:x.IsHighlightStudent?"red":""},children:x.Text2})]},`${t}-${X}-${D}`)))})]})})},t))})]})]})]})};export{ks as default};
