import{j as e,B as i,T as x,D,u as I,A as b,c,r as p,ab as h,q as v,v as S,fz as k,bV as P,l as R,ay as g}from"./index-CpZD2H93.js";import{E as B}from"./ErrorMessages-Cl09dz4o.js";import{P as C}from"./PageHeader-C9ChZO91.js";import{L as E}from"./CardStyle-CBuNm0_N.js";import{B as L}from"./ButtonStyle-DAEB_dBE.js";import{T as V,a as m}from"./ToggleButtonGroup-Cn-xBBV5.js";import"./Card-B0aZ7mGs.js";function A({item:s,variant:o="body2",IsDivider:n=!1}){let a="tel:"+s.Text2;return e.jsxs("div",{children:[e.jsxs(i,{display:"flex",justifyContent:"space-between",sx:{backgroundColor:s.IsActive?"secondary":"primary"},p:.5,children:[e.jsx(x,{variant:o==="body2"?"body2":"h5",gutterBottom:!0,children:s.Text1}),e.jsx(x,{variant:o==="body2"?"body2":"h5",children:s.IsDial?e.jsx("a",{href:a,children:s.Text2}):s.Text2})]}),n&&e.jsx(D,{sx:{background:"#5b5258",my:"3px",height:"0.5px"}})]})}function M({itemList:s,Selected:o=!1}){return e.jsx(E,{component:i,p:1,my:1,color:o?"info":"primary",children:s.map((n,a)=>e.jsx(A,{item:n,variant:a===0?"h5":"body2",IsDivider:a===0},a))})}function H(){const s=I(),o=b(),n=c(t=>t.TransportDetails.RouteDetails);c(t=>t.TransportDetails.StopDetails),c(t=>t.TransportDetails.OtherTrackingDetails);const a=c(t=>t.TransportDetails.Loading);p.useState(!0);const[r,d]=h.useState("1"),[f,U]=h.useState(!1),T=(t,u)=>{u!=null&&d(u)};let{PickDrop:l}=v();l=S(l),p.useEffect(()=>{d(l==="Drop Vehicle Tracking"?"2":"1")},[]),p.useEffect(()=>{const t={aiUserId:parseInt(sessionStorage.getItem("Id")),aiSchoolId:parseInt(localStorage.getItem("localSchoolId")),aiAcademicYearId:parseInt(sessionStorage.getItem("AcademicYearId")),aiTypeId:parseInt(r)};s(k(t))},[r,f]);const j=r==="1"?"Pick-up Vehicle Tracking":"Drop Vehicle Tracking",y=()=>{o("/RITeSchool/Student/TransportDetails/Map/"+g(j)+"/"+g(r))};return e.jsxs(i,{sx:{px:2},children:[e.jsx(C,{heading:"Transport Details",subheading:""}),e.jsx(i,{sx:{display:"flex",justifyContent:"space-between",mb:"25px"},children:e.jsxs(V,{value:r,exclusive:!0,onChange:T,sx:{mb:.5},children:[e.jsx(m,{value:"1",children:"Pick-up"}),e.jsx(m,{value:"2",children:"Drop"})]})}),e.jsx(P,{in:!0,style:{transformOrigin:"0 0 0"},timeout:1500,children:e.jsx(i,{children:a?e.jsx(R,{}):n.length===0?e.jsx(B,{Error:(r==="1"?"Pick-up ":"Drop")+" is not associated yet"}):e.jsxs(e.Fragment,{children:[e.jsx(M,{itemList:n}),e.jsxs(L,{onClick:y,sx:{mt:"25px",float:"right"},children:[r==="1"?"Pick-up":"Drop"," Vehicle Tracking"]})]})})})]})}export{H as default};
