import{U as B,V as R,j as e,u as E,c as S,r as s,cA as U,a6 as g,a0 as O,a3 as _,a5 as G,a9 as L,cD as M,t as h,cE as z}from"./index-CpZD2H93.js";import{S as Y}from"./SingleFile-VnBjWcb-.js";import{B as q}from"./ButtonStyle-DAEB_dBE.js";import"./CloudUpload-C2WsbpCZ.js";import"./Errormessage-DVJGTehf.js";var r={},w=R;Object.defineProperty(r,"__esModule",{value:!0});var p=r.default=void 0,J=w(B()),T=e,V=(0,J.default)((0,T.jsx)("path",{d:"M14.59 8 12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}),"HighlightOff");p=r.default=V;const X=()=>{const l=E();S(t=>t.AddPlanner.AddAnnual);const o=S(t=>t.AddPlanner.getfile),x=["PDF","JPG","PNG","BMP","JPEG"],I=3e6,[F,d]=s.useState(!1),[a,b]=s.useState(""),[i,j]=s.useState("");s.useState(!0);const n=sessionStorage.getItem("AcademicYearId"),c=localStorage.getItem("localSchoolId"),D=localStorage.getItem("Id"),u=localStorage.getItem("SiteURL");u.split("/")[u.split("/").length-1];const P={asSchoolId:Number(c),asAcademicYearId:Number(n),asSaveFeature:"Event Planner",asFileName:a,asFolderName:"PPSN Website",asBase64String:i,asUpdatedById:Number(D)},A={asSchoolId:Number(c),asAcademicYearId:Number(n)};s.useEffect(()=>{l(U(A))},[]),s.useEffect(()=>{},[o]);const N={asSchoolId:Number(c),asAcademicYearId:Number(n)},v=()=>{d(!0)},m=()=>{d(!1)},C=t=>{b(t.Name),j(t.Value)},f=()=>{o!==""&&window.open(localStorage.getItem("SiteURL")+"/RITeSchool/DOWNLOADS/Event%20Planner/"+o[0].LinkUrl)},y=()=>{a.length!==0&&i.length!==0&&(l(M(P)),h.success("File uploaded successfully.",{toastId:"success1"}))},k=t=>{confirm("Are You Sure you want to delete The File")&&(l(z(N)),h.success("File deleted successfully",{toastId:"success1"}))};return e.jsxs("div",{children:[e.jsx("br",{}),e.jsx("br",{}),e.jsx("br",{}),e.jsx(g,{variant:"outlined",onClick:v,children:"Add Annual Planner"}),e.jsxs(O,{open:F,onClose:m,children:[e.jsxs(_,{children:[e.jsx(Y,{ValidFileTypes:x,MaxfileSize:I,ChangeFile:C,errorMessage:"",filePath:f.toString(),FileName:a}),e.jsx("h6",{children:"(Supports only .PDF, .PNG and .JPG file type. File size should not exceed 2 MB.)"})," "]}),e.jsxs(G,{children:[e.jsx(L,{onClick:f}),e.jsx(p,{onClick:k}),e.jsx(q,{disabled:!(a.length!==0&&i.length!==0),onClick:y,children:"Submit"}),e.jsx(g,{variant:"outlined",color:"error",onClick:m,autoFocus:!0,size:"small",children:"Close"})]})]})]})};export{X as default};
