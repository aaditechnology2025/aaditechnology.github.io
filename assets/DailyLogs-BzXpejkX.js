import{u as L,q as E,v as h,c as p,r as n,g6 as F,j as e,B as x,l as Y,T as B}from"./index-CpZD2H93.js";import{d as N}from"./FileDownloadOutlined-sbCx2Lz_.js";import{E as C}from"./ErrorMessages-Cl09dz4o.js";import{B as P}from"./BackButton-D8aQMrwN.js";import{M as _}from"./MonthSelector-CPfriGlj.js";import{P as A}from"./PageHeader-C9ChZO91.js";import{C as R}from"./Card-B0aZ7mGs.js";import"./ArrowRight-CUT45HBv.js";function J(){const f=L();let{DateFrommon:r,DateFromyear:a}=E();r=h(r),a=h(a);const S=localStorage.getItem("localSchoolId"),w=sessionStorage.getItem("AcademicYearId"),j=sessionStorage.getItem("StandardDivisionId"),g=p(t=>t.HomeworkNew.HomeworkDailyLogs),y=p(t=>t.HomeworkNew.Loading),[c,I]=n.useState({selectedDate:null}),[M,d]=n.useState(),[l,u]=n.useState();function m(t){const o=t||new Date,i=new Date(o).toLocaleString("en-US",{month:"short"}),s=new Date(o).getMonth(),D=new Date(o).getFullYear(),H=`${i} ${D}`;I({selectedDate:H}),d(a),d(D),u(s+1)}n.useEffect(()=>{localStorage.setItem("url",window.location.pathname),m()},[]),n.useEffect(()=>{(r||a!=null)&&(u(r),d(a))},[r,a]),n.useEffect(()=>{l!==void 0&&f(F({aiSchoolId:S,aiAcademicYearId:w,aiStandardDivisionId:j,aiMonthId:l,asYear:M}))},[l]);const v=()=>{const{selectedDate:t}=c,o=t.includes("-")?t.split("-"):t.split(" "),i=Date.parse(o[0]+"01,"+o[1]),s=new Date(i);s.setMonth(s.getMonth()-1),m(s)},k=()=>{const{selectedDate:t}=c,o=t.includes("-")?t.split("-"):t.split(" "),i=Date.parse(o[0]+"01,"+o[1]),s=new Date(i);s.setMonth(s.getMonth()+1),m(s)};return e.jsx("div",{children:e.jsxs(x,{sx:{px:2},children:[e.jsx(P,{FromRoute:"/Student/Homework"}),e.jsx(A,{heading:"Daily Logs",subheading:""}),e.jsx(_,{date:c.selectedDate,PrevDate:v,NextDate:k,Close:void 0}),y?e.jsx(Y,{}):e.jsx(e.Fragment,{children:g.length===0?e.jsx(e.Fragment,{children:e.jsx(C,{Error:"No records found"})}):e.jsx(e.Fragment,{children:g.map((t,o)=>e.jsx("div",{children:e.jsxs(R,{sx:{display:"flex",justifyContent:"space-between"},component:x,mt:o===0?-.5:1,p:1,children:[e.jsx(B,{mt:.5,children:t.Header}),e.jsx("a",{href:localStorage.getItem("SiteURL")+t.Text1,rel:"noreferrer",target:"_blank",style:{textDecoration:"none"},children:e.jsx(N,{})})]})},o))})})]})})}export{J as default};
