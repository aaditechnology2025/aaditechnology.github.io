import{q as v,v as S,u as G,r as a,ar as O,c as t,lA as L,nk as X,j as s,B as i,C as B,bI as E,T as P,af as z,ag as j,ah as H,ai as m,aj as o,ak as y}from"./index-CpZD2H93.js";import{S as V,a as _,C as q,N as K,X as J}from"./XseedRemarks-BBn1recT.js";const $=()=>{let{Assessment:l,YearwiseStudentId:n,StandardId:d}=v();l=S(l),n=S(n),d=S(d);const u=G();a.useState("-1"),a.useState();const[p,A]=a.useState(l);O(164);const h=Number(sessionStorage.getItem("AcademicYearId")),x=Number(localStorage.getItem("localSchoolId"));Number(localStorage.getItem("UserId")),Number(sessionStorage.getItem("StandardDivisionId")),t(e=>e.PreprimaryProgressReport.ISAllPrimaryClassTeacherss).filter(e=>e.Is_PrePrimary==="Y"),t(e=>e.PreprimaryProgressReport.ISlistStudentNameDetails),t(e=>e.PreprimaryProgressReport.ISlistAssessmentDetailss);const g=t(e=>e.PreprimaryProgressReport.ISAssessmentPublishStatus);g.map(e=>e.AssessmentPublishStatus);const b=g.map(e=>e.StudentWiseAssessmentPublishStatus);t(e=>e.PreprimaryProgressReport.ISFillStandardwiseSubjects);const R=t(e=>e.PreprimaryProgressReport.ISFillSubjectSections),F=t(e=>e.PreprimaryProgressReport.ISFillSchoolDetails),D=t(e=>e.PreprimaryProgressReport.ISFillGradeDetails),f=t(e=>e.PreprimaryProgressReport.ISFillXseedRemarks),C=t(e=>e.PreprimaryProgressReport.ISFillNonXseedSubjectGrades),c=t(e=>e.PreprimaryProgressReport.ISFillStudentDetails),I=t(e=>e.PreprimaryProgressReport.ISFillStudentAttendance),Y=D.filter(e=>e.ConsideredAsAbsent!=="1"&&e.ConsideredAsExempted!=="1").sort((e,r)=>parseInt(e.SortOrder)-parseInt(r.SortOrder)),w=t(e=>e.PreprimaryProgressReport.ISFillStudentsLearningOutcomes),U=t(e=>e.PreprimaryProgressReport.ISFillStudentsLearningOutcomeObservations),N=t(e=>e.Studentwiseprogress.ISAssessmentDropdown),T={asSchoolId:x,asAcademicYearId:h,asStandardDivisionId:Number(n),asYearwiseStudentId:Number(d),asAssessmentId:p},W={asAcademicYearId:Number(h),asSchoolId:Number(x)},k=e=>{A(e)};return a.useEffect(()=>{u(L(W))},[]),a.useEffect(()=>{u(X(T))},[n,d,p]),s.jsxs(i,{sx:{px:2},children:[s.jsx(B,{navLinks:[{title:"Student Wise Progress Report ",path:"/RITeSchool/Teacher/StudentwiseProgressReport"},{title:" Progress Report ",path:""}],rightActions:s.jsx(s.Fragment,{children:s.jsx(E,{sx:{minWidth:"15vw"},ItemList:N,onChange:k,label:"Assessment:",defaultValue:l,mandatory:!0,size:"small"})})}),s.jsxs(i,{children:[c.length>0&&b=="Y"?c.map(e=>s.jsxs(i,{border:"1px solid grey",mb:4,sx:{px:2,background:"white"},children:[s.jsx(V,{USFillSchoolDetails:F}),s.jsx(_,{USFillStudentDetails:c.filter(r=>r.YearWiseStudentId==e.YearWiseStudentId),presentCount:I.filter(r=>r.YearwiseStudentId==e.YearWiseStudentId&&r.IsPresent=="true").length,totalCount:I.filter(r=>r.YearwiseStudentId==e.YearWiseStudentId).length}),s.jsxs("div",{children:[s.jsx(P,{variant:"h4",textAlign:"left",color:"#38548a",mt:2,children:"Key to Curricular and Co-Curricular"}),s.jsx(z,{component:i,children:s.jsxs(j,{"aria-label":"simple table",sx:{border:"1px solid lightgrey"},children:[s.jsx(H,{children:s.jsxs(m,{sx:{background:r=>r.palette.secondary.main,color:r=>r.palette.common.white},children:[s.jsx(o,{sx:{textTransform:"capitalize",color:r=>r.palette.common.white,py:1},children:"Grade Name"}),s.jsx(o,{sx:{textTransform:"capitalize",color:r=>r.palette.common.white,py:1},children:"Description"})]})}),s.jsx(y,{children:Y.map(r=>s.jsxs(m,{children:[s.jsx(o,{sx:{py:1},children:r.Name}),s.jsx(o,{sx:{py:1},children:r.Description})]},r.GradeId))})]})}),s.jsx(i,{mt:1,children:s.jsx(j,{"aria-label":"simple table",sx:{border:"1px solid lightgrey"},children:s.jsx(y,{children:s.jsx(m,{sx:{bgcolor:"#F0F0F0",border:"1px solid lightgrey"},children:s.jsxs(o,{sx:{textAlign:"left",py:1,color:"black",p:1},children:[s.jsx("b",{children:"Note :  "})," Ab - Absent        Ex - Exempted "]})})})})})]}),s.jsx(q,{USFillStudentsLearningOutcomes:w.filter(r=>r.YearwiseStudentId==e.YearWiseStudentId),USFillSubjectSections:R,FillStudentsLearningOutcomeObservations:U}),s.jsx(K,{USFillNonXseedSubjectGrades:C.filter(r=>r.YearwiseStudentId==e.YearWiseStudentId)}),s.jsx(J,{USFillXseedRemarks:f.filter(r=>r.YearWiseStudentId==e.YearWiseStudentId)})]},e.YearWiseStudentId)):null,b=="N"?s.jsx(P,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:s.jsx("b",{children:"Assessment result is not available for this student."})}):s.jsx("span",{})]})]})};export{$ as default};
