import{cc as y,j as t,u as ne,A as ae,r as s,c as w,no as re,np as ie,B as a,C as le,n as B,G as de,o as ce,he as xe,E as T,I as m,T as M,af as he,ag as ue,ah as pe,ai as z,aj as o,ak as ge,ap as b,nq as G,av as Se}from"./index-CpZD2H93.js";import{d as fe}from"./ArrowCircleUp-C3u-oYJu.js";import{L as je}from"./Legend-BBFIM_kK.js";import{Q as Ie}from"./QuestionMark-B_7MKkiz.js";import{E as Te}from"./EditTwoTone-7ouzJGDn.js";const me=y(t.jsx("path",{d:"M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"}),"Done"),be=y(t.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),F=y(t.jsx("path",{d:"M3 3h18v18H3z"}),"Square"),ye=()=>{var A;const u=ne(),H=ae(),[d,v]=s.useState("0"),[p,D]=s.useState("0"),[g,C]=s.useState("0"),[W,N]=s.useState("0"),[_,Y]=s.useState("Roll_No"),[S,E]=s.useState(!0),[c,L]=s.useState(1),[x,$]=s.useState(0),[R,U]=s.useState("Roll_No"),[r,q]=s.useState(20),J=[20,50,100,200],V=(c-1)*r+1,P=Math.min(c*r,x),Q=Math.ceil(x/r),f=localStorage.getItem("SchoolId"),j=sessionStorage.getItem("AcademicYearId"),k=sessionStorage.getItem("TeacherId"),n=w(e=>e.Students.ISRGetStdDivForTeacher),h=w(e=>e.Students.ISGetStudentsList);w(e=>e.Students.Loading),s.useEffect(()=>{if(n.length>1){const e=n[0];v(e.Id),D(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}},[n]),s.useEffect(()=>{const e={asSchoolId:Number(f),asAcademic_Year_Id:Number(j),asTeacher_Id:Number(k)};u(re(e))},[u,f,j,k]),s.useEffect(()=>{const e={asSchoolId:Number(f),asAcadmicYearId:Number(j),asStandard_Id:Number(g),asDivision_Id:Number(p),asSchoolWise_Standard_Division_Id:Number(W),asStartIndex:(c-1)*r,asEndIndex:c*r,asSortExpression:`${_} ${S?"ASC":"DESC"}`};d!=null&&d!=="0"&&u(ie(e))},[u,d,_,S,c,r,f,j,g,p,W]),s.useEffect(()=>{if(h.length>0){let e=Number(h[0].Text9);$(e)}},[h]),s.useEffect(()=>{if(n.length===1){let e=n[0];v(e.Id),D(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}},[n]);function O(e){v(e.Id),D(e.DivisionId),C(e.StandardId),N(e.SchoolStdDivId)}const K=e=>{_===e?E(!S):(Y(e),E(!0))},X=e=>{let i=G(e==null?void 0:e.split(" ")[0]);const[l,oe,ve]=i.split(" ");return`Left on ${oe} ${l}`},Z=e=>{q(parseInt(e.target.value,10)),L(1)},ee=e=>{L(e)},I=({column:e,label:i})=>{const l=R===e;return t.jsxs("span",{style:{display:"inline-flex",alignItems:"center",cursor:"pointer"},onClick:()=>{K(e),U(e)},children:[i,l&&t.jsx(fe,{sx:{fontSize:"24px",marginLeft:"4px",rotate:S&&R===e?"0deg":"180deg"}})]})},te=e=>{const i={Name:e.Text1,standardId:g,DivisionId:p,YearWise_Student_Id:e.Text12,SchoolWise_Student_Id:e.Text13,StandardDivision_Id:e.Text14,Enrolment_Number:e.Text3,NewMode:"N",Joining_Date:e.Text15,User_Id:e.Text16};localStorage.setItem("studentData",JSON.stringify(i)),H("/RITeSchool/Teacher/StudentRegistrationForms",{state:{Name:e.Text1,standardId:g,DivisionId:p,YearWise_Student_Id:e.Text12,SchoolWise_Student_Id:e.Text13,StandardDivision_Id:e.Text14,Enrolment_Number:e.Text3,NewMode:"N",Joining_Date:e.Text15,User_Id:e.Text16,fromInternal:!0}})},se=[{id:1,Name:"Deactivated User",Value:t.jsx(F,{style:{color:"#e2e8f0",fontSize:25,position:"relative",top:"-2px"}})},{id:2,Name:"Long Leave",Value:t.jsx(F,{style:{color:"#dbeafe",fontSize:25,position:"relative",top:"-2px"}})}];return t.jsxs(a,{sx:{px:2},children:[t.jsx(le,{navLinks:[{title:"Students",path:""}],rightActions:t.jsx(t.Fragment,{children:t.jsxs(B,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:[t.jsx(de,{item:!0,xs:12,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:n.length===1?t.jsx(ce,{size:"small",label:"Class",value:(A=n[0])==null?void 0:A.Name,inputProps:{readOnly:!0}}):t.jsx(xe,{size:"small",ItemList:n,sx:{minWidth:"12vw"},defaultValue:d,label:"Class",onChange:e=>{O(e)}})}),t.jsx(B,{direction:"row",gap:1,alignItems:"right",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:t.jsx(a,{children:t.jsx(T,{title:`Student's list from your class. Click on "Edit" button to change details of individual student.`,children:t.jsx(m,{sx:{bgcolor:"grey.500",color:"white","&:hover":{bgcolor:"grey.600"}},children:t.jsx(Ie,{})})})})})]})})}),t.jsx(a,{sx:{background:"white",p:1,mb:2},children:t.jsx(je,{LegendArray:se})}),d!=="0"&&t.jsx(t.Fragment,{children:h.length>0?t.jsx(t.Fragment,{children:t.jsxs(a,{sx:{background:"white",pt:1},children:[x>0?t.jsx("div",{style:{flex:1,textAlign:"center"},children:t.jsxs(M,{variant:"subtitle1",sx:{margin:"16px 0",textAlign:"center"},children:[t.jsxs(a,{component:"span",fontWeight:"fontWeightBold",children:[V," to ",P]})," ","out of"," ",t.jsx(a,{component:"span",fontWeight:"fontWeightBold",children:x})," ",x===1?"record":"records"]})}):t.jsx("span",{children:" "}),t.jsxs(he,{component:a,sx:{px:2,pb:2},children:[t.jsxs(ue,{"aria-label":"simple table",sx:{border:e=>`1px solid ${e.palette.divider}`},children:[t.jsx(pe,{children:t.jsxs(z,{sx:{background:e=>e.palette.secondary.main},children:[t.jsx(o,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Enrolment_Number",label:"Registration Number"})}),t.jsx(o,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Roll_No",label:"Roll No."})}),t.jsx(o,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"Name",label:"Student Name"})}),t.jsx(o,{align:"left",sx:{color:e=>e.palette.common.white,fontWeight:600},children:t.jsx(I,{column:"DOB",label:"Date of Birth"})}),t.jsx(o,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:"Edit"}),t.jsx(o,{align:"center",sx:{color:e=>e.palette.common.white,fontWeight:600},children:"Photo"})]})}),t.jsx(ge,{children:h.map((e,i)=>t.jsxs(z,{sx:{backgroundColor:e.Text10!=="0"&&e.Text7===""?"#dbeafe":e.Text11!=="N"?"#e2e8f0":"inherit"},children:[t.jsx(o,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text3}),t.jsx(o,{align:"center",sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text2}),t.jsx(o,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:e.Text1}),t.jsx(o,{sx:{pt:"5px",pb:"5px",color:e.Text7!==""?b[500]:"",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},children:G(e.Text4.split(" ")[0])}),t.jsx(o,{align:"center",sx:{pt:"5px",pb:"5px"},children:e.Text7!==""?t.jsx("span",{style:{cursor:"pointer",textDecoration:"none",fontWeight:e.Text10!=="0"&&e.Text7===""?700:"inherit"},onMouseEnter:l=>l.currentTarget.style.textDecoration="underline",onMouseLeave:l=>l.currentTarget.style.textDecoration="none",children:X(e.Text7)}):t.jsx(m,{children:t.jsx(T,{title:"Edit",children:t.jsx(Te,{sx:{cursor:"pointer","&:hover":{backgroundColor:""}},onClick:()=>te(e)})})})}),t.jsx(o,{align:"center",sx:{pt:"5px",pb:"5px"},children:e.Text8===""?t.jsx(m,{sx:{borderRadius:"50%"},children:t.jsx(T,{title:"No Photo",children:t.jsx(be,{sx:{color:"grey.500"}})})}):t.jsx(m,{sx:{borderRadius:"50%"},children:t.jsx(T,{title:"Photo Uploaded",children:t.jsx(me,{sx:{color:"green"}})})})})]},i))})]}),P>19?t.jsx(Se,{rowsPerPage:r,ChangeRowsPerPage:Z,rowsPerPageOptions:J,PageChange:ee,pagecount:Q}):t.jsx("span",{})]})]})}):t.jsx(a,{sx:{backgroundColor:"#D2FDFC"},children:t.jsx(M,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})})})]})};export{ye as default};
