import{b$ as Ii,c0 as ji,gd as ta,s as Et,cf as We,aN as dt,nI as aa,r as l,c2 as vi,aM as Ni,co as yi,j as e,c3 as Ci,c4 as Ai,nJ as Di,nK as Pi,nL as Oi,U as Ge,V as Le,ad as ze,u as $e,c as M,B as V,T as K,G as s,o as m,bI as me,z as Rt,hi as Mi,hj as Qt,t as le,hl as wi,hn as Fi,af as bn,ag as Sn,ah as In,ai as Dt,aj as ee,E as H,bH as ue,ak as jn,I as q,a0 as Pt,a1 as Ot,a3 as Mt,a5 as wt,a6 as Fe,J as qe,ho as Bi,hp as Ei,nM as vn,aw as Ri,ap as lt,aq as Ke,q as kt,v as Nn,nN as ki,nO as Wi,nP as Ti,nQ as _i,nR as Ui,az as ra,Q as yn,c7 as Se,aH as Q,nS as It,a9 as jt,nT as Gi,nU as Li,nV as zi,nW as Yi,ab as Xe,p as Vi,c5 as Hi,nX as Ji,bC as on,nY as qi,nZ as Ki,b3 as Xi,n_ as Qi,n$ as $i,o0 as Zi,A as eo,o1 as to,o2 as ao,o3 as ro,o4 as so,o5 as no,o6 as io,o7 as oo,o8 as lo,o9 as $t,oa as co,C as uo,F as nt,bl as it,K as mo,bd as ln,bs as ho,iy as fo,ob as po,oc as xo,od as go,oe as bo,of as So,og as Io,oh as jo,oi as vo,oj as No,ok as yo,ol as Co,om as Ao,on as Do,oo as Po,op as dn,oq as Oo,or as Mo}from"./index-CpZD2H93.js";import{d as wo}from"./GroupAdd-YcnFVjzY.js";import{h as we}from"./moment-CaEEsv53.js";import{D as Qe}from"./Datepicker1-BUL6tUe0.js";import{S as Cn}from"./SingleFile-VnBjWcb-.js";import{d as Fo}from"./Attachment-BXtOqCtF.js";import{U as Bo}from"./UploadDocList-Bl2QzY_T.js";import{Q as Zt}from"./QuestionMark-B_7MKkiz.js";import{C as An}from"./Clear-CxxRCuuM.js";import{V as Dn}from"./Visibility-DDnH8LZ2.js";import{d as Eo}from"./Info-DvyShze9.js";import{S as vt}from"./SingleFile2-CCMdUYvr.js";import{F as Ro}from"./FormGroup-C5-m8U5s.js";import{T as ko,a as ot}from"./Tabs-DMq06dmH.js";import{C as Wo}from"./Card-B0aZ7mGs.js";import"./CloudUpload-C2WsbpCZ.js";import"./Errormessage-DVJGTehf.js";import"./KeyboardArrowRight-BMnDPiZn.js";function To(a){return Ii("MuiLinearProgress",a)}ji("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const _o=["className","color","value","valueBuffer","variant"];let ct=a=>a,cn,un,mn,hn,fn,pn;const ea=4,Uo=ta(cn||(cn=ct`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Go=ta(un||(un=ct`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Lo=ta(mn||(mn=ct`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),zo=a=>{const{classes:n,variant:o,color:b}=a,f={root:["root",`color${We(b)}`,o],dashed:["dashed",`dashedColor${We(b)}`],bar1:["bar",`barColor${We(b)}`,(o==="indeterminate"||o==="query")&&"bar1Indeterminate",o==="determinate"&&"bar1Determinate",o==="buffer"&&"bar1Buffer"],bar2:["bar",o!=="buffer"&&`barColor${We(b)}`,o==="buffer"&&`color${We(b)}`,(o==="indeterminate"||o==="query")&&"bar2Indeterminate",o==="buffer"&&"bar2Buffer"]};return Ai(f,To,n)},sa=(a,n)=>n==="inherit"?"currentColor":a.vars?a.vars.palette.LinearProgress[`${n}Bg`]:a.palette.mode==="light"?Di(a.palette[n].main,.62):Pi(a.palette[n].main,.5),Yo=Et("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(a,n)=>{const{ownerState:o}=a;return[n.root,n[`color${We(o.color)}`],n[o.variant]]}})(({ownerState:a,theme:n})=>dt({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:sa(n,a.color)},a.color==="inherit"&&a.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},a.variant==="buffer"&&{backgroundColor:"transparent"},a.variant==="query"&&{transform:"rotate(180deg)"})),Vo=Et("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(a,n)=>{const{ownerState:o}=a;return[n.dashed,n[`dashedColor${We(o.color)}`]]}})(({ownerState:a,theme:n})=>{const o=sa(n,a.color);return dt({position:"absolute",marginTop:0,height:"100%",width:"100%"},a.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${o} 0%, ${o} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},aa(hn||(hn=ct`
    animation: ${0} 3s infinite linear;
  `),Lo)),Ho=Et("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(a,n)=>{const{ownerState:o}=a;return[n.bar,n[`barColor${We(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&n.bar1Indeterminate,o.variant==="determinate"&&n.bar1Determinate,o.variant==="buffer"&&n.bar1Buffer]}})(({ownerState:a,theme:n})=>dt({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:a.color==="inherit"?"currentColor":(n.vars||n).palette[a.color].main},a.variant==="determinate"&&{transition:`transform .${ea}s linear`},a.variant==="buffer"&&{zIndex:1,transition:`transform .${ea}s linear`}),({ownerState:a})=>(a.variant==="indeterminate"||a.variant==="query")&&aa(fn||(fn=ct`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Uo)),Jo=Et("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(a,n)=>{const{ownerState:o}=a;return[n.bar,n[`barColor${We(o.color)}`],(o.variant==="indeterminate"||o.variant==="query")&&n.bar2Indeterminate,o.variant==="buffer"&&n.bar2Buffer]}})(({ownerState:a,theme:n})=>dt({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},a.variant!=="buffer"&&{backgroundColor:a.color==="inherit"?"currentColor":(n.vars||n).palette[a.color].main},a.color==="inherit"&&{opacity:.3},a.variant==="buffer"&&{backgroundColor:sa(n,a.color),transition:`transform .${ea}s linear`}),({ownerState:a})=>(a.variant==="indeterminate"||a.variant==="query")&&aa(pn||(pn=ct`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Go)),qo=l.forwardRef(function(n,o){const b=vi({props:n,name:"MuiLinearProgress"}),{className:f,color:v="primary",value:N,valueBuffer:p,variant:w="indeterminate"}=b,G=Ni(b,_o),A=dt({},b,{color:v,variant:w}),R=zo(A),h=yi(),j={},c={bar1:{},bar2:{}};if((w==="determinate"||w==="buffer")&&N!==void 0){j["aria-valuenow"]=Math.round(N),j["aria-valuemin"]=0,j["aria-valuemax"]=100;let u=N-100;h&&(u=-u),c.bar1.transform=`translateX(${u}%)`}if(w==="buffer"&&p!==void 0){let u=(p||0)-100;h&&(u=-u),c.bar2.transform=`translateX(${u}%)`}return e.jsxs(Yo,dt({className:Ci(R.root,f),ownerState:A,role:"progressbar"},j,{ref:o},G,{children:[w==="buffer"?e.jsx(Vo,{className:R.dashed,ownerState:A}):null,e.jsx(Ho,{className:R.bar1,ownerState:A,style:c.bar1}),w==="determinate"?null:e.jsx(Jo,{className:R.bar2,ownerState:A,style:c.bar2})]}))}),Ko=qo;/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Oi("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var na={},Qo=Le;Object.defineProperty(na,"__esModule",{value:!0});var Pn=na.default=void 0,$o=Qo(Ge()),Zo=e,el=(0,$o.default)((0,Zo.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"}),"AccountCircle");Pn=na.default=el;var ia={},tl=Le;Object.defineProperty(ia,"__esModule",{value:!0});var On=ia.default=void 0,al=tl(Ge()),rl=e,sl=(0,al.default)((0,rl.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description");On=ia.default=sl;var oa={},nl=Le;Object.defineProperty(oa,"__esModule",{value:!0});var Mn=oa.default=void 0,il=nl(Ge()),ol=e,ll=(0,il.default)((0,ol.jsx)("path",{d:"M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63C19.68 7.55 18.92 7 18.06 7h-.12c-.86 0-1.63.55-1.9 1.37l-.86 2.58c1.08.6 1.82 1.73 1.82 3.05v8h3zm-7.5-10.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2 .89 2 2 2zm2 16v-7H9V9c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v6h1.5v7h4zm6.5 0v-4h1v-4c0-.82-.68-1.5-1.5-1.5h-2c-.82 0-1.5.68-1.5 1.5v4h1v4h3z"}),"FamilyRestroom");Mn=oa.default=ll;var la={},dl=Le;Object.defineProperty(la,"__esModule",{value:!0});var wn=la.default=void 0,cl=dl(Ge()),ul=e,ml=(0,cl.default)((0,ul.jsx)("path",{d:"M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z"}),"LocalLibrary");wn=la.default=ml;var da={},hl=Le;Object.defineProperty(da,"__esModule",{value:!0});var Fn=da.default=void 0,fl=hl(Ge()),pl=e,xl=(0,fl.default)((0,pl.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 14h-3v3h-2v-3H8v-2h3v-3h2v3h3v2zm-3-7V3.5L18.5 9H13z"}),"NoteAdd");Fn=da.default=xl;var ca={},gl=Le;Object.defineProperty(ca,"__esModule",{value:!0});var Bn=ca.default=void 0,bl=gl(Ge()),Sl=e,Il=(0,bl.default)((0,Sl.jsx)("path",{d:"M16.5 13c-1.2 0-3.07.34-4.5 1-1.43-.67-3.3-1-4.5-1C5.33 13 1 14.08 1 16.25V19h22v-2.75c0-2.17-4.33-3.25-6.5-3.25zm-4 4.5h-10v-1.25c0-.54 2.56-1.75 5-1.75s5 1.21 5 1.75v1.25zm9 0H14v-1.25c0-.46-.2-.86-.52-1.22.88-.3 1.96-.53 3.02-.53 2.44 0 5 1.21 5 1.75v1.25zM7.5 12c1.93 0 3.5-1.57 3.5-3.5S9.43 5 7.5 5 4 6.57 4 8.5 5.57 12 7.5 12zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm9 5.5c1.93 0 3.5-1.57 3.5-3.5S18.43 5 16.5 5 13 6.57 13 8.5s1.57 3.5 3.5 3.5zm0-5.5c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2z"}),"PeopleOutline");Bn=ca.default=Il;var ua={},jl=Le;Object.defineProperty(ua,"__esModule",{value:!0});var En=ua.default=void 0,vl=jl(Ge()),Nl=e,yl=(0,vl.default)((0,Nl.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"}),"School");En=ua.default=yl;const Cl=({additional:a,onChange:n})=>{var w;ze().state,$e(),l.useState({lastSchoolName:"",lastSchoolAddress:"",standard:"",schoolUDISENo:"",schoolBoardName:"",isRecognised:"",houseNumber:"",mainArea:"",subareaName:"",landmark:"",taluka:"",district:"",admissionStandard:"",admissionAcademicYear:"",previousMarksObtained:"",previousMarksOutOf:"",subjectNames:"",previousYearOfPassing:"",currentAcademicYear:"",currentStandard:""}),l.useEffect(()=>{},[a]);const b=M(G=>G.ProgressReportNew.IsGetSchoolSettings),f=((w=b==null?void 0:b.GetSchoolSettingsResult)==null?void 0:w.IsAdditionalFieldsApplicable)||!1,v=[{id:1,Name:"ICSE",Value:1},{id:2,Name:"SSC",Value:2},{id:3,Name:"CBSE",Value:3},{id:4,Name:"OTHERS",Value:4}],N=[{id:1,Name:"Yes",Value:"Yes"},{id:2,Name:"No",Value:"No"}],p=G=>{const{name:A,value:R,type:h,checked:j,files:c}=G.target;let u;h==="checkbox"?u=j:h==="file"?u=c?c[0]:null:u=R,n(A,u)};return e.jsxs(V,{sx:{backgroundColor:"white",p:2},children:[e.jsx(K,{variant:"h4",color:"initial",pt:2,pb:1,children:"Last School Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"lastSchoolName",label:"School Name",variant:"outlined",fullWidth:!0,value:a.lastSchoolName,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"lastSchoolAddress",label:"School Address",variant:"outlined",fullWidth:!0,value:a.lastSchoolAddress,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"standard",label:"Standard",variant:"outlined",fullWidth:!0,value:a.standard,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"schoolUDISENo",label:"School UDISE No",variant:"outlined",fullWidth:!0,value:a.schoolUDISENo,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:a.schoolBoardName,ItemList:v,onChange:G=>n("schoolBoardName",G),label:"School Board Name",size:"medium"})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:a.isRecognised,ItemList:N,onChange:G=>n("isRecognised",G),label:"Is Recognised",size:"medium"})})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"h4",color:"initial",pt:2,pb:1,children:"Other Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"houseNumber",label:"House No. / Plot No",variant:"outlined",fullWidth:!0,value:a.houseNumber,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"mainArea",label:"Main Area",variant:"outlined",fullWidth:!0,value:a.mainArea,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"subareaName",label:"Subarea Name",variant:"outlined",fullWidth:!0,value:a.subareaName,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"landmark",label:"Landmark",variant:"outlined",fullWidth:!0,value:a.landmark,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"taluka",label:"Taluka",variant:"outlined",fullWidth:!0,value:a.taluka,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"district",label:"District",variant:"outlined",fullWidth:!0,value:a.district,onChange:p})})]}),e.jsx(K,{variant:"h4",color:"initial",pt:2,pb:1,children:"Educational Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"admissionStandard",label:"Admission Standard",variant:"outlined",fullWidth:!0,value:a.admissionStandard,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"admissionAcademicYear",label:"Admission Academic Year",variant:"outlined",fullWidth:!0,value:a.admissionAcademicYear,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"previousMarksObtained",label:"Previous Marks Obtained",variant:"outlined",fullWidth:!0,value:a.previousMarksObtained,onChange:p,inputProps:{maxLength:3,pattern:"[0-9]*",inputMode:"numeric"},onInput:G=>{const A=G.target;A.value=A.value.replace(/\D/g,"").slice(0,3)}})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"previousMarksOutOf",label:"Previous Marks Out Off",variant:"outlined",fullWidth:!0,value:a.previousMarksOutOf,onChange:p,inputProps:{maxLength:3,pattern:"[0-9]*",inputMode:"numeric"},onInput:G=>{const A=G.target;A.value=A.value.replace(/\D/g,"").slice(0,3)}})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"subjectNames",label:"Subject Names",variant:"outlined",fullWidth:!0,value:a.subjectNames,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"previousYearOfPassing",label:"Previous Year of Passing",variant:"outlined",fullWidth:!0,value:a.previousYearOfPassing,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"currentAcademicYear",label:"Current Academic Year",variant:"outlined",fullWidth:!0,value:a.currentAcademicYear,onChange:p})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"currentStandard",label:"Current Standard",variant:"outlined",fullWidth:!0,value:a.currentStandard,onChange:p})})]})]})]})},Al=({admissionDocumentList:a,onChange:n})=>{const o=$e(),b=ze(),f=localStorage.getItem("studentData"),v=JSON.parse(f),N=localStorage.getItem("SchoolId"),p=sessionStorage.getItem("FinancialYearId"),w=Number(localStorage.getItem("UserId")),G=localStorage.getItem("FolderName"),{Name:A,standardId:R,DivisionId:h,YearWise_Student_Id:j,SchoolWise_Student_Id:c,StandardDivision:u}=b.state||{},{showAlert:O,closeAlert:P}=l.useContext(Rt),[y,I]=l.useState(!1),[g,E]=l.useState(null),[k,T]=l.useState(""),[Y,X]=l.useState(""),[de,J]=l.useState(""),[xe,i]=l.useState(""),[he,Be]=l.useState(""),[L,Ie]=l.useState(""),ye=["BMP","DOC","DOCX","JPG","JPEG","PDF","XLS","XLSX"],Pe=5e6;l.useState(""),l.useState({});const je=M(C=>C.StudentUI.ISGetStudentDocuments),Ce={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStandardId:R??(v==null?void 0:v.standardId),asStudentId:c??(v==null?void 0:v.SchoolWise_Student_Id),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId"))};l.useEffect(()=>{},[a]);function U(C){let Z=a.map(se=>({...se,IsApplicable:se.StandardwiseDocumentId===C?!se.IsApplicable:se.IsApplicable}));n(Z)}function Ae(C){let Z=a.map(se=>({...se,IsSubmitted:se.StandardwiseDocumentId===C?!se.IsSubmitted:se.IsSubmitted}));n(Z)}function ie(){let C=!0;return a==null||a.map((Z,se)=>{Z.IsApplicable||(C=!1)}),C}function fe(){let C=a.map(Z=>({...Z,IsApplicable:!ie()}));n(C)}function S(){let C=!0;return a==null||a.map((Z,se)=>{Z.IsSubmitted||(C=!1)}),C}function F(){let C=a.map(Z=>({...Z,IsSubmitted:!S()}));n(C)}const pe=[{Id:1,Header:"File Name"},{Id:2,Header:"View",align:"center"},{Id:3,Header:"Delete",align:"center"}],ae=M(C=>C.StudentUI.ISGetSingleStudentDetails)[0],te=(ae==null?void 0:ae.User_Id)||"",z=M(C=>C.PerformanceGradeAssignment.ISUserInvestmentMethodDetails),be=M(C=>C.PerformanceGradeAssignment.ISGetAllDocumentsList),Oe=M(C=>C.AddInvestmentDetailsDoc.ISDeleteInvestmentDocument),ge=M(C=>C.AddInvestmentDetailsDoc.ISSaveInvestmentDocument);M(C=>C.AddInvestmentDetailsDoc.ISGetAllDocumentsList);const ut={asSchoolId:Number(N),asFinancialYearId:Number(p),asUserId:te,asDocumentId:L,asDocumentTypeId:2},Te={asSchoolId:Number(N),asUserId:te,asFinancialYearId:1,asDocumentTypeId:2,asAcademicYearId:0,asDocumentId:Number(L),asReportingUserId:0,asLoginUserId:Number(sessionStorage.getItem("Id"))};l.useEffect(()=>{o(Mi(ut)),o(Qt(Te)),J("")},[y]);const _e=()=>{let C=!1;const Z={asSchoolId:Number(N),asAcademicYearId:0,asFinancialYearId:Number(p),asDocumentId:Number(L),asFileName:k===""?null:k,asUserId:te,asInsertedById:w,asDocumnetTypeId:2,asReportingUserId:0,asSaveFeature:"User Documents",asFolderName:G.toString(),asBase64String:Y==""?null:Y};!k||k===""?(J("Please select file to upload."),C=!0):J(""),C||o(Bi(Z))};l.useEffect(()=>{ge!=""&&(le.success(ge),o(wi()),o(Qt(Te)),Ue())},[ge]);const Ye=C=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool//downloads//User Documents//"+C)},mt=C=>{const Z={asSchoolId:Number(N),asFinancialYearId:Number(p),asUpdatedById:w,asDocumentId:Number(C),asDocumnetTypeId:2};O({title:"Please Confirm",message:"Are you sure you want to delete this record?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{P()},onConfirm:()=>{o(Ei(Z)),P()}})};l.useEffect(()=>{Oe!==""&&(le.success("Document deleted successfully."),o(Fi()),o(Qt(Te)))},[Oe]);const Ue=()=>{T(""),X("")},Ve=C=>{if(!ye.includes(C.FileExtension.toUpperCase())){J(C.ErrorMsg?"Invalid file format.":""),T(""),X("");return}const Z=C.Value.length-(C.Value.indexOf(",")+1),se=C.Value.endsWith("==")?2:C.Value.endsWith("=")?1:0;if(Z*3/4-se>Pe){J("File size should be less than 5 MB."),T(""),X("");return}T(C.Name),X(C.Value),J(C.ErrorMsg)},ht=C=>{E(C),i(A??v.Name),Be(je[C].Name),Ie(je[C].StandardwiseDocumentId),I(!0)},Me=()=>{I(!1),T(""),J(""),o(vn(Ce))};return l.useState(!1),l.useState([]),e.jsxs(V,{sx:{backgroundColor:"white",p:2},children:[e.jsx(bn,{component:V,sx:{border:"1px solid #ddd",marginTop:2},children:e.jsxs(Sn,{"aria-label":"document information table",children:[e.jsx(In,{sx:{backgroundColor:C=>C.palette.secondary.main},children:e.jsxs(Dt,{children:[e.jsxs(ee,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:[e.jsx(H,{title:"Select All Applicable",children:e.jsx(ue,{color:"primary",checked:ie(),onClick:fe})}),"Is Applicable?"]}),e.jsxs(ee,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:[e.jsx(H,{title:"Select All Submitted",children:e.jsx(ue,{color:"primary",checked:S(),onClick:F})}),"Is Submitted?"]}),e.jsx(ee,{align:"left",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Document Name"}),e.jsx(ee,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Upload Attachment"}),e.jsx(ee,{align:"center",sx:{paddingTop:"1.5px",paddingBottom:"1.5px",color:"white"},children:"Attachment Count"})]})}),e.jsx(jn,{children:a==null?void 0:a.map((C,Z)=>e.jsxs(Dt,{sx:{backgroundColor:C.IsSubmissionMandatory!=="0"?"#EFDCC9":"inherit"},children:[e.jsx(ee,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(ue,{color:"primary",checked:C.IsApplicable,onChange:()=>U(C.StandardwiseDocumentId)})}),e.jsx(ee,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(ue,{color:"primary",checked:C.IsSubmitted,onChange:()=>Ae(C.StandardwiseDocumentId)})}),e.jsx(ee,{align:"left",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:C.Name}),e.jsx(ee,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:e.jsx(q,{color:"primary",onClick:()=>ht(Z),children:e.jsx(Fo,{})})}),e.jsxs(ee,{align:"center",sx:{textTransform:"capitalize",width:"250px",paddingTop:"1.5px",paddingBottom:"1.5px"},children:[e.jsx(K,{variant:"body1",children:C.DocumentCount})," "]})]},C.StandardwiseDocumentId))})]})}),e.jsxs(Pt,{open:y,maxWidth:"md",fullWidth:!0,onClose:Me,PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsxs(Ot,{sx:{bgcolor:"#223354"},children:[e.jsx(H,{title:"Upload / Delete document(s).",placement:"bottom-end",children:e.jsx(q,{sx:{color:"white",position:"absolute",top:"-1px",right:"40px"},children:e.jsx(Zt,{})})}),e.jsx(An,{onClick:Me,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),e.jsx(Mt,{children:e.jsxs(V,{children:[e.jsx(K,{variant:"h2",sx:{pt:2,pl:1},children:"Upload Documents"}),e.jsx(V,{sx:{background:"white",top:"1px",alignItems:"center",pl:1,pr:2,pt:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:4,children:e.jsx(m,{fullWidth:!0,label:e.jsx(e.Fragment,{children:"Student Name"}),InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:"100%"},value:Object.keys(z).length>0?z==null?void 0:z.UserName:"",size:"medium",InputProps:{readOnly:!0}})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(m,{fullWidth:!0,label:e.jsx(e.Fragment,{children:"Document Name"}),InputLabelProps:{shrink:!0},sx:{bgcolor:"#F0F0F0",width:"100%"},value:Object.keys(z).length>0?z==null?void 0:z.DocumentName:"",size:"medium",InputProps:{readOnly:!0}})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(V,{sx:{display:"flex",alignItems:"center",ml:.7,width:"calc(100% + 1px)",position:"relative"},children:e.jsx(Cn,{ValidFileTypes:ye,MaxfileSize:Pe,FileName:k,ChangeFile:Ve,FileLabel:"Upload Document ",width:"100%",height:"52px",FilePath:be.length>0?be.Text2:"",errorMessage:de,isMandatory:!0})})})]})})]})}),e.jsx(V,{sx:{backgroundColor:"white",pl:3.8,pr:3.8},children:be.length>0?e.jsx(Bo,{HeaderArray:pe,ItemList:be,clickDelete:mt,clickView:Ye,isDeletePermission:""}):e.jsx(K,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})}),e.jsxs(wt,{sx:{py:2,px:3},children:[e.jsx(Fe,{color:"error",onClick:Me,children:"Cancel"}),e.jsx(Fe,{onClick:_e,sx:{color:"green","&:hover":{color:"green",backgroundColor:qe[100]}},disabled:!!de,children:"Upload"})]})]})]})},Dl=({data:a,clickView:n,onEdit:o,onDelete:b})=>(l.useEffect(()=>{},[a]),e.jsx("div",{children:e.jsx(bn,{children:e.jsxs(Sn,{"aria-label":"simple table",sx:{border:f=>`1px solid ${f.palette.grey[300]}`,overflow:"hidden"},children:[e.jsx(In,{children:e.jsxs(Dt,{sx:{background:f=>f.palette.secondary.main,color:f=>f.palette.common.white},children:[e.jsx(ee,{sx:{color:"white"},children:"Class"}),e.jsx(ee,{sx:{color:"white"},children:"Date"}),e.jsx(ee,{sx:{color:"white"},children:"Description"}),e.jsx(ee,{sx:{color:"white"},children:"Attachment"}),e.jsx(ee,{sx:{color:"white"},children:"Edit"}),e.jsx(ee,{sx:{color:"white"},children:"Delete"})]})}),e.jsx(jn,{children:a.map((f,v)=>e.jsxs(Dt,{children:[e.jsx(ee,{sx:{py:1},children:f.Text1}),e.jsx(ee,{sx:{py:1},children:f.Text2.split(" ")[0]}),e.jsx(ee,{sx:{py:1},children:f.Text3}),e.jsx(ee,{sx:{pr:8,textTransform:"capitalize",paddingTop:"2.5px",paddingBottom:"2.5px"},align:"center",children:e.jsx(H,{title:"View",children:e.jsx(Dn,{onClick:()=>n(f.Text4),sx:{color:"#223354","&:hover":{color:"#223354",bgcolor:"grey.300",cursor:"pointer"}}})})}),e.jsx(ee,{sx:{py:1},children:e.jsx(q,{color:"primary",onClick:()=>o(f.Id),children:e.jsx(Ri,{})})}),e.jsx(ee,{sx:{py:1},children:e.jsx(q,{sx:{color:"#38548A	","&:hover":{color:"red",backgroundColor:lt[100]}},onClick:()=>b(f.Id),children:e.jsx(Ke,{})})})]},v))})]})})})),Pl=({admission:a,onChange:n,invalidFields:o,unacceptableFields:b})=>{var fe,S,F,pe;const f=$e(),v=ze(),{standardId:N,DivisionId:p,YearWise_Student_Id:w,SchoolWise_Student_Id:G,StandardDivision:A}=v.state||{};let{AssignedDate:R}=kt();R=Nn(R);const h=localStorage.getItem("SchoolId");l.useEffect(()=>{},[a]);const j=M(x=>x.StudentUI.ISFeeAreaNames),c=M(x=>x.StudentUI.ISDisabilitiesDropdown),u=M(x=>x.StudentUI.ISResidenceTypesDropdown),O=M(x=>x.StudentUI.ISFeeRuleConcession),P=M(x=>x.StudentUI.ISSecondlang),y=M(x=>x.StudentUI.ISThirdLang),I=M(x=>x.StudentUI.ISUserRoles),g=M(x=>x.StudentUI.ISStaffName),E=M(x=>x.StudentUI.ISAnyExamPublished),k=E==null?void 0:E[0],T=k==null?void 0:k.IsExamPublishedStatus,Y=M(x=>x.ProgressReportNew.IsGetSchoolSettings),X=((fe=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:fe.IsRTEApplicable)||!1,de=((S=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:S.ShowDayBoardingOptionOnStudentsScreen)||!1,J=((F=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:F.IsConcessionApplicable)||!1,xe=((pe=Y==null?void 0:Y.GetSchoolSettingsResult)==null?void 0:pe.IsAdditionalFieldsApplicable)||!1,i={asSchoolId:Number(localStorage.getItem("localSchoolId"))},he={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asYearwiseStudentId:w},Be={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:N,asDivisionId:p,asIsExamPublished:0},L=x=>{try{if(x.includes("-")){const[te,z,be]=x.split(" ")[0].split("-");if(te.length===2)return`${be}-${z}-${te}`}return new Date(x).toISOString().split("T")[0]}catch{return""}},Ie={asSchoolId:Number(localStorage.getItem("localSchoolId")),dateTime:L(a.joiningDate)||"2014-06-09",asDivisionId:p,asStandardId:N};l.useEffect(()=>{f(ki(i)),f(Wi(he)),f(Ti(Be)),f(_i(Ie))},[]),l.useEffect(()=>{const x={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asUserRoleId:Number(a.staffUserRole)};f(Ui(x))},[a.staffUserRole]);const[ye,Pe]=l.useState({userName:!1,formNumber:!1,registrationNumber:!1,admissionDate:!1,joiningDate:!1,studentRollNumber:!1,rteCategory:!1,rteApplicationForm:!1}),[je,Ce]=l.useState("");l.useState(R==null?new Date().toISOString().split("T")[0]:ra(R));const U=x=>{const{name:ae,value:te,type:z,checked:be,files:Oe}=x.target;let ge;z==="checkbox"?ge=be:z==="file"?ge=Oe?Oe[0]:null:ge=te,n(ae,ge),Pe({...ye,[ae]:!1})},Ae=x=>ae=>{n(x,ae)},ie={S_SELECT:"Select",S_ZERO:"0"};return e.jsxs(V,{sx:{backgroundColor:"white",p:2},children:[je&&e.jsx(s,{item:!0,xs:12,children:e.jsx(yn,{severity:je.includes("successfully")?"success":"error",children:je})}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"userName",label:e.jsx("span",{children:"User Name"}),variant:"outlined",value:a.userName,onChange:U,disabled:!0,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"sendSMS",checked:a.sendSMS,onChange:U}),label:"Send SMS of User Name and Password"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"newAdmission",checked:a.newAdmission,onChange:U,disabled:!0}),label:"New Admission"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isRTEApplicable",checked:a.isRTEApplicable,onChange:U,disabled:!(X&&a.isRTEApplicable===!0)}),label:"Is RTE Applicable?"})}),a.isRTEApplicable&&e.jsxs(s,{container:!0,spacing:2,pt:2,pl:2,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:X?c:[],onChange:x=>n("rteCategory",X?x:"0"),defaultValue:a.rteCategory,label:"RTE Category",size:"medium",disabled:!X})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"rteApplicationForm",label:"RTE Application Form No.",value:a.rteApplicationForm,onChange:U,fullWidth:!0,disabled:!X})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"annualIncome",label:"Annual Income",value:a.annualIncome!==null&&X?a.annualIncome:"0",onChange:U,fullWidth:!0,disabled:!X})}),e.jsx(s,{item:!0,xs:6,mt:1.5,children:e.jsxs(K,{variant:"h5",color:"textSecondary",children:[e.jsx("b",{children:"Note:"})," Student marked as RTE (Right To Education) will get 100% concession on the school fees."]})})]}),a.isRTEStudent&&a.rteCategoryId===2&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"amount",label:"Amount",value:a.amount,onChange:U,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"formNumber",label:e.jsxs("span",{children:["Form Number ",parseInt(h)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.formNumber,onChange:U,fullWidth:!0,inputProps:{maxLength:15}}),e.jsx(Q,{Error:parseInt(h)===71&&o.find(x=>x.field==="formNumber")?"Form Number should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(H,{title:"Valid Prefix(s): No Prefix, PP",children:e.jsx(m,{name:"registrationNumber",label:e.jsxs("span",{style:{display:"flex",alignItems:"center"},children:["Registration Number ",(parseInt(h)===18||parseInt(h)===122)&&e.jsx("span",{style:{color:"red"},children:" *"}),e.jsx(q,{size:"small",sx:{ml:.5},children:e.jsx(Eo,{fontSize:"small",color:"primary"})})]}),variant:"outlined",value:a.registrationNumber,defaultValue:a.registrationNumber,onChange:U,sx:{cursor:"pointer"},fullWidth:!0,inputProps:{maxLength:15}})}),e.jsx(Q,{Error:o.find(x=>x.field==="registrationNumber")?"Registration Number should not be blank.":b.find(x=>x.field==="registrationNumber")?"Registration number should not be zero.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Qe,{DateValue:a.admissionDate,onDateChange:Ae("admissionDate"),size:"medium",label:"Admission Date",error:"",helperText:"",maxDate:we().format("YYYY-MM-DD")}),e.jsx(Q,{Error:o.find(x=>x.field==="admissionDate")?"Addmission date should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Qe,{DateValue:a.joiningDate,onDateChange:Ae("joiningDate"),size:"medium",label:"Joining Date",error:"",helperText:"",maxDate:new Date}),e.jsx(Q,{Error:o.find(x=>x.field==="joiningDate")?"Joining date should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"studentRollNumber",label:e.jsxs("span",{children:["Student Roll Number ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.studentRollNumber,onChange:U,fullWidth:!0,inputProps:{maxLength:3}}),e.jsx(Q,{Error:o.find(x=>x.field==="studentRollNumber")?"Student Roll Number should not be blank.":""})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"UDISENumber",label:"Student UDISE number",variant:"outlined",value:a.UDISENumber,onChange:U,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"boardRegistrationNumber",label:"Board Registration Number",variant:"outlined",value:a.boardRegistrationNumber,onChange:U,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"saralNo",label:"Saral No",variant:"outlined",value:a.saralNo,onChange:U,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"studentNationalCode",label:"Student National Code",variant:"outlined",value:"",fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"PENNumber",label:"PEN Number",variant:"outlined",value:a.PENNumber,onChange:U,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:P.length>0?P:[{Text:ie.S_SELECT,Value:ie.S_ZERO}],onChange:x=>n("secondlanguage",x),label:"Second Language",defaultValue:a.secondlanguage,size:"medium",disabled:T})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:y.length>0?y:[{Text:ie.S_SELECT,Value:ie.S_ZERO}],onChange:x=>n("thirdlanguage",x),label:"Third Language",defaultValue:a.thirdlanguage,size:"medium",disabled:T})}),J&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:J==!0?O:[],onChange:x=>n("applicableRules",x),label:"Applicable Rule",defaultValue:J==!0?a.applicableRules:"0",size:"medium"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:I,onChange:x=>n("staffUserRole",x),defaultValue:a.staffUserRole,label:"Staff User Role",size:"medium"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:g,onChange:x=>n("staffName",x),label:"Staff Name",defaultValue:a.staffName,size:"medium"})}),xe&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"300px"},ItemList:u,onChange:x=>n("residenceTypes",x),defaultValue:a.residenceTypes,label:" Residence Type",size:"medium"})}),h&&parseInt(h)===122&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:"15vw"},ItemList:j,onChange:x=>{h&&parseInt(h)===122?n("feeAreaNames",x):n("feeAreaNames","0")},label:"Fee Area Name",defaultValue:h&&parseInt(h)===122?a.feeAreaNames:"0",size:"medium"})}),xe&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"RFID",label:"RFID",variant:"outlined",value:a.RFID,onChange:U,fullWidth:!0,inputProps:{maxLength:50}})}),J&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isStaffKid",checked:a.isStaffKid,onChange:U}),label:"Is Staff Kid?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isOnlyChild",checked:a.isOnlyChild,onChange:U}),label:"Is Only Child?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isRiseAndShine",checked:a.isRiseAndShine,onChange:U}),label:"Is Rise & Shine?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isMinority",checked:a.isMinority,onChange:U}),label:"Is Minority?"})}),de&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isForDayBoarding",checked:a.isForDayBoarding,onChange:U}),label:"Is For Day Boarding?"})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isDayBoardingFeePaid",checked:a.isDayBoardingFeePaid,onChange:U}),label:"Is Day Boarding Fee Paid?"})}),xe&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(Se,{control:e.jsx(ue,{name:"isHandicapped",checked:a.isHandicapped,onChange:U}),label:"Is Handicapped?"})})]})]})},Ol=({family:a,onChange:n,invalidFields:o,unacceptableFields:b})=>{var fe;const f=ze(),{Name:v,standardId:N,DivisionId:p,YearWise_Student_Id:w,SchoolWise_Student_Id:G,StandardDivision_Id:A}=f.state||{},R=$e(),h=localStorage.getItem("SchoolId");let{AssignedDate:j}=kt();j=Nn(j),l.useState({fatherQualification:"",fatherEmail:"",fatherOfficeName:"",fatherOfficeAddress:"",fatherDesignation:"",fatherDOB:"",fatherPhoto:"",fatherWeight:0,fatherHeight:0,fatherBloodGroup:"",fatherAadharCard:"",fatherAnnualIncome:0,motherOccupation:"",motherQualification:"",motherEmail:"",motherOfficeName:"",motherOfficeAddress:"",motherDesignation:"",motherDOB:"",motherPhoto:"",motherWeight:0,motherHeight:0,motherAadharCard:"",motherBloodGroup:"",motherAnnualIncome:0,marriageAnniversaryDate:"",localGuardianPhoto:"",familyMonthlyIncome:0,cwsn:"",relativeFullName:"",residencePhoneNumber:"",neighbourPhoneNumber:"",officePhoneNumber:"",familyPhoto:"",name1:"",name2:"",age1:0,age2:0,institution1:"",institution2:"",standard1:"",standard2:""}),l.useEffect(()=>{},[a]),l.useState(j==null?new Date().toISOString().split("T")[0]:ra(j));const c=M(S=>S.ProgressReportNew.IsGetSchoolSettings),u=((fe=c==null?void 0:c.GetSchoolSettingsResult)==null?void 0:fe.IsAdditionalFieldsApplicable)||!1;M(S=>S.StudentUI.ISGetStudentAdditionalDetails),M(S=>S.StudentUI.ISGetSingleStudentDetails);const O=M(S=>S.StudentUI.ISDeleteFamilyPhotoMsg),P=M(S=>S.StudentUI.ISDeleteFatherPhotoMsg),y=M(S=>S.StudentUI.ISDeleteMotherPhotoMsg),I=M(S=>S.StudentUI.ISDeleteGuardianPhotoMsg),g=S=>{const{name:F,value:pe,type:x,checked:ae,files:te}=S.target;let z;x==="checkbox"?z=ae:x==="file"?z=te?te[0]:null:z=pe,n(F,z),ie({...Ae,[F]:!1})},E=S=>F=>{n(S,F)};function k(S){const F=S.target.value.replace(/\D/g,"");!isNaN(Number(F))&&F.length<=10&&n(S.target.name,F)}const{showAlert:T,closeAlert:Y}=l.useContext(Rt),X=["JPG","PNG","BMP","JPEG"],de=3e6,[J,xe]=l.useState({fatherPhoto:"",motherPhoto:"",localGuardianPhoto:"",familyPhoto:""});l.useState("");const[i,he]=l.useState(""),[Be,L]=l.useState(""),Ie=(S,F,pe)=>{const x={...J};if(!X.includes(F.FileExtension.toUpperCase())){x[S]=F.ErrorMsg?"Invalid file format.":"",xe(x),n(S,F.Name),he("");return}const ae=F.Value.length-(F.Value.indexOf(",")+1),te=F.Value.endsWith("==")?2:F.Value.endsWith("=")?1:0;if(ae*3/4-te>de){x[S]="File size should be less than 3 MB.",xe(x),n(S,F.Name),he("");return}x[S]="",n(S,F.Name),he(F.Value),n(pe,F.Value),L(F.FileExtension),xe(x)},ye=()=>{a.fatherPhoto!==""&&window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.fatherPhoto)},Pe=()=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.motherPhoto)},je=()=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Parent Photos/"+a.localGuardianPhoto)},Ce=()=>{a.familyPhoto!==""&&window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Family Photos/"+a.familyPhoto)},U=(S,F,pe)=>{const x=a[S],ae={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:G,asUpdatedById:Number(localStorage.getItem("UserId"))};x&&T({title:"Please Confirm",message:pe,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>Y(),onConfirm:()=>{R(F(ae)),Y()}})};l.useEffect(()=>{O!==""&&(le.success(O),n("familyPhoto",""),R(It())),P!==""&&(le.success(P),n("fatherPhoto",""),R(It())),y!==""&&(le.success(y),n("motherPhoto",""),R(It())),I!==""&&(le.success(I),n("localGuardianPhoto",""),R(It()))},[O,P,y,I]);const[Ae,ie]=l.useState({fatherQualification:!1,fatherEmail:!1,fatherOfficeName:!1,fatherOfficeAddress:!1,fatherDesignation:!1,fatherDOB:!1,fatherPhoto:!1,fatherWeight:!1,fatherHeight:!1,fatherBloodGroup:!1,fatherAadharCard:!1,fatherAnnualIncome:!1,motherOccupation:!1,motherQualification:!1,motherEmail:!1,motherOfficeName:!1,motherOfficeAddress:!1,motherDesignation:!1,motherDOB:!1,motherPhoto:!1,motherWeight:!1,motherHeight:!1,motherAadharCard:!1,motherBloodGroup:!1,motherAnnualIncome:!1,marriageAnniversaryDate:!1,localGuardianPhoto:!1,familyMonthlyIncome:!1,cwsn:!1,relativeFullName:!1,residencePhoneNumber:!1,familyPhoto:!1});return e.jsxs(V,{sx:{backgroundColor:"white",p:2},children:[u&&e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"h4",color:"initial",py:1,pb:1,children:"Father's Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherOccupation",label:"Father Occupation ",variant:"outlined",value:a.fatherOccupation,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherQualification",label:"Father Qualification ",variant:"outlined",value:a.fatherQualification,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherEmail",label:"Father E-mail",variant:"outlined",value:a.fatherEmail,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherOfficeName",label:"Father Office Name",variant:"outlined",value:a.fatherOfficeName,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherOfficeAddress",label:"Father Office Address",variant:"outlined",value:a.fatherOfficeAddress,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherDesignation",label:"Father Designation",variant:"outlined",value:a.fatherDesignation,onChange:g,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,md:3,children:[e.jsx(Qe,{DateValue:a.fatherDOB,onDateChange:E("fatherDOB"),size:"medium",label:"Father's DOB",mandatory:parseInt(h)===18,error:"",helperText:"",maxDate:we().format("YYYY-MM-DD")}),e.jsx(Q,{Error:parseInt(h,10)===18&&o.find(S=>S.field==="fatherDOB")?"Father's Date of Birth should not be blank.":b.find(S=>S.field==="fatherDOB")?"Father DOB should be less than student's DOB.":""})]}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2,lg:2,children:e.jsx(vt,{ValidFileTypes:X,MaxfileSize:de,FileName:a.fatherPhoto,ChangeFile:S=>Ie("fatherPhoto",S,"fatherBinaryPhoto"),FileLabel:"Father Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:J.fatherPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(q,{onClick:ye,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(jt,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:()=>U("fatherPhoto",Gi,"Are you sure you want to delete father photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Ke,{})})})]})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherWeight",label:"Father Weight (Kg)",variant:"outlined",type:"number",value:a.fatherWeight,onChange:g,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherHeight",label:"Father Height (Cm)",variant:"outlined",type:"number",value:a.fatherHeight,onChange:g,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherBloodGroup",label:"Father Blood Group",variant:"outlined",value:a.fatherBloodGroup,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherAadharCard",label:"Father Aadhar Card Number",variant:"outlined",value:a.fatherAadharCard,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"fatherAnnualIncome",label:"Father Annual Income",variant:"outlined",value:a.fatherAnnualIncome,onChange:g,inputProps:{maxLength:10,pattern:"[0-9]*",inputMode:"numeric"},onInput:S=>{const F=S.target;F.value=F.value.replace(/\D/g,"").slice(0,10)},fullWidth:!0})})]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"h4",color:"initial",pt:2,pb:1,children:"Mother's Details"}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherOccupation",label:"Mother Occupation",variant:"outlined",value:a.motherOccupation,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherQualification",label:"Mother Qualification",variant:"outlined",value:a.motherQualification,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherEmail",label:"Mother E-mail",variant:"outlined",value:a.motherEmail,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherOfficeName",label:"Mother Office Name",variant:"outlined",value:a.motherOfficeName,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherOfficeAddress",label:"Mother Office Address",variant:"outlined",value:a.motherOfficeAddress,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherDesignation",label:"Mother Designation",variant:"outlined",value:a.motherDesignation,onChange:g,fullWidth:!0})}),e.jsxs(s,{item:!0,xs:12,md:3,children:[e.jsx(Qe,{DateValue:a.motherDOB,onDateChange:E("motherDOB"),size:"medium",label:"Mother's DOB",mandatory:parseInt(h)===18,maxDate:new Date,error:"",helperText:""}),e.jsx(Q,{Error:parseInt(h,10)===18&&o.find(S=>S.field==="motherDOB")?"Mother's Date of Birth should not be blank.":b.find(S=>S.field==="motherDOB")?"Mother's DOB should be less than student's DOB.":""})]}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2,lg:2,children:e.jsx(vt,{ValidFileTypes:X,MaxfileSize:de,FileName:a.motherPhoto,ChangeFile:S=>Ie("motherPhoto",S,"motherBinaryPhoto"),FileLabel:"Mother Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:J.motherPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(q,{onClick:Pe,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(jt,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:()=>U("motherPhoto",Li,"Are you sure you want to delete mother photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Ke,{})})})]})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherWeight",label:"Mother Weight (Kg)",variant:"outlined",type:"number",value:a.motherWeight,onChange:g,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherHeight",label:"Mother Height (Cm)",variant:"outlined",type:"number",value:a.motherHeight,onChange:g,fullWidth:!0,inputProps:{min:0,step:"0.1"}})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherBloodGroup",label:"Mother Blood Group",variant:"outlined",value:a.motherBloodGroup,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherAadharCard",label:"Mother Aadhar Card Number",variant:"outlined",value:a.motherAadharCard,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"motherAnnualIncome",label:"Mother Annual Income",variant:"outlined",value:a.motherAnnualIncome,onChange:g,fullWidth:!0,inputProps:{maxLength:10,pattern:"[0-9]*",inputMode:"numeric"},onInput:S=>{const F=S.target;F.value=F.value.replace(/\D/g,"").slice(0,10)}})})]})]}),e.jsxs(s,{container:!0,spacing:2,pt:2,pb:1,children:[u&&e.jsxs(e.Fragment,{children:[e.jsxs(s,{item:!0,xs:12,md:3,children:[e.jsx(Qe,{DateValue:a.marriageAnniversaryDate,onDateChange:E("marriageAnniversaryDate"),size:"medium",label:"Marriage Anniversary Date",mandatory:parseInt(h)===18,error:"",helperText:"",maxDate:new Date}),e.jsx(Q,{Error:parseInt(h,10)===18&&o.find(S=>S.field==="marriageAnniversaryDate")?"Marriage Anniversary Date should not be blank.":(()=>{const S=b.find(F=>F.field==="marriageAnniversaryDate");if(S)switch(S.code){case"F":return"Marriage Anniversary Date should be greater than Father's DOB.";case"M":return"Marriage Anniversary Date should be greater than Mother's DOB.";case"S":return"Marriage Anniversary Date should be less than Student's DOB.";default:return""}return""})()})]}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2,lg:2,children:e.jsx(vt,{ValidFileTypes:X,MaxfileSize:de,FileName:a.localGuardianPhoto,ChangeFile:S=>Ie("localGuardianPhoto",S,"localGuardianBinaryPhoto"),FileLabel:"Local Guadian Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:J.localGuardianPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(q,{onClick:je,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(jt,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:()=>U("localGuardianPhoto",zi,"Are you sure you want to delete guardian Photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Ke,{})})})]})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"familyMonthlyIncome",label:"Family Monthly Income",variant:"outlined",value:a.familyMonthlyIncome,onChange:g,inputProps:{pattern:"[0-9]*",inputMode:"numeric"},onInput:S=>{const F=S.target;F.value=F.value.replace(/\D/g,"")},fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"cwsn",label:"CWSN",variant:"outlined",value:a.cwsn,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"relativeFullName",label:"Relative Full Name",variant:"outlined",value:a.relativeFullName,onChange:g,fullWidth:!0})})]}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"residencePhoneNumber",label:"Residence Phone Number",variant:"outlined",value:a.residencePhoneNumber,onChange:k,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"neighbourPhoneNumber",label:"Neighbour's Phone Number",variant:"outlined",value:a.neighbourPhoneNumber,onChange:k,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"officePhoneNumber",label:"Office Phone Number",variant:"outlined",value:a.officePhoneNumber,onChange:k,fullWidth:!0})}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2,lg:2,children:e.jsx(vt,{ValidFileTypes:X,MaxfileSize:de,FileName:a.familyPhoto,ChangeFile:S=>Ie("familyPhoto",S,"familyBinaryPhoto"),FileLabel:"Family Photo",width:"100%",height:"52px",isMandatory:!1,errorMessage:J.familyPhoto})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(q,{onClick:Ce,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(jt,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:()=>U("familyPhoto",Yi,"Are you sure you want to delete family photo?"),sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Ke,{})})})]})})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"h4",color:"initial",pt:2,pb:1,children:"Details of Brothers and Sisters of the Student"}),e.jsxs(s,{container:!0,spacing:2,sx:{pb:2},children:[e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"name1",label:"Name",variant:"outlined",value:a.name1,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"age1",label:"Age",variant:"outlined",value:a.age1,onChange:g,fullWidth:!0,inputProps:{min:0,maxLength:2,pattern:"[0-9]*",inputMode:"numeric"},onInput:S=>{const F=S.target;F.value=F.value.replace(/\D/g,"").slice(0,2)}})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"institution1",label:"Institution",variant:"outlined",value:a.institution1,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"standard1",label:"Standard",variant:"outlined",value:a.standard1,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"name2",label:"Name",variant:"outlined",value:a.name2,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"age2",label:"Age",variant:"outlined",value:a.age2,onChange:g,inputProps:{min:0,maxLength:2,pattern:"[0-9]*",inputMode:"numeric"},onInput:S=>{const F=S.target;F.value=F.value.replace(/\D/g,"").slice(0,2)},fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"institution2",label:"Institution",variant:"outlined",value:a.institution2,onChange:g,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,md:3,children:e.jsx(m,{name:"standard2",label:"Standard",variant:"outlined",value:a.standard2,onChange:g,fullWidth:!0})})]})]})]})};var ma={},Ml=Le;Object.defineProperty(ma,"__esModule",{value:!0});var Rn=ma.default=void 0,wl=Ml(Ge()),Fl=e,Bl=(0,wl.default)((0,Fl.jsx)("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");Rn=ma.default=Bl;var kn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},xn=Xe.createContext&&Xe.createContext(kn),El=["attr","size","title"];function Rl(a,n){if(a==null)return{};var o=kl(a,n),b,f;if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(a);for(f=0;f<v.length;f++)b=v[f],!(n.indexOf(b)>=0)&&Object.prototype.propertyIsEnumerable.call(a,b)&&(o[b]=a[b])}return o}function kl(a,n){if(a==null)return{};var o={};for(var b in a)if(Object.prototype.hasOwnProperty.call(a,b)){if(n.indexOf(b)>=0)continue;o[b]=a[b]}return o}function Ft(){return Ft=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var o=arguments[n];for(var b in o)Object.prototype.hasOwnProperty.call(o,b)&&(a[b]=o[b])}return a},Ft.apply(this,arguments)}function gn(a,n){var o=Object.keys(a);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(a);n&&(b=b.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),o.push.apply(o,b)}return o}function Bt(a){for(var n=1;n<arguments.length;n++){var o=arguments[n]!=null?arguments[n]:{};n%2?gn(Object(o),!0).forEach(function(b){Wl(a,b,o[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(o)):gn(Object(o)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(o,b))})}return a}function Wl(a,n,o){return n=Tl(n),n in a?Object.defineProperty(a,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[n]=o,a}function Tl(a){var n=_l(a,"string");return typeof n=="symbol"?n:n+""}function _l(a,n){if(typeof a!="object"||!a)return a;var o=a[Symbol.toPrimitive];if(o!==void 0){var b=o.call(a,n||"default");if(typeof b!="object")return b;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function Wn(a){return a&&a.map((n,o)=>Xe.createElement(n.tag,Bt({key:o},n.attr),Wn(n.child)))}function ha(a){return n=>Xe.createElement(Ul,Ft({attr:Bt({},a.attr)},n),Wn(a.child))}function Ul(a){var n=o=>{var{attr:b,size:f,title:v}=a,N=Rl(a,El),p=f||o.size||"1em",w;return o.className&&(w=o.className),a.className&&(w=(w?w+" ":"")+a.className),Xe.createElement("svg",Ft({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},o.attr,b,N,{className:w,style:Bt(Bt({color:a.color||o.color},o.style),a.style),height:p,width:p,xmlns:"http://www.w3.org/2000/svg"}),v&&Xe.createElement("title",null,v),a.children)};return xn!==void 0?Xe.createElement(xn.Consumer,null,o=>n(o)):n(kn)}function Gl(a){return ha({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(a)}function Ll(a){return ha({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(a)}function zl(a){return ha({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(a)}var Tn={exports:{}};(function(a,n){(function(b,f){a.exports=f(l)})(Vi,function(o){return function(b){var f={};function v(N){if(f[N])return f[N].exports;var p=f[N]={i:N,l:!1,exports:{}};return b[N].call(p.exports,p,p.exports,v),p.l=!0,p.exports}return v.m=b,v.c=f,v.d=function(N,p,w){v.o(N,p)||Object.defineProperty(N,p,{enumerable:!0,get:w})},v.r=function(N){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(N,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(N,"__esModule",{value:!0})},v.t=function(N,p){if(p&1&&(N=v(N)),p&8||p&4&&typeof N=="object"&&N&&N.__esModule)return N;var w=Object.create(null);if(v.r(w),Object.defineProperty(w,"default",{enumerable:!0,value:N}),p&2&&typeof N!="string")for(var G in N)v.d(w,G,(function(A){return N[A]}).bind(null,G));return w},v.n=function(N){var p=N&&N.__esModule?function(){return N.default}:function(){return N};return v.d(p,"a",p),p},v.o=function(N,p){return Object.prototype.hasOwnProperty.call(N,p)},v.p="",v(v.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(b,f,v){v.r(f);var N=v("react"),p=function(){var h=function(j,c){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,O){u.__proto__=O}||function(u,O){for(var P in O)O.hasOwnProperty(P)&&(u[P]=O[P])},h(j,c)};return function(j,c){h(j,c);function u(){this.constructor=j}j.prototype=c===null?Object.create(c):(u.prototype=c.prototype,new u)}}(),w=function(){return w=Object.assign||function(h){for(var j,c=1,u=arguments.length;c<u;c++){j=arguments[c];for(var O in j)Object.prototype.hasOwnProperty.call(j,O)&&(h[O]=j[O])}return h},w.apply(this,arguments)},G=function(h,j){var c={};for(var u in h)Object.prototype.hasOwnProperty.call(h,u)&&j.indexOf(u)<0&&(c[u]=h[u]);if(h!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,u=Object.getOwnPropertySymbols(h);O<u.length;O++)j.indexOf(u[O])<0&&Object.prototype.propertyIsEnumerable.call(h,u[O])&&(c[u[O]]=h[u[O]]);return c};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(j){var c=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return c?new Promise(function(u,O){c.call(navigator,j,u,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function A(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var R=function(h){p(j,h);function j(c){var u=h.call(this,c)||this;return u.canvas=null,u.ctx=null,u.requestUserMediaId=0,u.unmounted=!1,u.state={hasUserMedia:!1},u}return j.prototype.componentDidMount=function(){var c=this,u=c.state,O=c.props;if(this.unmounted=!1,!A()){O.onUserMediaError("getUserMedia not supported");return}u.hasUserMedia||this.requestUserMedia(),O.children&&typeof O.children!="function"&&console.warn("children must be a function")},j.prototype.componentDidUpdate=function(c){var u=this.props;if(!A()){u.onUserMediaError("getUserMedia not supported");return}var O=JSON.stringify(c.audioConstraints)!==JSON.stringify(u.audioConstraints),P=JSON.stringify(c.videoConstraints)!==JSON.stringify(u.videoConstraints),y=c.minScreenshotWidth!==u.minScreenshotWidth,I=c.minScreenshotHeight!==u.minScreenshotHeight;(P||y||I)&&(this.canvas=null,this.ctx=null),(O||P)&&(this.stopAndCleanup(),this.requestUserMedia())},j.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},j.stopMediaStream=function(c){c&&(c.getVideoTracks&&c.getAudioTracks?(c.getVideoTracks().map(function(u){c.removeTrack(u),u.stop()}),c.getAudioTracks().map(function(u){c.removeTrack(u),u.stop()})):c.stop())},j.prototype.stopAndCleanup=function(){var c=this.state;c.hasUserMedia&&(j.stopMediaStream(this.stream),c.src&&window.URL.revokeObjectURL(c.src))},j.prototype.getScreenshot=function(c){var u=this,O=u.state,P=u.props;if(!O.hasUserMedia)return null;var y=this.getCanvas(c);return y&&y.toDataURL(P.screenshotFormat,P.screenshotQuality)},j.prototype.getCanvas=function(c){var u=this,O=u.state,P=u.props;if(!this.video||!O.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var y=this.video.videoWidth,I=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var g=y/I;y=P.minScreenshotWidth||this.video.clientWidth,I=y/g,P.minScreenshotHeight&&I<P.minScreenshotHeight&&(I=P.minScreenshotHeight,y=I*g)}this.canvas=document.createElement("canvas"),this.canvas.width=(c==null?void 0:c.width)||y,this.canvas.height=(c==null?void 0:c.height)||I,this.ctx=this.canvas.getContext("2d")}var E=this,k=E.ctx,T=E.canvas;return k&&T&&(T.width=(c==null?void 0:c.width)||T.width,T.height=(c==null?void 0:c.height)||T.height,P.mirrored&&(k.translate(T.width,0),k.scale(-1,1)),k.imageSmoothingEnabled=P.imageSmoothing,k.drawImage(this.video,0,0,(c==null?void 0:c.width)||T.width,(c==null?void 0:c.height)||T.height),P.mirrored&&(k.scale(-1,1),k.translate(-T.width,0))),T},j.prototype.requestUserMedia=function(){var c=this,u=this.props,O=function(I,g){var E={video:typeof g<"u"?g:!0};u.audio&&(E.audio=typeof I<"u"?I:!0),c.requestUserMediaId++;var k=c.requestUserMediaId;navigator.mediaDevices.getUserMedia(E).then(function(T){c.unmounted||k!==c.requestUserMediaId?j.stopMediaStream(T):c.handleUserMedia(null,T)}).catch(function(T){c.handleUserMedia(T)})};if("mediaDevices"in navigator)O(u.audioConstraints,u.videoConstraints);else{var P=function(I){return{optional:[{sourceId:I}]}},y=function(I){var g=I.deviceId;return typeof g=="string"?g:Array.isArray(g)&&g.length>0?g[0]:typeof g=="object"&&g.ideal?g.ideal:null};MediaStreamTrack.getSources(function(I){var g=null,E=null;I.forEach(function(Y){Y.kind==="audio"?g=Y.id:Y.kind==="video"&&(E=Y.id)});var k=y(u.audioConstraints);k&&(g=k);var T=y(u.videoConstraints);T&&(E=T),O(P(g),P(E))})}},j.prototype.handleUserMedia=function(c,u){var O=this.props;if(c||!u){this.setState({hasUserMedia:!1}),O.onUserMediaError(c);return}this.stream=u;try{this.video&&(this.video.srcObject=u),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(u)})}O.onUserMedia(u)},j.prototype.render=function(){var c=this,u=this,O=u.state,P=u.props,y=P.audio;P.forceScreenshotSourceSize;var I=P.disablePictureInPicture;P.onUserMedia,P.onUserMediaError,P.screenshotFormat,P.screenshotQuality,P.minScreenshotWidth,P.minScreenshotHeight,P.audioConstraints,P.videoConstraints,P.imageSmoothing;var g=P.mirrored,E=P.style,k=E===void 0?{}:E,T=P.children,Y=G(P,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),X=g?w(w({},k),{transform:(k.transform||"")+" scaleX(-1)"}):k,de={getScreenshot:this.getScreenshot.bind(this)};return N.createElement(N.Fragment,null,N.createElement("video",w({autoPlay:!0,disablePictureInPicture:I,src:O.src,muted:!y,playsInline:!0,ref:function(J){c.video=J},style:X},Y)),T&&T(de))},j.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},j}(N.Component);f.default=R},react:function(b,f){b.exports=o}}).default})})(Tn);var Yl=Tn.exports;const Vl=Hi(Yl),Hl=({personal:a,onChange:n,invalidFields:o,unacceptableFields:b})=>{var pt;l.useState(!1);const f=l.useRef(null),v=localStorage.getItem("SchoolId"),N=ze(),{Name:p,standardId:w,DivisionId:G,YearWise_Student_Id:A,SchoolWise_Student_Id:R,StandardDivision_Id:h}=N.state||{},j=localStorage.getItem("studentData"),c=JSON.parse(j),u=$e();l.useState(!1);const{AssignedDate:O}=kt();l.useState({firstName:"",middleName:"",lastName:"",motherName:"",motherNumber:"",parentName:"",fatherNumber:"",email:"",parentOccupation:"",address:"",city:"",state:"",pin:"",placeOfBirth:"",birthTaluka:"",birthDistrict:"",birthState:"",religion:"",casteAndSubCaste:"",category:"",dateOfBirth:"",nationality:"",motherTongue:"",gender:"",bloodGroup:"",aadharCardNumber:"",nameOnAadharCard:"",aadharCardScanCopy:"",photoFilePath:null,photoFilePathImage:null});const{showAlert:P,closeAlert:y}=l.useContext(Rt);l.useEffect(()=>{console.log("🎈🎈invalidFields",o)},[a]);const[I,g]=l.useState({firstName:!1,motherName:!1,motherNumber:!1,parentName:!1,email:!1,address:!1,city:!1,state:!1,pin:!1,placeOfBirth:!1,casteAndSubCaste:!1,dateOfBirth:!1,nationality:!1,motherTongue:!1}),E=l.useRef(null),[k,T]=l.useState("");l.useState(O==null?new Date().toISOString().split("T")[0]:ra(O));const Y=M(d=>d.StudentUI.ISOcupationDropdown),X=M(d=>d.StudentUI.ISCategoryDropdown),de=M(d=>d.StudentUI.ISDeleteStudentPhotoMsg),J=M(d=>d.StudentUI.ISDeleteAadharCardDetailsMsg),xe=M(d=>d.ProgressReportNew.IsGetSchoolSettings),i=((pt=xe==null?void 0:xe.GetSchoolSettingsResult)==null?void 0:pt.CompareAgeTillDate)||"",he=(d,B)=>{if(!d||!B)return"";const[ce,ne,Ee]=d.split("-"),Re=`${Ee}-${ne}-${ce}`,ke=new Date(Re),Nt=new Date(B);let De=Nt.getFullYear()-ke.getFullYear(),xt=Nt.getMonth()-ke.getMonth();return xt<0&&(De-=1,xt+=12),`${De} Year(s) ${xt} Month(s)`},Be=a.dateOfBirth?he(a.dateOfBirth,i):"",L=d=>{const{name:B,value:ce,type:ne,checked:Ee,files:Re}=d.target;let ke;ne==="checkbox"?ke=Ee:ne==="file"?ke=Re?Re[0]:null:ke=ce,n(B,ke),g({...I,[B]:!1})},Ie=d=>B=>{n(d,B)};function ye(d){const B=d.target.value.replace(/\D/g,""),{name:ce}=d.target;!isNaN(Number(B))&&B.length<=10&&n(ce,B)}const Pe=["JPG","JPEG"],je=1e6,[Ce,U]=l.useState(!1),[Ae,ie]=l.useState(!0),[fe,S]=l.useState(null),[F,pe]=l.useState(null),[x,ae]=l.useState(""),[te,z]=l.useState("");l.useEffect(()=>{if(a!=null&&a.photoFilePath&&(a!=null&&a.photoFilePathImage)){const d=a.photoFilePathImage,B=a.photoFilePath.split("/").pop(),ne=`data:image/${a.photoFilePath.split(".").pop()};base64,${a.photoFilePathImage}`;pe({src:ne,name:B,base64:d})}},[a.photoFilePath,a.photoFilePathImage]);const be=d=>{const B=new Date().toISOString();return`${a.firstName}_${d}_${B}.jpg`},Oe=(d,B)=>{const ce=d.split(",")[1],ne=be(B);ae(ne),pe({src:d,name:ne,base64:ce}),n("photoFilePath",ne),n("photoFilePathImage",ce)},ge=d=>{const B=d.target.files[0];if(B){z("");const ce=B.name.split(".").pop().toUpperCase();if(!Pe.includes(ce)){z("Invalid file format."),n("photoFilePath","");return}if(B.size>je){z("File size should be less than 1 MB."),n("photoFilePath",""),E.current.value="";return}const ne=new FileReader;ne.onloadend=()=>{S(ne.result),Oe(ne.result,"Selected")},ne.readAsDataURL(B)}},ut=async()=>{try{(await navigator.mediaDevices.getUserMedia({video:!0})).getTracks().forEach(B=>B.stop()),U(!0),ie(!0),z("")}catch{z("Please allow camera access to use this feature")}},Te=async()=>{await ut()},_e=()=>{const d=f.current.getScreenshot();S(d),ie(!0)},Ye=()=>{pe(null),S(null),n("photoFilePath",""),E.current&&(E.current.value="")},mt=()=>{z(""),fe&&(Oe(fe,"WebCam"),U(!1))},Ue=()=>{ie(!0),S(null),z("")},Ve=()=>{U(!1),ie(!1),z("")},ht=()=>{const d={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:R};a.photoFilePath&&P({title:"Please Confirm",message:"Are you sure you want to delete Student Photo?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{y()},onConfirm:()=>{u(qi(d)),y()}})};l.useEffect(()=>{de!==""&&(le.success(de),Ye(),u(It()))},[de]);const Me=["PDF","JPG","PNG","BMP","JPEG"],C=3e6,[Z,se]=l.useState("");l.useState("");const[He,ft]=l.useState(""),[fa,Wt]=l.useState(""),Je=d=>{const B=d.Value.length-(d.Value.indexOf(",")+1),ce=d.Value.endsWith("==")?2:d.Value.endsWith("=")?1:0,ne=B*3/4-ce;if(!Me.includes(d.FileExtension.toUpperCase())){se(d.ErrorMsg?"Invalid file format.":""),n("aadharCardScanCopy",""),ft("");return}if(ne>C){se("File size should be less than 3 MB."),n("aadharCardScanCopy",d.Name),ft("");return}se(d.ErrorMsg),n("aadharCardScanCopy",d.Name),ft(d.Value),Wt(d.FileExtension)};let Ze=localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/Aadhar Cards/";const et=()=>{if(a.aadharCardScanCopy){const d=`${Ze}${a.aadharCardScanCopy}`;window.open(d,"_blank")}},tt=()=>{const d={asSchoolId:Number(v),asUserId:R??c.SchoolWise_Student_Id,asUpdatedById:Number(localStorage.getItem("UserId"))};a.aadharCardScanCopy&&P({title:"Please Confirm",message:"Are you sure you want to delete aadhar card photo?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{y()},onConfirm:()=>{u(Ki(d)),y()}})};l.useEffect(()=>{J!==""&&(le.success(J),n("aadharCardScanCopy",""),u(Ji()))},[J]);const at=[{Id:1,Name:"O+",Value:"O+"},{Id:2,Name:"A+",Value:"A+"},{Id:3,Name:"B+",Value:"B+"},{Id:4,Name:"AB+",Value:"AB+"},{Id:5,Name:"O-",Value:"O-"},{Id:6,Name:"A-",Value:"A-"},{Id:7,Name:"B-",Value:"B-"},{Id:8,Name:"AB-",Value:"AB-"}];return e.jsxs(V,{sx:{backgroundColor:"white",p:2},children:[k&&e.jsx(s,{item:!0,xs:12,children:e.jsx(yn,{severity:k.includes("successfully")?"success":"error",children:k})}),e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:12,sm:9,children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"firstName",label:e.jsxs("span",{children:["First Name ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.firstName,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="firstName")?"First Name should not be blank.":""})]}),a.middleName!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(m,{name:"middleName",label:"Middle Name",variant:"outlined",value:a.middleName,onChange:L,fullWidth:!0})}),a.lastName!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,children:e.jsx(m,{name:"lastName",label:"Last Name",variant:"outlined",value:a.lastName,onChange:L,fullWidth:!0})}),a.motherName!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"motherName",label:e.jsxs("span",{children:["Mother Name ",parseInt(v)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.motherName,onChange:L,fullWidth:!0}),e.jsx(Q,{Error:parseInt(v)===71&&o.find(d=>d.field==="motherName")?"Mother Name should not be blank.":""})]}),a.mobileNumber1!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"mobileNumber1",label:e.jsxs("span",{children:["Mobile No. 1 ",(parseInt(v)===18||parseInt(v)===122)&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.mobileNumber1,onChange:ye,fullWidth:!0,inputProps:{maxLength:10}}),e.jsx(Q,{Error:(parseInt(v)===18||parseInt(v)===122)&&o.find(d=>d.field==="mobileNumber1")?"Mobile Number should not be blank.":b.find(d=>d.field==="mobileNumber1")?"Mobile number must be 10 digits":""})]}),a.email!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"email",label:"E-mail",variant:"outlined",value:a.email,onChange:L,fullWidth:!0}),e.jsx(Q,{Error:b.find(d=>d.field==="email")?"Please select a valid email address.":""})]}),a.parentName!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"parentName",label:e.jsxs("span",{children:["Parent Name ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.parentName,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="parentName")?"Parent Name should not be blank.":""})]}),a.mobileNumber2!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(m,{name:"mobileNumber2",label:e.jsxs("span",{children:["Mobile No. 2 ",parseInt(v)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.mobileNumber2,onChange:ye,fullWidth:!0}),e.jsx(Q,{Error:o.find(d=>d.field==="mobileNumber2")?"Mobile Number should not be blank.":b.find(d=>d.field==="mobileNumber2")?"Mobile number must be 10 digits":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,children:[e.jsx(me,{sx:{minWidth:{xs:"100%",sm:"22.9vw"}},ItemList:Y,onChange:d=>n("parentOccupation",d),label:"Parent Occupation",mandatory:!0,defaultValue:a.parentOccupation,size:"medium"}),e.jsx(Q,{Error:o.find(d=>d.field==="parentOccupation")?"Parent Occupation should not be blank.":""})]})]})}),e.jsxs(s,{item:!0,xs:12,sm:3,sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(H,{title:e.jsxs(e.Fragment,{children:["Upload or Capture an image file for student's photo ",e.jsx("br",{}),"(Max Height: 151px and Max Width: 112px) ",e.jsx("br",{}),"(Image size should not exceed 1 MB. Supported file formats are JPG, JPEG)"]}),placement:"top",children:e.jsx(V,{sx:{width:{xs:"80%",sm:"60%",md:"40%"},height:"160px",border:"2px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexDirection:"row"},children:F?e.jsx("img",{src:F.src,alt:F.name||"Uploaded Image",style:{objectFit:"cover",width:"100%",height:"100%"}}):e.jsx(Xo,{style:{objectFit:"cover",fontSize:"4rem",color:"#ccc"}})})}),e.jsxs(s,{container:!0,spacing:2,sx:{justifyContent:"space-between",pl:{xs:2,sm:4,md:10}},children:[e.jsx(s,{item:!0,xs:6,sm:8,sx:{display:"flex",justifyContent:"center"},children:e.jsx("input",{type:"file",ref:E,onChange:ge,style:{margin:"12px",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"}})}),e.jsx(s,{item:!0,xs:3,sm:2,sx:{display:"flex",justifyContent:"center"},children:e.jsx(q,{onClick:Te,children:e.jsx(H,{title:"Use Webcam",children:e.jsx(Rn,{})})})}),e.jsx(s,{item:!0,xs:3,sm:2,sx:{display:"flex",justifyContent:"center"},children:e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:()=>ht(),sx:{color:"#223354",mt:0,"&:hover":{color:"red",backgroundColor:"rgb(254, 226, 226)"}},children:e.jsx(Ke,{})})})})]}),te&&e.jsx("p",{style:{color:"red",marginTop:"8px"},children:te})]}),e.jsx(s,{item:!0,xs:12,children:e.jsxs(s,{container:!0,spacing:2,children:[a.parentOccupation=="5"&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"otherOccupation",label:e.jsxs("span",{children:["Other Occupation ",a.parentOccupation==="5"&&e.jsx("span",{style:{color:"red"},children:"*"})]}),variant:"outlined",value:a.parentOccupation=="5"?a.otherOccupation:"",onChange:L,error:a.parentOccupation==="5"&&!!o.find(d=>d.field==="otherOccupation"),helperText:a.parentOccupation==="5"&&o.find(d=>d.field==="otherOccupation")?"Other Occupation should not be blank when Parent Occupation is Other.":"",fullWidth:!0})}),a.address!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"address",label:e.jsxs("span",{children:["Address ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.address,onChange:L,fullWidth:!0,multiline:!0}),e.jsx(Q,{Error:o.find(d=>d.field==="address")?"Address should not be blank.":""})]}),a.city!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"city",label:e.jsxs("span",{children:["City ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.city,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="city")?"City name should not be blank.":""})]}),a.state!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"state",label:e.jsxs("span",{children:["State ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.state,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="state")?"State Name should not be blank.":""})]}),a.pin!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"pin",label:e.jsxs("span",{children:["PIN Code ",e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.pin,onChange:L,fullWidth:!0,inputProps:{maxLength:6,pattern:"[0-9]*",inputMode:"numeric"},onInput:d=>{const B=d.target;B.value=B.value.replace(/\D/g,"").slice(0,6)}}),e.jsx(Q,{Error:o.find(d=>d.field==="pin")?"PIN Code should not be blank.":""})]}),a.dateOfBirth!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(Qe,{DateValue:a.dateOfBirth,onDateChange:Ie("dateOfBirth"),size:"medium",label:"Date of Birth",error:"",helperText:"",maxDate:new Date}),e.jsx(Q,{Error:o.find(d=>d.field==="dateOfBirth")?"Date of Birth should not be blank.":""}),i&&e.jsxs(K,{variant:"body2",sx:{marginTop:"8px",color:"gray"},children:[Be??"--"," till ",new Date(i).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"2-digit"})]})]}),a.placeOfBirth!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"placeOfBirth",label:e.jsxs("span",{children:["Place of Birth ",parseInt(v)!==122&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.placeOfBirth,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="placeOfBirth")?"Place of Birth should not be blank.":""})]}),a.birthTaluka!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"birthTaluka",label:"Birth Taluka",variant:"outlined",value:a.birthTaluka,onChange:L,fullWidth:!0})}),a.birthDistrict!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"birthDistrict",label:"Birth District",variant:"outlined",value:a.birthDistrict,onChange:L,fullWidth:!0})}),a.birthState!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"birthState",label:"Birth State",variant:"outlined",value:a.birthState,onChange:L,fullWidth:!0})}),a.nationality!==void 0&&e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"nationality",label:e.jsxs("span",{children:["Nationality ",parseInt(v)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.nationality,onChange:L,fullWidth:!0}),e.jsx(Q,{Error:parseInt(v)===71&&o.find(d=>d.field==="nationality")?"Nationality field should not be blank.":""})]}),a.religion!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"religion",label:"Religion",variant:"outlined",value:a.religion,onChange:L,fullWidth:!0})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:{xs:"100%",sm:"15vw"}},ItemList:X,onChange:d=>n("category",d),label:"Category",defaultValue:a.category,size:"medium"})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"casteAndSubCaste",label:e.jsxs("span",{children:["Caste & Sub-Caste ",parseInt(v)!==122&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.casteAndSubCaste,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:o.find(d=>d.field==="casteAndSubCaste")?"Caste and Sub-Caste should not be blank.":""})]}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"motherTongue",label:e.jsxs("span",{children:["Mother Tongue ",parseInt(v)===71&&e.jsx("span",{style:{color:"red"},children:" *"})]}),variant:"outlined",value:a.motherTongue,onChange:L,fullWidth:!0,inputProps:{maxLength:50}}),e.jsx(Q,{Error:parseInt(v)===71&&o.find(d=>d.field==="motherTongue")?"Mother Tongue should not be blank.":""})]}),a.gender!==void 0&&e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsxs(m,{name:"gender",label:"Gender",variant:"outlined",value:a.gender,onChange:L,fullWidth:!0,select:!0,children:[e.jsx(on,{value:"M",children:"Male"}),e.jsx(on,{value:"F",children:"Female"})]})}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(me,{sx:{minWidth:{xs:"100%",sm:"15vw"}},ItemList:at,onChange:d=>n("bloodGroup",d),label:"Blood Group",defaultValue:a.bloodGroup,size:"medium"})}),e.jsxs(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:[e.jsx(m,{name:"aadharCardNumber",label:"Aadhar Card Number",variant:"outlined",value:a.aadharCardNumber,onChange:L,fullWidth:!0,inputProps:{maxLength:12,pattern:"[0-9]*",inputMode:"numeric"},onInput:d=>{const B=d.target;B.value=B.value.replace(/\D/g,"").slice(0,12)}}),e.jsx(Q,{Error:b.find(d=>d.field==="aadharCardNumber")?"Aadhar Card Number should have 12 digits.":""})]}),e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:e.jsx(m,{name:"nameOnAadharCard",label:"Name on Aadhar Card",variant:"outlined",value:a.nameOnAadharCard,onChange:L,fullWidth:!0,inputProps:{maxLength:50}})}),e.jsx(s,{item:!0,xs:8,sm:2.3,md:2.5,lg:2,children:e.jsx(vt,{ValidFileTypes:Me,MaxfileSize:C,ChangeFile:Je,FileName:a.aadharCardScanCopy,FileLabel:"Select Aadhar Card",width:"100%",height:"52px",isMandatory:!1,errorMessage:Z})}),e.jsx(s,{item:!0,xs:4,sm:1.7,md:1.5,lg:1,children:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:"View",children:e.jsx(q,{onClick:et,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(jt,{})})}),e.jsx(H,{title:"Delete",children:e.jsx(q,{onClick:tt,sx:{color:"#223354",mt:.7,"&:hover":{color:"red",backgroundColor:lt[100]}},children:e.jsx(Ke,{})})})]})})]})})]}),e.jsxs(Pt,{open:Ce,maxWidth:"md",fullWidth:!0,onClose:Ve,PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsx(Ot,{sx:{bgcolor:"#223354"},children:e.jsx(An,{onClick:Ve,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})}),e.jsx(Mt,{children:e.jsxs(V,{children:[e.jsx(K,{variant:"h2",sx:{pt:2,pl:1},children:"Upload Photo"}),e.jsx(V,{sx:{background:"white",top:"1px",alignItems:"center",pl:1,pr:2,pt:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:6,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,border:2,borderColor:"gray.300",maxWidth:"100%",maxHeight:"100%",overflow:"hidden"},children:Ae?e.jsxs(e.Fragment,{children:[e.jsx(Vl,{audio:!1,ref:f,screenshotFormat:"image/png",height:310,width:1280,onUserMediaError:d=>{console.error("Webcam error:",d),z("Unable to access webcam. Please check browser permissions."),ie(!1)},style:{position:"relative",objectFit:"contain",borderRadius:"4%"}}),e.jsx(q,{onClick:_e,sx:{position:"absolute",bottom:20,left:20,p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer",zIndex:10},children:e.jsx(H,{title:"Capture Photo",children:e.jsx(Gl,{})})}),e.jsx(q,{onClick:()=>ie(!1),sx:{position:"absolute",bottom:20,right:20,p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer",zIndex:10},children:e.jsx(H,{title:"Stop",children:e.jsx(zl,{})})})]}):e.jsx(q,{onClick:Ue,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,backgroundColor:"rgba(128, 128, 128, 0.5)",borderRadius:"50%",cursor:"pointer"},children:e.jsx(H,{title:"Reload Camera",children:e.jsx(Ll,{})})})}),e.jsx(s,{item:!0,xs:6,sx:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",p:2,border:2,maxWidth:"100%",maxHeight:"100%",overflow:"auto"},children:fe&&e.jsx("img",{src:fe,alt:"Captured",style:{minWidth:"100%",minHeight:"100%",borderRadius:"4%",objectFit:"contain"}})})]})})]})}),e.jsxs(wt,{sx:{py:2,px:3},children:[e.jsx(Fe,{color:"error",onClick:Ve,children:"Cancel"}),e.jsx(Fe,{onClick:mt,sx:{color:"green","&:hover":{color:"green",backgroundColor:qe[100]}},disabled:!1,children:"Upload"})]})]})]})},Jl=({itemList:a,onItemsChange:n,resetTrigger:o})=>{const[b,f]=l.useState([]),[v,N]=l.useState(!0);l.useEffect(()=>{const A=a.map(R=>({...R,checked:R.checked||!0}));f(A),N(A),p(A)},[a]),l.useEffect(()=>{const A=a.map(R=>({...R,checked:!1}));f(A),N(!1),p(A)},[o]);const p=A=>{n&&n(A)},w=A=>{const R=b.map(j=>j.CommonFieldId===A?{...j,checked:!j.checked}:j);f(R),p(R);const h=R.every(j=>j.checked);N(h)},G=()=>{const A=!v;N(A);const R=b.map(h=>({...h,checked:A}));f(R),p(R)};return e.jsxs(V,{sx:{width:"100%"},children:[e.jsx(V,{sx:{width:"100%",py:.5,pl:1,background:A=>A.palette.secondary.main,color:A=>A.palette.common.white},children:e.jsx(Se,{control:e.jsx(ue,{checked:v,onChange:G,sx:{color:A=>A.palette.common.white}}),label:" Update Details to Sibling",sx:{"& .MuiFormControlLabel-label":{color:"white"}}})}),e.jsx(Ro,{children:e.jsx(s,{container:!0,spacing:0,sx:{my:0,ml:0,border:A=>`1px solid ${A.palette.grey[300]}`},children:b.map(A=>e.jsx(s,{item:!0,xs:6,sx:{pl:1},children:e.jsx(Se,{control:e.jsx(ue,{checked:A.checked,onChange:()=>w(A.CommonFieldId),color:"primary"}),label:A.CommonFieldName})},A.commonFieldId))})})]})},ql=()=>{var g;ze();const a=localStorage.getItem("studentData"),n=JSON.parse(a),[o,b]=l.useState(null),f=M(E=>E.Students.NavigationValues),v=n.Name??(f==null?void 0:f.Name);f==null||f.YearWise_Student_Id;const N=n.SchoolWise_Student_Id??(f==null?void 0:f.SchoolWise_Student_Id);f==null||f.DivisionId,f==null||f.standardId;const p=n.Enrolment_Number??(f==null?void 0:f.Enrolment_Number),w=n.StandardDivision_Id??(f==null?void 0:f.StandardDivision_Id),G=M(E=>E.StudentUI.ISGetSingleStudentDetails),A=M(E=>E.ProgressReportNew.IsGetSchoolSettings),R=G[0]||{},{Photo_File_Path:h,Photo_file_Path_Image:j,ConfirmedByText:c,UpdatedByText:u,AdmissionStandard:O,ResidenceName:P}=R,y=((g=A==null?void 0:A.GetSchoolSettingsResult)==null?void 0:g.ShowConfirmedByName)===!0;l.useEffect(()=>{if(h&&j){const k=`data:image/${h.split(".").pop()||"jpeg"};base64,${j}`;b({src:k,name:h.split("/").pop(),base64:j})}},[h,j]),l.useEffect(()=>{},[o]);const I=E=>{if(!E)return null;const k=E.split(" "),T=k.slice(0,2).join(" "),Y=k.slice(2).join(" ");return e.jsxs(K,{variant:"body1",sx:{textAlign:"left"},children:[e.jsx("b",{children:T})," ",Y]})};return e.jsxs(s,{container:!0,spacing:2,sx:{padding:"1px"},children:[e.jsxs(s,{item:!0,xs:12,md:7,container:!0,alignItems:"center",sx:{flexDirection:{xs:"column",sm:"row"},textAlign:{xs:"center",sm:"left"}},children:[e.jsx(Xi,{src:(o==null?void 0:o.src)||"/path/to/default-image.jpg",alt:(o==null?void 0:o.name)||"Student photo",sx:{width:{xs:100,sm:80},height:{xs:100,sm:80},marginRight:{xs:0,sm:"16px"},marginBottom:{xs:"16px",sm:0}}}),e.jsxs("div",{children:[e.jsx(K,{variant:"h5",sx:{fontWeight:"bold"},children:v}),e.jsxs(K,{variant:"subtitle1",children:["Class: ",w]}),e.jsxs(K,{variant:"subtitle1",children:["Roll Number: ",N]}),e.jsxs(K,{variant:"subtitle1",children:["Registration Number: ",p]})]})]}),e.jsx(s,{item:!0,xs:12,md:5,container:!0,direction:"column",justifyContent:"flex-start",alignItems:{xs:"center",sm:"flex-start"},sx:{mt:{xs:2,md:0}},children:y?e.jsxs(e.Fragment,{children:[c&&I(c),u&&I(u),O&&e.jsxs(K,{variant:"body1",sx:{textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.9rem",sm:"1rem"},width:"100%"},children:[e.jsx("b",{children:"Admitted In:"})," ",O]}),P&&e.jsxs(K,{variant:"body1",sx:{textAlign:{xs:"center",sm:"left"},fontSize:{xs:"0.9rem",sm:"1rem"},width:"100%"},children:[e.jsx("b",{children:"Residence Type:"})," ",P]})]}):u&&I(u)})]})},Kl=({streamwiseSubject:a,onChange:n})=>{const o=$e();ze().state;const f=localStorage.getItem("SchoolId"),v=sessionStorage.getItem("AcademicYearId");localStorage.getItem("UserId");const[N,p]=l.useState(!1),[w,G]=l.useState(!1);l.useState(""),l.useState({}),l.useEffect(()=>{console.log("5️⃣streamwiseSubject data from Parent",a)},[a]);const A=M(I=>I.StudentUI.ISStudentStreamDetails);console.log("4️⃣1️⃣IsShowStreamSection",A);const R=M(I=>I.StudentUI.ISGetAllStreams),h=M(I=>I.StudentUI.ISGetAllGroupsOfStream),j=M(I=>I.StudentUI.ISFillOptionalSubjects),c=M(I=>I.StudentUI.ISFillOptionalSubjectArts),u=M(I=>I.StudentUI.ISFillCompitativeExams);l.useEffect(()=>{var I,g;parseInt(f)===122&&(I=A[0])!=null&&I.IsSecondary&&!((g=A[0])!=null&&g.IsMidYear)&&G(!0)},[]);const O={asSchoolId:Number(f)};l.useEffect(()=>{o(Qi(O))},[]),l.useEffect(()=>{if(w&&a.streamId){const I={asSchoolId:Number(f),asStreamId:Number(a.streamId)};o($i(I)),a.streamId!=="3"&&n("optionalSubject2","")}},[a.streamId]);const P={asSchoolId:Number(f),asStreamGroupId:Number(a.groupId),asAcademicYearId:Number(v)};l.useEffect(()=>{o(Zi(P))},[a.streamId,a.groupId]),l.useEffect(()=>{p(a.streamId==="3")},[a.streamId,a.optionalSubject2]),l.useEffect(()=>{if(h&&h.length===1){const I=h[0];n("groupId",I.Id)}},[h]);const y=I=>{const g=a.competitiveExams.includes(I)?a.competitiveExams.filter(E=>E!==I):[...a.competitiveExams,I];g.join(","),n("competitiveExams",g)};return e.jsx(V,{sx:{backgroundColor:"white",p:2},children:e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:a.streamId,ItemList:R,onChange:I=>n("streamId",I),label:"Stream",size:"medium"})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:w?a.groupId:"",ItemList:h,onChange:I=>n("groupId",I),label:"Group",size:"medium"})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(m,{name:"compulsorySubjects",label:"Compulsory Subjects",variant:"outlined",value:w?a.compulsorySubjects:"",InputProps:{readOnly:!0},fullWidth:!0})}),e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:w?a.optionalSubject1:"",ItemList:j,onChange:I=>n("optionalSubject1",I),label:"Optional Subject",size:"medium"})}),N&&e.jsx(s,{item:!0,xs:3,children:e.jsx(me,{sx:{minWidth:"300px"},defaultValue:w?a.optionalSubject2:"",ItemList:c,onChange:I=>n("optionalSubject2",I),label:"Optional Subject Arts",size:"medium"})}),e.jsx(s,{item:!0,xs:3,sx:{ml:2},children:e.jsxs(V,{children:[e.jsx("div",{children:"Competitive Exams"}),u.map(I=>e.jsx(Se,{control:e.jsx(ue,{checked:w?a.competitiveExams.includes(I.Id):!1,onChange:()=>y(I.Id)}),label:I.Name},I.Id))]})})]})})},xd=()=>{var Ma,wa,Fa,Ba,Ea,Ra,ka,Wa,Ta,_a,Ua,Ga,La,za,Ya,Va,Ha,Ja,qa,Ka,Xa,Qa,$a,Za,er,tr,ar,rr,sr,nr,ir,or,lr,dr,cr,ur,mr,hr,fr,pr,xr,gr,br,Sr,Ir,jr,vr,Nr,yr,Cr,Ar,Dr,Pr,Or,Mr,wr,Fr,Br,Er,Rr,kr,Wr,Tr,_r,Ur,Gr,Lr,zr,Yr,Vr,Hr,Jr,qr,Kr,Xr,Qr,$r,Zr,es,ts,as,rs,ss,ns,is,os,ls,ds,cs,us,ms,hs,fs,ps,xs,gs,bs,Ss,Is,js,vs,Ns,ys,Cs,As,Ds,Ps,Os,Ms,ws,Fs,Bs,Es,Rs,ks,Ws,Ts,_s,Us,Gs,Ls,zs,Ys,Vs,Hs,Js,qs,Ks,Xs,Qs,$s,Zs,en,tn,an,rn,sn,nn;const a=["JPG","JPEG","PNG","BMP","PDF"],n=$e(),o=ze(),{Name:b,standardId:f,DivisionId:v,YearWise_Student_Id:N,SchoolWise_Student_Id:p,StandardDivision_Id:w,Enrolment_Number:G,Joining_Date:A,User_Id:R}=o.state||{},h=localStorage.getItem("SchoolId"),j=Number(sessionStorage.getItem("AcademicYearId")),c=sessionStorage.getItem("Id"),u=localStorage.getItem("UserId");+(localStorage.getItem("SchoolId")=="122");const O=localStorage.getItem("RoleName"),P=localStorage.getItem("studentData"),y=JSON.parse(P),I=y.User_Id??R,[g,E]=l.useState(0);l.useState(!1);const[k,T]=l.useState(!1),[Y,X]=l.useState(!1);l.useState(!1),l.useState(""),l.useState("");const{AssignedDate:de,PageID:J}=kt(),xe=eo(),[i,he]=l.useState({admission:{userName:"",sendSMS:!1,newAdmission:!1,isRTEApplicable:!1,rteCategory:"",rteApplicationForm:"",annualIncome:"",formNumber:"",registrationNumber:"",admissionDate:"",joiningDate:"",studentRollNumber:"",UDISENumber:"",boardRegistrationNumber:"",saralNo:"",PENNumber:"",secondlanguage:"",thirdlanguage:"",applicableRules:"",staffUserRole:"",staffName:"",residenceTypes:"",feeAreaNames:"",RFID:"",isStaffKid:!1,isOnlyChild:!1,isRiseAndShine:!1,isMinority:!1,isForDayBoarding:!1,isDayBoardingFeePaid:!1,isHandicapped:!1,hidOldFeeAreaId:""},personal:{firstName:"",middleName:"",lastName:"",motherName:"",mobileNumber1:"",parentName:"",mobileNumber2:"",email:"",parentOccupation:"",otherOccupation:"",address:"",city:"",state:"",pin:"",placeOfBirth:"",birthTaluka:"",birthDistrict:"",birthState:"",religion:"",casteAndSubCaste:"",category:"",dateOfBirth:"",nationality:"",motherTongue:"",gender:"",bloodGroup:"",aadharCardNumber:"",nameOnAadharCard:"",aadharCardScanCopy:"",photoFilePath:null,photoFilePathImage:null},family:{fatherOccupation:"",fatherQualification:"",fatherEmail:"",fatherOfficeName:"",fatherOfficeAddress:"",fatherDesignation:"",fatherDOB:"",fatherPhoto:"",fatherWeight:0,fatherHeight:0,fatherBloodGroup:"",fatherAadharCard:"",fatherAnnualIncome:0,motherOccupation:"",motherQualification:"",motherEmail:"",motherOfficeName:"",motherOfficeAddress:"",motherDesignation:"",motherDOB:"",motherPhoto:"",motherWeight:0,motherHeight:0,motherAadharCard:"",motherBloodGroup:"",motherAnnualIncome:0,marriageAnniversaryDate:"",localGuardianPhoto:"",familyMonthlyIncome:0,cwsn:"",relativeFullName:"",residencePhoneNumber:"",neighbourPhoneNumber:"",officePhoneNumber:"",familyPhoto:"",name1:"",name2:"",age1:0,age2:0,institution1:"",institution2:"",standard1:"",standard2:"",fatherBinaryPhoto:null,motherBinaryPhoto:null,localGuardianBinaryPhoto:null,familyBinaryPhoto:null},additional:{lastSchoolName:"",lastSchoolAddress:"",standard:"",schoolUDISENo:"",schoolBoardName:"",isRecognised:"",houseNumber:"",mainArea:"",subareaName:"",landmark:"",taluka:"",district:"",admissionStandard:"",admissionAcademicYear:"",previousMarksObtained:"",previousMarksOutOf:"",subjectNames:"",previousYearOfPassing:"",currentAcademicYear:"",currentStandard:""},streamwiseSubject:{streamId:"",groupId:"",compulsorySubjects:"",optionalSubject:"",optionalSubject1:"",optionalSubject2:"",competitiveExams:""}}),[Be,L]=l.useState(""),[Ie,ye]=l.useState(!1),[Pe,je]=l.useState(""),[Ce,U]=l.useState([]),[Ae,ie]=l.useState(1),[fe,S]=l.useState(""),[F,pe]=l.useState(!1),x=M(t=>t.ProgressReportNew.IsGetSchoolSettings),ae=((Ma=x==null?void 0:x.GetSchoolSettingsResult)==null?void 0:Ma.IsAdditionalFieldsApplicable)||!1,te=((wa=x==null?void 0:x.GetSchoolSettingsResult)==null?void 0:wa.ShowDayBoardingOptionOnStudentsScreen)||!1,z=((Fa=x==null?void 0:x.GetSchoolSettingsResult)==null?void 0:Fa.IsRTEApplicable)||!1,[be,Oe]=l.useState(0),[ge,ut]=l.useState([]),[Te,_e]=l.useState(!1),[Ye,mt]=l.useState([]),Ue=t=>t?t.includes(" ")?new Date(t.split(" ")[0].split("-").reverse().join("-")):new Date(t.split("-").reverse().join("-")):null,Ve={18:{admission:["registrationNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","mobileNumber1","parentName","parentOccupation","address","city","pin","state","dateOfBirth","placeOfBirth","casteAndSubCaste"],family:["fatherDOB","motherDOB","marriageAnniversaryDate"]},71:{admission:["formNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","motherName","parentName","mobileNumber2","parentOccupation","address","city","pin","state","dateOfBirth","placeOfBirth","nationality","casteAndSubCaste","motherTongue"]},122:{admission:["registrationNumber","admissionDate","joiningDate","studentRollNumber"],personal:["firstName","mobileNumber1","parentName","parentOccupation","address","city","pin","state","dateOfBirth"]}},ht=(t,r)=>{const D=Ve[t],W=[];return Object.keys(D).forEach(_=>{D[_].forEach(re=>{var $;_==="family"&&Number(t)===18&&!ae||(W.push({tab:_,field:re}),re==="parentOccupation"&&(($=r==null?void 0:r.personal)==null?void 0:$.parentOccupation)==="5"&&W.push({tab:"personal",field:"otherOccupation"}))})}),W},Me=(t,r)=>{const D=ht(t,r);let W=0;const _=[];return D.forEach(({tab:$,field:ve})=>{var Xt;const Ne=(Xt=r[$])==null?void 0:Xt[ve];["admissionDate","joiningDate","dateOfBirth","fatherDOB","motherDOB","marriageAnniversaryDate"].includes(ve)?Ne&&we(Ne,"DD-MM-YYYY").isValid()?W++:_.push({tab:$,field:ve}):Ne&&Ne!==""?W++:_.push({tab:$,field:ve})}),{progress:(W/D.length*100).toFixed(0),invalidFields:_}};l.useEffect(()=>{const{progress:t,invalidFields:r}=Me(h,i),D=C(i);Oe(Number(t)),Te&&ut(r),mt(D)},[h,i,Te]);const C=t=>{const r=[],D=/^(?!.*\.\.)[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;if(t.admission&&t.admission.registrationNumber&&/^0+$/.test(t.admission.registrationNumber)&&r.push({tab:"admission",field:"registrationNumber"}),t.personal&&(t.personal.mobileNumber1&&t.personal.mobileNumber1.length!==10&&r.push({tab:"personal",field:"mobileNumber1"}),t.personal.email&&!D.test(t.personal.email)&&r.push({tab:"personal",field:"email"}),t.personal.mobileNumber2&&t.personal.mobileNumber2.length!==10&&r.push({tab:"personal",field:"mobileNumber2"}),t.personal.aadharCardNumber&&t.personal.aadharCardNumber.length!==12&&r.push({tab:"personal",field:"aadharCardNumber"})),t.family&&t.personal){const W=Ue(t.personal.dateOfBirth),_=Ue(t.family.fatherDOB),re=Ue(t.family.motherDOB),$=Ue(t.family.marriageAnniversaryDate);W&&_&&W<=_&&r.push({tab:"family",field:"fatherDOB"}),re&&W&&W<=re&&r.push({tab:"family",field:"motherDOB"}),$&&(_&&$<=_&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"F"}),re&&$<=re&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"M"}),$&&$>=W&&r.push({tab:"family",field:"marriageAnniversaryDate",code:"S"}))}return r},Z=Me(h,i);console.log("Invalid Fields:",Z.invalidFields);const se=C(i);console.log("Specific Invalid Fields:",se);const He=parseInt(h)===122?6:5,ft=(t,r)=>{E(Math.min(r,He-1))},fa=()=>{E(t=>Math.min(t+1,He-1))},Wt=()=>{E(t=>Math.max(t-1,0))};l.useEffect(()=>{g>=He&&E(He-1)},[h]),l.useEffect(()=>{o.state&&n(to({Name:b,standardId:f,DivisionId:v,YearWise_Student_Id:N,SchoolWise_Student_Id:p,StandardDivision_Id:w,Enrolment_Number:G,Joining_Date:A}))},[b,f,v,N,p,w,G,A]);const Je=M(t=>t.StudentUI.ISGetSingleStudentDetails),Ze=M(t=>t.StudentUI.ISGetStudentAdditionalDetails),et=M(t=>t.GetStandardwiseMinMaxDOB.IGetFormNumber),tt=M(t=>t.StudentUI.ISGetStudentDocuments),at=M(t=>t.StudentUI.ISGetStudentStreamwiseSubjectDetails),pt=M(t=>t.StudentUI.ISStudentStreamDetails),d=M(t=>t.StudentUI.ISReferenceMessages),B=Je[0],ce=(B==null?void 0:B.SiblingStudentName)||"",ne=(B==null?void 0:B.Rule_Id)??"0",Ee=B!=null&&B.Joining_Date?we(B==null?void 0:B.Joining_Date,"DD-MM-YYYY HH:mm:ss").format("DD-MM-YYYY"):"",Re=(Ba=i.admission)!=null&&Ba.joiningDate?we((Ea=i.admission)==null?void 0:Ea.joiningDate,"DD-MM-YYYY").format("DD-MM-YYYY"):"",ke=Ee?we(Ee,"DD-MM-YYYY").format("MMM"):"LOL",Nt=Re?we(Re,"DD-MM-YYYY").format("MMM"):"LOL";l.useEffect(()=>{te&&je(B==null?void 0:B.IsForDayBoarding)},[x,te]),l.useEffect(()=>{if(Je&&Je.length>0||Ze&&Object.keys(Ze).length>0||et&&et.length>0){const t=Je[0],r=Ze,D=et[0];he(W=>({...W,admission:{...W.admission,userName:(t==null?void 0:t.User_Login)||"",sendSMS:(t==null?void 0:t.Send_SMS)!=="False",newAdmission:(t==null?void 0:t.Is_New_Student)!=="False",isRTEApplicable:(t==null?void 0:t.Is_RTE_Student)!=="False",rteCategory:(t==null?void 0:t.RTECategoryId)||"",rteApplicationForm:(t==null?void 0:t.RTEApplicationFormNo)||"",annualIncome:(t==null?void 0:t.AnnualIncome)||"",formNumber:(D==null?void 0:D.FormNumber)||"",registrationNumber:(t==null?void 0:t.Enrolment_Number)||"0",admissionDate:(t==null?void 0:t.Admission_date)||"",joiningDate:(t==null?void 0:t.Joining_Date)||"",studentRollNumber:(t==null?void 0:t.Roll_No)||"",UDISENumber:(t==null?void 0:t.UDISENumber)||"",boardRegistrationNumber:(t==null?void 0:t.BoardRegistrationNo)||"",saralNo:(t==null?void 0:t.SaralNo)||"",PENNumber:(t==null?void 0:t.PENNumber)||"",secondlanguage:(t==null?void 0:t.SecondLanguageSubjectId)||"",thirdlanguage:(t==null?void 0:t.ThirdLanguageSubjectId)||"",applicableRules:(t==null?void 0:t.Rule_Id)||"0",staffUserRole:(t==null?void 0:t.ParentUserRoleId)||"",staffName:(t==null?void 0:t.ParentUserId)||"",residenceTypes:(t==null?void 0:t.ResidenceTypeId)||"",feeAreaNames:parseInt(h)===122?r==null?void 0:r.FeeAreaName:0,RFID:(r==null?void 0:r.RFID)||"",isStaffKid:(t==null?void 0:t.IsStaffKid)!=="False",isOnlyChild:(t==null?void 0:t.IsOnlyChild)!=="False",isRiseAndShine:(t==null?void 0:t.IsRiseAndShine)!=="False",isMinority:(t==null?void 0:t.Minority)!=="False",isForDayBoarding:(t==null?void 0:t.IsForDayBoarding)!=="False",isDayBoardingFeePaid:(t==null?void 0:t.IsDayBoardingFeePaid)!=="False",isHandicapped:(r==null?void 0:r.IsHandicapped)||!1,hidOldFeeAreaId:parseInt(h)===122?r==null?void 0:r.FeeAreaName:"0"},personal:{...W.personal,firstName:(t==null?void 0:t.First_Name)||"",middleName:(t==null?void 0:t.Middle_Name)||"",lastName:(t==null?void 0:t.Last_Name)||"",motherName:(t==null?void 0:t.Mother_Name)||"",mobileNumber1:(t==null?void 0:t.Mobile_Number)||"",parentName:(t==null?void 0:t.Parent_Name)||"",mobileNumber2:(t==null?void 0:t.Mobile_Number2)||"",email:(t==null?void 0:t.Email_Address)||"",parentOccupation:(t==null?void 0:t.Parent_Occupation)||"",otherOccupation:(t==null?void 0:t.Other_Occupation)||"",address:(t==null?void 0:t.Address)||"",city:(t==null?void 0:t.City)||"",state:(t==null?void 0:t.State)||"",pin:(t==null?void 0:t.Pincode)||"",placeOfBirth:(t==null?void 0:t.Birth_Place)||"",birthTaluka:r.BirthTaluka||"",birthDistrict:r.BirthDistrict||"",birthState:r.BirthState||"",religion:(t==null?void 0:t.Religion)||"",casteAndSubCaste:(t==null?void 0:t.CasteAndSubCaste)||"",category:(t==null?void 0:t.Category_Id)||"",dateOfBirth:(t==null?void 0:t.DOB)||"",nationality:(t==null?void 0:t.Nationality)||"",motherTongue:(t==null?void 0:t.Mother_Tongue)||"",gender:(t==null?void 0:t.Sex)||"",bloodGroup:(t==null?void 0:t.Blood_Group)||"",aadharCardNumber:(t==null?void 0:t.AadharCardNo)||"",nameOnAadharCard:(t==null?void 0:t.NameOnAadharCard)||"",aadharCardScanCopy:(t==null?void 0:t.AadharCard_Photo_Copy_Path)||"",photoFilePath:(t==null?void 0:t.Photo_File_Path)||null,photoFilePathImage:(t==null?void 0:t.Photo_file_Path_Image)||null},family:{...W.family,fatherOccupation:(r==null?void 0:r.FatherOccupation)||"",fatherQualification:(r==null?void 0:r.FatherQualification)||"",fatherEmail:(r==null?void 0:r.FatherEmail)||"",fatherOfficeName:(r==null?void 0:r.FatherOfficeName)||"",fatherOfficeAddress:(r==null?void 0:r.FatherOfficeAddress)||"",fatherDesignation:(r==null?void 0:r.FatherDesignation)||"",fatherDOB:(r==null?void 0:r.FatherDOB)||"",fatherPhoto:(r==null?void 0:r.FatherPhoto)||"",fatherWeight:(r==null?void 0:r.FatherWeight)||"",fatherHeight:(r==null?void 0:r.FatherHeight)||"",fatherBloodGroup:(r==null?void 0:r.FatherBloodGroup)||"",fatherAadharCard:(r==null?void 0:r.FatherAadharcardNo)||"",fatherAnnualIncome:(r==null?void 0:r.FatherAnnualIncome)||"",motherOccupation:(r==null?void 0:r.MotherOccupation)||"",motherQualification:(r==null?void 0:r.MotherQualification)||"",motherEmail:(r==null?void 0:r.MotherEmail)||"",motherOfficeName:(r==null?void 0:r.MotherOfficeName)||"",motherOfficeAddress:(r==null?void 0:r.MotherOfficeAddress)||"",motherDesignation:(r==null?void 0:r.MotherDesignation)||"",motherDOB:(r==null?void 0:r.MotherDOB)||"",motherPhoto:(r==null?void 0:r.MotherPhoto)||"",motherWeight:(r==null?void 0:r.MotherWeight)||"",motherHeight:(r==null?void 0:r.MotherHeight)||"",motherAadharCard:(r==null?void 0:r.MotherAadharcardNo)||"",motherBloodGroup:(r==null?void 0:r.MotherBloodGroup)||"",motherAnnualIncome:(r==null?void 0:r.MotherAnnualIncome)||"",marriageAnniversaryDate:(r==null?void 0:r.AnniversaryDate)||"",localGuardianPhoto:(r==null?void 0:r.GuardianPhoto)||"",familyMonthlyIncome:(r==null?void 0:r.FamilyMonthlyIncome)||"",cwsn:(r==null?void 0:r.CWSN)||"",relativeFullName:(r==null?void 0:r.RelativeName)||"",residencePhoneNumber:(t==null?void 0:t.Residence_Phone_Number)||"",neighbourPhoneNumber:(t==null?void 0:t.Neighbour_Number)||"",officePhoneNumber:(t==null?void 0:t.Office_Number)||"",familyPhoto:(t==null?void 0:t.Family_Photo_Copy_Path)||"",name1:(r==null?void 0:r.Name1)||"",name2:(r==null?void 0:r.Name2)||"",age1:(r==null?void 0:r.Age1)||"",age2:(r==null?void 0:r.Age2)||"",institution1:(r==null?void 0:r.Institution1)||"",institution2:(r==null?void 0:r.Institution2)||"",standard1:(r==null?void 0:r.StandardName1)||"",standard2:(r==null?void 0:r.StandardName2)||""},additional:{...W.additional,lastSchoolName:(t==null?void 0:t.LastSchoolName)||"",lastSchoolAddress:(t==null?void 0:t.LastSchoolAddress)||"",standard:(t==null?void 0:t.LastCompletedStd)||"",schoolUDISENo:(t==null?void 0:t.LastSchoolUDISENo)||"",schoolBoardName:(t==null?void 0:t.LastCompletedBoard)||"",isRecognised:(t==null?void 0:t.IsRecognisedBoard)==="True"?"Yes":"No",houseNumber:r.HouseNoPlotNo||"",mainArea:r.MainArea||"",subareaName:r.SubareaName||"",landmark:r.Landmark||"",taluka:r.Taluka||"",district:r.District||"",admissionStandard:r.AddmissionStandard||"",admissionAcademicYear:r.AddmissionAcademicYear||"",previousMarksObtained:r.PreviousMarksObtained||"",previousMarksOutOf:r.PreviousMarksOutOff||"",subjectNames:r.SubjectNames||"",previousYearOfPassing:r.PreviousYearOfPassing||"",currentAcademicYear:r.CurrentAcademicYear||"",currentStandard:r.CurrentStandard||""}}))}},[Je,Ze,et]),l.useEffect(()=>{if(at&&at.length>0){const t=at[0];he(r=>{var D,W;return{...r,streamwiseSubject:{streamId:t.StreamId||"",groupId:t.GroupId||"",compulsorySubjects:t.CompulsorySubjects||"",optionalSubject:"",optionalSubject1:((D=t.OptionalSubjects)==null?void 0:D.split(",")[0])||"",optionalSubject2:((W=t.OptionalSubjects)==null?void 0:W.split(",")[1])||"",competitiveExams:t.CompitativeExam?t.CompitativeExam.split(","):[]}}})}},[at]),l.useEffect(()=>{tt&&tt.length>0&&U(tt)},[tt]),l.useEffect(()=>{console.log("Nested Form🆕",i)},[i,Ce]),l.useEffect(()=>{(async()=>{try{const r={asSchoolId:Number(h)},D={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:f??(y==null?void 0:y.standardId),asDivisionId:v??(y==null?void 0:y.DivisionId)},W={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStudentId:p??y.SchoolWise_Student_Id},_={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??y.SchoolWise_Student_Id},re={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??y.SchoolWise_Student_Id},$={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStandardId:f??y.standardId,asStudentId:p??y.SchoolWise_Student_Id,asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId"))};await Promise.all([n(fo(r)),n(po(D)),n(xo(W)),n(go(_)),n(bo(re)),n(vn($))])}catch(r){console.error("Failed to fetch data:",r)}})()},[]),l.useEffect(()=>{if(h&&parseInt(h)===122){const t={asSchoolId:Number(localStorage.getItem("localSchoolId"))};n(ao(t))}},[h]),l.useEffect(()=>{if(h&&parseInt(h)===122){const t={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStudentId:y.SchoolWise_Student_Id};n(ro(t))}},[h]);const De=t=>{try{if(t.includes("-")){const[D,W,_]=t.split(" ")[0].split("-");if(D.length===2)return`${_}-${W}-${D}`}return new Date(t).toISOString().split("T")[0]}catch{return""}};function xt(){const t=new Date,r=t.getFullYear(),D=String(t.getMonth()+1).padStart(2,"0"),W=String(t.getDate()).padStart(2,"0");return`${r}-${D}-${W}`}const _n=["January","February","March","April","May","June","July","August","September","October","November","December"],Tt=t=>{const r=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],D=["Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],W=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"];if(t<10)return r[t];if(t<20)return D[t-11];if(t<100)return W[Math.floor(t/10)]+(t%10?" "+r[t%10]:"");const _=Math.floor(t/100),re=t%100;return r[_]+" Hundred"+(re?" "+Tt(re):"")},Un=t=>{const r=t.split(" ")[0],[D,W,_]=r.split("-").map(Number),re=Tt(D),$=_n[W-1],ve=_%100,Ne=`Two Thousand ${Tt(ve)}`;return`${re} ${$} ${Ne}`},oe=M(t=>t.StudentUI.ISUpdateStudent),_t=(oe==null?void 0:oe.aiTrackingId)||0,pa={asSchoolId:Number(localStorage.getItem("localSchoolId")),asStudentId:p??y.SchoolWise_Student_Id,asInsertedById:Number(c),asID:0,asAcademicYearId:j,asFormNumber:Number((Ra=i.admission)==null?void 0:Ra.formNumber)||0,asPhoto_file_Path:((ka=i.personal)==null?void 0:ka.photoFilePath)||"",asFirst_Name:((Wa=i.personal)==null?void 0:Wa.firstName)||"",asMiddle_Name:((Ta=i.personal)==null?void 0:Ta.middleName)||"",asLast_Name:((_a=i.personal)==null?void 0:_a.lastName)||"",asMother_Name:((Ua=i.personal)==null?void 0:Ua.motherName)||"",asBlood_Group:((Ga=i.personal)==null?void 0:Ga.bloodGroup)||"",asEnrolment_Number:((La=i.admission)==null?void 0:La.registrationNumber)||"",asParent_Name:((za=i.personal)==null?void 0:za.parentName)||"",asParent_Occupation:((Ya=i.personal)==null?void 0:Ya.parentOccupation)||"",asOther_Occupation:((Va=i.personal)==null?void 0:Va.otherOccupation)||"",asAddress:((Ha=i.personal)==null?void 0:Ha.address)||"",asCity:((Ja=i.personal)==null?void 0:Ja.city)||"",asState:((qa=i.personal)==null?void 0:qa.state)||"",asPincode:((Ka=i.personal)==null?void 0:Ka.pin)||"",asResidence_Phone_Number:((Xa=i.family)==null?void 0:Xa.residencePhoneNumber)||"9224286937",asMobile_Number:((Qa=i.personal)==null?void 0:Qa.mobileNumber1)||"",asMobile_Number2:(($a=i.personal)==null?void 0:$a.mobileNumber2)||"",asOffice_Number:((Za=i.family)==null?void 0:Za.officePhoneNumber)||"9270362059",asNeighbour_Number:((er=i.family)==null?void 0:er.neighbourPhoneNumber)||"",asUpdated_By_Id:c,asUpdate_Date:xt()||"2024-12-10",asDOB:De((tr=i.personal)==null?void 0:tr.dateOfBirth)||"2011-03-29",asBirth_Place:((ar=i.personal)==null?void 0:ar.placeOfBirth)||"",asNationality:((rr=i.personal)==null?void 0:rr.nationality)||"",asSex:((sr=i.personal)==null?void 0:sr.gender)||"",asSalutation_Id:((nr=i.personal)==null?void 0:nr.gender)==="F"?"6":"5",asCategory_Id:((ir=i.personal)==null?void 0:ir.category)||"",asCasteAndSubCaste:((or=i.personal)==null?void 0:or.casteAndSubCaste)||"",asAdmission_Date:De((lr=i.admission)==null?void 0:lr.admissionDate)||"",asJoining_Date:De((dr=i.admission)==null?void 0:dr.joiningDate)||"",asDateOfBirthInText:Un((cr=i.personal)==null?void 0:cr.dateOfBirth)||"Twenty Lol One March Two Thousand Eleven",asOptional_Subject_Id:"0",asMother_Tongue:((ur=i.personal)==null?void 0:ur.motherTongue)||"",asLastSchoolName:((mr=i.additional)==null?void 0:mr.lastSchoolName)||"",asLastSchoolAddress:((hr=i.additional)==null?void 0:hr.lastSchoolAddress)||"",asLastCompletedStd:((fr=i.additional)==null?void 0:fr.standard)||"",asLastSchoolUDISENo:((pr=i.additional)==null?void 0:pr.schoolUDISENo)||"",asLastCompletedBoard:((xr=i.additional)==null?void 0:xr.schoolBoardName)||"",asIsRecognisedBoard:((gr=i.additional)==null?void 0:gr.isRecognised)==="Yes"?"True":"False",asAadharCardNo:((br=i.personal)==null?void 0:br.aadharCardNumber)||"",asNameOnAadharCard:((Sr=i.personal)==null?void 0:Sr.nameOnAadharCard)||"",asAadharCard_Photo_Copy_Path:((Ir=i.personal)==null?void 0:Ir.aadharCardScanCopy)||"",asFamily_Photo_Copy_Path:((jr=i.family)==null?void 0:jr.familyPhoto)||"",asUDISENumber:((vr=i.admission)==null?void 0:vr.UDISENumber)||"",asBoardRegistrationNo:((Nr=i.admission)==null?void 0:Nr.boardRegistrationNumber)||"",asIsRiseAndShine:((yr=i.admission)==null?void 0:yr.isRiseAndShine)===!1?"False":"True",asAdmissionSectionId:"0",asGRNumber:"",asStudentUniqueNo:"",asSaralNo:((Cr=i.admission)==null?void 0:Cr.saralNo)||"",asIsOnlyChild:((Ar=i.admission)==null?void 0:Ar.isOnlyChild)===!1?"False":"True",asMinority:((Dr=i.admission)==null?void 0:Dr.isMinority)===!1?"False":"True",asRoll_No:((Pr=i.admission)==null?void 0:Pr.studentRollNumber)||"",asRule_Id:((Or=i.admission)==null?void 0:Or.applicableRules)||"0",asIsStaffKid:((Mr=i.admission)==null?void 0:Mr.isStaffKid)!==!1,asHeight:0,asWeight:0,asUpdated_By_id:Number(c),asRTECategoryId:z&&((wr=i.admission)!=null&&wr.isRTEApplicable)?Number((Fr=i.admission)==null?void 0:Fr.rteCategory):0,asSecondLanguageSubjectId:((Br=i.admission)==null?void 0:Br.secondlanguage)||"",asThirdLanguageSubjectId:((Er=i.admission)==null?void 0:Er.thirdlanguage)||"",asIsForDayBoarding:((Rr=i.admission)==null?void 0:Rr.isForDayBoarding)!==!1,asFeeCategoryDetailsId:"0",asRTEApplicationFormNo:z&&((kr=i.admission)!=null&&kr.isRTEApplicable)?(Wr=i.admission)==null?void 0:Wr.rteApplicationForm:"",asAnnualIncome:z&&((Tr=i.admission)!=null&&Tr.isRTEApplicable)?Number((_r=i.admission)==null?void 0:_r.annualIncome):0,asStandard_Id:f??y.standardId,asDivision_Id:v??y.DivisionId,asReligion:((Ur=i.personal)==null?void 0:Ur.religion)||"",asYearWise_Student_Id:N??y.YearWise_Student_Id,asParentUserId:Number((Gr=i.admission)==null?void 0:Gr.staffName)||0,asStudentEmailAddress:((Lr=i.personal)==null?void 0:Lr.email)||"",asUserId:I,IsDeleteFee:Ie??!1,adtOldJoiningDate:De(Ee)},xa={asSchoolId:Number(h),asAcademicYearId:Number(j),asSchoolWise_Student_Id:p??y.SchoolWise_Student_Id,asUpdatedById:Number(u)},ga={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAdmissionAcadmicYear:((zr=i.additional)==null?void 0:zr.admissionAcademicYear)||"",asAdmissionStandard:((Yr=i.additional)==null?void 0:Yr.admissionStandard)||"",asCurrentAcademicYear:((Vr=i.additional)==null?void 0:Vr.currentAcademicYear)||"",asCurrentStandard:((Hr=i.additional)==null?void 0:Hr.currentStandard)||"",asIsHandicapped:((Jr=i.admission)==null?void 0:Jr.isHandicapped)||!1,asPreviousMarksObtained:((qr=i.additional)==null?void 0:qr.previousMarksObtained)||"",asPreviousMarksOutOff:((Kr=i.additional)==null?void 0:Kr.previousMarksOutOf)||"",asPreviousYearOfPassing:((Xr=i.additional)==null?void 0:Xr.previousYearOfPassing)||"",asSubjectNames:((Qr=i.additional)==null?void 0:Qr.subjectNames)||"",asSchoolwiseStudentId:p??y.SchoolWise_Student_Id,asUserid:Number(u),asReligion:(($r=i.personal)==null?void 0:$r.religion)||"",asBirthTaluka:((Zr=i.personal)==null?void 0:Zr.birthTaluka)||"",asBirthDistrict:((es=i.personal)==null?void 0:es.birthDistrict)||"",asHouseNoPlotNo:((ts=i.additional)==null?void 0:ts.houseNumber)||"",asMainArea:((as=i.additional)==null?void 0:as.mainArea)||"",asSubareaName:((rs=i.additional)==null?void 0:rs.subareaName)||"",asLandmark:((ss=i.additional)==null?void 0:ss.landmark)||"",asTaluka:((ns=i.additional)==null?void 0:ns.taluka)||"",asDistrict:((is=i.additional)==null?void 0:is.district)||"",asFeeAreaName:parseInt(h)===122?Number((os=i.admission)==null?void 0:os.feeAreaNames):0,asFatherOccupation:((ls=i.family)==null?void 0:ls.fatherOccupation)||"",asFatherQualification:((ds=i.family)==null?void 0:ds.fatherQualification)||"",asFatherEmail:((cs=i.family)==null?void 0:cs.fatherEmail)||"",asFatherOfficeName:((us=i.family)==null?void 0:us.fatherOfficeName)||"",asFatherOfficeAddress:((ms=i.family)==null?void 0:ms.fatherOfficeAddress)||"",asMotherOccupation:((hs=i.family)==null?void 0:hs.motherOccupation)||"",asMotherQualification:((fs=i.family)==null?void 0:fs.motherQualification)||"",asMotherEmail:((ps=i.family)==null?void 0:ps.motherEmail)||"",asMotherOfficeName:((xs=i.family)==null?void 0:xs.motherOfficeName)||"",asMotherOfficeAddress:((gs=i.family)==null?void 0:gs.motherOfficeAddress)||"",asFatherDOB:De((bs=i.family)==null?void 0:bs.fatherDOB)||"",asMotherDOB:De((Ss=i.family)==null?void 0:Ss.motherDOB)||"",asFatherDesignation:((Is=i.family)==null?void 0:Is.fatherDesignation)||"",asMotherDesignation:((js=i.family)==null?void 0:js.motherDesignation)||"",asFatherPhoto:((vs=i.family)==null?void 0:vs.fatherPhoto)||"",asMotherPhoto:((Ns=i.family)==null?void 0:Ns.motherPhoto)||"",asAnniversaryDate:De((ys=i.family)==null?void 0:ys.marriageAnniversaryDate)||"",asLocalGuardianPhoto:((Cs=i.family)==null?void 0:Cs.localGuardianPhoto)||"",asRelativeName:((As=i.family)==null?void 0:As.relativeFullName)||"",asFatherBinaryPhoto:((Ds=i.family)==null?void 0:Ds.fatherBinaryPhoto)||null,asMotherBinaryPhoto:((Ps=i.family)==null?void 0:Ps.motherBinaryPhoto)||null,asRelativeBinaryPhoto:((Os=i.family)==null?void 0:Os.localGuardianBinaryPhoto)||null,asFatherWeight:((Ms=i.family)==null?void 0:Ms.fatherWeight)||0,asMotherWeight:((ws=i.family)==null?void 0:ws.motherWeight)||0,asFatherHeight:((Fs=i.family)==null?void 0:Fs.fatherHeight)||0,asMotherHeight:((Bs=i.family)==null?void 0:Bs.motherHeight)||0,asFatherAadharcardNo:((Es=i.family)==null?void 0:Es.fatherAadharCard)||"",asMotherAadharcardNo:((Rs=i.family)==null?void 0:Rs.motherAadharCard)||"",asFatherBloodGroup:((ks=i.family)==null?void 0:ks.fatherBloodGroup)||"",asMotherBloodGroup:((Ws=i.family)==null?void 0:Ws.motherBloodGroup)||"",asFamilyMonthlyIncome:((Ts=i.family)==null?void 0:Ts.familyMonthlyIncome)||0,asCWSN:((_s=i.family)==null?void 0:_s.cwsn)||"",asFatherAnnualIncome:((Us=i.family)==null?void 0:Us.fatherAnnualIncome)||0,asMotherAnnualIncome:((Gs=i.family)==null?void 0:Gs.motherAnnualIncome)||0,asBirthState:((Ls=i.personal)==null?void 0:Ls.birthState)||"",asName1:((zs=i.family)==null?void 0:zs.name1)||"",asAge1:((Ys=i.family)==null?void 0:Ys.age1)||0,asInstitute1:((Vs=i.family)==null?void 0:Vs.institution1)||"",asStandard1:((Hs=i.family)==null?void 0:Hs.standard1)||"",asName2:((Js=i.family)==null?void 0:Js.name2)||"",asAge2:((qs=i.family)==null?void 0:qs.age2)||0,asInstitute2:((Ks=i.family)==null?void 0:Ks.institution2)||"",asStandard2:((Xs=i.family)==null?void 0:Xs.standard2)||"",asResidenceType:Number((Qs=i.admission)==null?void 0:Qs.residenceTypes)||0,asRFID:(($s=i.admission)==null?void 0:$s.RFID)||""},yt={asSchoolId:Number(h),asStudentId:Number(p??y.SchoolWise_Student_Id),asStreamId:Number((Zs=i.streamwiseSubject)==null?void 0:Zs.streamId)||0,GroupId:Number((en=i.streamwiseSubject)==null?void 0:en.groupId)||0,CompulsorySubject:((tn=i.streamwiseSubject)==null?void 0:tn.compulsorySubjects)||"",chkCompitativeExams:((an=i.streamwiseSubject)==null?void 0:an.competitiveExams)||"0",OptSubjectOne:Number((rn=i.streamwiseSubject)==null?void 0:rn.optionalSubject1)||0,OptSubjectTwo:Number((sn=i.streamwiseSubject)==null?void 0:sn.optionalSubject2)||0},ba={asSchoolId:Number(h),asAcademicYearId:Number(j),asStudentId:Number(p??y.SchoolWise_Student_Id),asUpdatedById:Number(c)},Sa={asSchoolId:Number(h),asAcademicYearId:Number(j),asStudentId:Number(p??y.SchoolWise_Student_Id),asMode:1,asSiblingId:fe},Ia={asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id,asStudentBinaryPhoto:((nn=i.personal)==null?void 0:nn.photoFilePathImage)||null},Gn={asSchoolId:Number(h),asReference_Id:87,asRecord_Id:Number(p??y.SchoolWise_Student_Id),asRecord_Name:"",asAcadmicYearId:Number(j)},Ln=async()=>{var _;let t=!1;const r=ne!==((_=i.admission)==null?void 0:_.applicableRules),D=Ee!==Re,W=ke!==Nt;return(r||D)&&(t=!0,O!=="SuperAdmin"&&D&&W?await n(Co(Gn)):t=!1),{bFlag:t}},ja=async(t,r,D,W,_,re,$)=>{var ve,Ne;try{console.log("1️⃣Update Student",t),await n(Ao(t)),console.log("2️⃣ Handle Day Boarding Fees",te),te&&Pe!==(((ve=i.admission)==null?void 0:ve.isForDayBoarding)===!0?"True":"False")&&await n(Do(r)),ae&&(console.log(".3️⃣Additional details:",D),await n(Po(D)),parseInt(h)===122?(console.log("4️⃣ Transport fee entries:",_),i.admission.feeAreaNames!=i.admission.hidOldFeeAreaId&&await n(dn(_))):(console.log("✅4️⃣ Transport fee entries:",_),await n(dn(_)))),Ae===0&&(console.log("5️⃣OverwriteSiblingDetails:",Ae),await n(Oo(re))),console.log("6️⃣✅Updating student photo:",$),(Ne=i.personal)!=null&&Ne.photoFilePathImage&&$&&(console.log("6️⃣Updating student photo:",$),await n(Mo($))),console.log("✅✅✅API calls completed successfully.")}catch(st){console.error("Error during API calls:",st)}},zn=async t=>{var re,$,ve,Ne;t.preventDefault(),_e(!0);const r=C(i),{invalidFields:D}=Me(h,i);if(D.length>0||r.length>0){const st=D[0]||r[0];E(()=>({admission:0,personal:1,documents:2,family:3,additional:4,stream:5})[st.tab]||0),console.log("❎❎❎ Submission Stopped");return}parseInt(h)===122&&yt&&(re=pt[0])!=null&&re.IsSecondary&&!(($=pt[0])!=null&&$.IsMidYear)&&await n(So(yt));const W=await Ln();if(ye(W.bFlag),console.log("⚠️",W),(ve=d[0])!=null&&ve.ReferenceMsg){L((Ne=d[0])==null?void 0:Ne.ReferenceMsg);return}if(!!ce){gi();return}try{await ja(pa,xa,ga,yt,ba,Sa,Ia),console.log("✅ Form submitted successfully with all API calls completed!"),_e(!1),L("")}catch(st){console.error("🚨 Error during form submission or API calls:",st)}},Yn=async()=>{if(_e(!0),!fe||fe.length===0){le.warning("At least one detail should be selected to update in the sibling profile"),console.warn("🚨 Sibling update halted due to missing selections.");return}try{await ja(pa,xa,ga,yt,ba,Sa,Ia)}catch(t){console.error("🚨 Error during form submission or API calls:",t)}};l.useEffect(()=>{oe!==null&&Object.keys(oe).length>0&&(oe.iReturnValue===3&&!oe.IsRollNumberDuplicate&&!oe.IsRegisterNoAlreadyPresent&&!oe.IsGeneralRegisterNoAlreadyPresent&&!oe.IsStudentUniqueNoAlreadyPresent&&!oe.CheckIsRFormNumberDuplicate?le.success("Student information updated successfully."):(oe.IsRollNumberDuplicate&&le.error("Roll number is already present."),oe.IsRegisterNoAlreadyPresent&&le.error("Register number is already present."),oe.IsGeneralRegisterNoAlreadyPresent&&le.error("General register number is already present."),oe.IsStudentUniqueNoAlreadyPresent&&le.error("Student unique number is already present."),oe.CheckIsRFormNumberDuplicate&&le.error("R-form number is already present."),oe.iReturnValue!=3&&le.error("Update failed. Please check values.")),_e(!1))},[oe]),l.useEffect(()=>{if(Re===Ee&&n(so()),_t!=0){const t={asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id,asInsertedById:Number(c),asID:_t,asAcademicYearId:Number(j)};n(no(t)),Hn(),setTimeout(()=>{n(io())},50),setTimeout(()=>{xe("/RITeSchool/Teacher/Students",{state:{fromInternal:!0}})},2e3)}},[_t]);const Vn=t=>{const r="xmlns:xsd='http://www.w3.org/2001/XMLSchema' xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance'",D=t.map(_=>`
      <StudentDocument>
        <StudentDocumentId>${_.Id}</StudentDocumentId>
        <StandardwiseDocumentId>${_.StandardwiseDocumentId}</StandardwiseDocumentId>
        <SchoolwiseStudentId>${_.SchoolwiseStudentId}</SchoolwiseStudentId>
        <IsSubmitted>${_.IsSubmitted}</IsSubmitted>
        <IsApplicable>${_.IsApplicable}</IsApplicable>
        <DocumentCount>${_.DocumentCount}</DocumentCount>
        <IsSubmissionMandatory>${_.IsSubmissionMandatory==="1"}</IsSubmissionMandatory>
      </StudentDocument>
    `).join("");return`<ArrayOfStudentDocument ${r}>${D}</ArrayOfStudentDocument>`},Hn=()=>{const t=Vn(Ce),r={asSchoolId:Number(h),asDocXML:t,asYearwiseStudentId:N??y.YearWise_Student_Id,asInsertedById:Number(c)};if(Ce.length!==0){n(oo(r));return}},Jn=(t,r)=>{he(D=>({...D,admission:{...D.admission,[t]:r}}))},qn=(t,r)=>{he(D=>({...D,personal:{...D.personal,[t]:r}}))},Kn=t=>{U(t)},Xn=(t,r)=>{he(D=>({...D,family:{...D.family,[t]:r}}))},Qn=(t,r)=>{he(D=>({...D,additional:{...D.additional,[t]:r}}))},$n=(t,r)=>{he(D=>({...D,streamwiseSubject:{...D.streamwiseSubject,[t]:r}}))},[va,Na]=l.useState(0),[Zn,ei]=l.useState(""),[ti,ai]=l.useState(""),[Ut,Gt]=l.useState(""),[gt,bt]=l.useState(""),[Xl,Lt]=l.useState(""),[Ql,ri]=l.useState(""),[ya,zt]=l.useState(we().format("DD-MM-YYYY HH:mm:ss")),{showAlert:si,closeAlert:Ca}=l.useContext(Rt),[Aa,rt]=l.useState(""),[Yt,St]=l.useState(""),Da=1e6,Ct=M(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentNameForAchievementControl),Pa=M(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentsAllAchievementList),At=M(t=>t.GetStandardwiseMinMaxDOB.ISGetStudentAchievementDetailsEdit),Vt=M(t=>t.GetStandardwiseMinMaxDOB.ISSaveStudentAchievementDetailsMsg),Oa=M(t=>t.GetStandardwiseMinMaxDOB.ISDeleteStudentAchievementDetailsMsg),Ht={asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id},ni=()=>{const t={asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id};n(Io(t)),n($t(Ht)),T(!0)};l.useEffect(()=>()=>{qt()},[]),l.useEffect(()=>{if(Ct&&Ct.length>0){const t=Ct[0];ei(t.RegistrationNo),ai(t.StudentName)}},[Ct]),l.useEffect(()=>{if(At&&At.length>0){const t=At[0];t&&(Gt(t.Description||""),bt(t.Attachment||""),zt(t.AchievementDate||""))}St("")},[At]);const ii=t=>{const{name:r,value:D}=t.target;Gt(D),St("")},oi=t=>r=>{zt(we(r).format("DD-MM-YYYY HH:mm:ss"))},li=t=>{const r=t.size||t.Value.length*.75;if(t&&!a.includes(t.FileExtension.toUpperCase())){rt(t.ErrorMsg?"Invalid file format.":""),bt(""),Lt("");return}if(r>Da){rt("File size should be less than 1 MB."),bt(""),Lt("");return}bt(t.Name),Lt(t.Value),ri(t.FileExtension),rt(t.ErrorMsg)},di=t=>{window.open(localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/StudentAchievement/"+t)},ci=t=>{rt(""),Na(t);const r={asAchievementId:t,asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id};n(jo(r))},ui={asAchievementId:va,asStudentId:p??y.SchoolWise_Student_Id,asAchievementDate:De(ya),asDescription:Ut||" ",asAttachment:gt||"",asSchoolId:Number(h),asAcademicYearId:j,asUpdatedById:Number(c),asSaveFeature:"StudentAchievement",asFolderName:"PPSN Website",asBase64String:"/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAB6AHADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3+iiigAooooAKKK4bxH4lkuzNZ6dcNDbRsUluYmw8jA4KoewB4Ldc8DGM1MpKKuyoxcnZGvrXjjw/oM5t7y/U3A+9DCpkZfrjp+NYzfFnw4koR49QXP8AEYBgfrn9K89n0TTmb5bYr9G6+596t22jWky7Gt0YDHJrm+s62SOtYR2u2exaTrmma7bmfTL2K5Rcbth5XPTIPI/GtCvHbeyg0y6Se0U2d4g/dzw8EexHRh6g8V6J4c8RprKyWtwqxalAoaWNc7XU9JEz/CfTqp4PYnanVUtDnqUnA3qKKK1MgooooAKKKKACiiigDlPiD4hbw/4Zd4W23V04ghIOCufvN+Az+OK4LAjt4oIsBEQKoHbAqb43tMbvQY1LmNhL8vQE5T8zXNazrsmmqILZBLdqo8w9lPpXNW10OmhpqdBKrHyyQcHocVNaFoJTkfKenFeXnxlrSXX+lSDb2UEECumuNe1G30WK9a2Kq+PnxxXK4uLO6MlKJ19+mMNg/jVK51WTRXsdbiBMljL86g48yJuHX8f5gVwlp4w16ecokUc0Q/hJAOK2b3Vf7S8OXXmRGOe3dWljx1XcBmtIpqVzKo04WPoa2uI7q1huYTuilQSIfUEZFS1geCWd/BGimQkt9kQZLZzxW/XeeaFFFFABRRRQAUUUUAeZ/Fe2+0al4VGMgXUpYewUN/7LXmeq6JqM91LJbzlXds5UDIz1OT0/Cut1vxLqGqeLbyC8aL7JY3U8VpGoww2rtLepzz3pBqoT5DGGZh0xXFVqe9dHdSpNKzODTwfcbVkvJCyJwxJO5yf89q6+50/z/Dq2skZEOAq+2OlVdZ1ae0sWuIrQzuxwiY43difaufHizXY0zJamRs/vI5G4x3x61lLmnqdEeSnoSf8ACHanYkXGmX0iqwycAfMD2PY1uwaPcppN8LgxmWW0dcIu0HjI4+orQs9VkjtofMjaOKdN6q3Vc9j71biv1kYxnkEY+uaHUd0J00k2j1DwqgTwhoqqu0Cxh4/4AK168++F9/qV7FqYu7l57VPINsG6RgqdyjvxgV6DXoQlzRujzZw5JcoUUUVRAUUUUAFRzzLBEZG6CpCcDJrJ1CXzBjPHYVMpWGlc8s8T6XHH4tm1BEKC4y4H8PzDDH65H61ztxMLZw7ZIA2/hXrV5ZRX1u8EyIwIIUsoOw46j0NeNa00kckkLLiVCY3B/hYcGuOcDup1LoqXXiJL1whEjKowtvBy59OnT3NTW2uSKrLH4eugTw+1Gzj1HHBrMhknsLUC1iKtjJK8En6ilt/EevTyC3a3cqPZs4+tOytoUpLqbA8QwTyiyYZDj5VdSro3uK1rJiuC33lGfx7ViTvJJFFPNCpmibKtjkV3Pw50+TUtaiuJAWis1812PTceEH8z+FZqPNJWHKfLF3O58Caa+n6ATJAYWnkMgUjBxgDP48n8a6iiiu+EeWKR585OUnJhRRRVEhRRSE4BNDAhuH42j8azLsfdIq6xySTUEqeYNqEM2cYB6Vjq3ctaGaw2ozbSdqlsKMk4GeBXhvijVbbXbqXWdNSRbec7cOMMSvy7iOxOK9ta606e/l0q6uNsxVg8KuFcp0Zs54UA8mvCb6xk8O6vd6ZJl7J5nNpNsKpKme2e470VIyjG9jSk05WOdbxA8CFGB3jjNQw+JbiF9wc9a0NQ02C4GYwA+O9ZdvpMZchpOR/D3rJODWps41E9DWh1a41NlUAhQfmYCvffhlqOkNoC6dbXUR1KNme6hJw+48g47jbtGRxXhlhDDbJ2CoMkivSPhJZz3S6hr7GJorW4dLeMqNxDIpkOe3RQM+hHero2crIismo3Z7LRUfnpkhspjHLKQOffpUldByhRRRQA13WNSzsFUdSTWc2pb7xbaWN7VJDiJ5AMyn2Hbt159hXLeK9SuptMa/0nbNcwuhjlO5Y7eNmxuwerkd8cA8eph8QWT6hrnhmeXVLx1eQOFgwqZJXnI7VvGkmve8yWzd8S3mpaLEt/ptsLlQQsiTzBY0yfvdz+VefzxeKp/E9pFHc28FlqjMLkRP5aYHJOR82cdP8A69dR4v8ADdpHoMys9xMk15HuWacqvPHbHGSKz08MWen+NtLS8uJpLW2tJJkSeXEaZ+XGO9XBRUbrz6Cd7kcOkWen3EEDX2kw3OoC4tVMahpJE2McFyc5yOvvUi6WvxI8MW0+pF7GLYUt40AzDMmRvbPQEDp3BH1rP8R6r4csda8K20ItxifzX8q2JyCy55P41J4h1Y6J4g1KGaGWPRr2EXCW6DE9zMCAFReqqccsQAO9Eo80dRp2eh5RLG0F1PYzuhnt5Gico25SQcZB9KiFsFfeQufY109rqqa7rl5b+J7Z7CaSEPFbwRBUTn5WXIznHXJ55/B0GhhGYs6uMkKwHDDPX8a8ivT9m7rY9KhU9orPc5pra6vriDTLGMyXNxII0VemTXtnhvTW0HwVJBJGkBt2uBFewYYoRkfvPXkH24HTg1wVxer4OsrjVtMsmvdUiUpvORFZk92/vN/sjgA8ntV7wd471q00uHS/EWmNPY36S+VMuXdiwLYK9wefzrrwsOWN3uzlxM1KVlsjq4Y1fXn0DUfEeoWmbWOdbUnYFYD5grsCGUH+GtHwz4wt9ZjuBcakUawuTC7CLasg6DnoenYCoLfW9Jl1jw99ol3Rz6Y5VpkyCVxlTnkMOev61U8IeIdLg17XtPkEqQearo7w4iPJ4H5iu6SutuhzHVWfjLR9Rvbm1s7lJJLWXy7jLBQnX5ueo4rdjmimUNFIjqVDAqwIIPQ/SvOfCOveHJdW8QRBoMNcliv2XAI3N7c1ofD06bNo942jtAgjvZUAiQhcYXqp5xnnj/Gsp00r28hpmReeIL+K11rw9fWT3V8mn+fAYx8kp5646EfKeO1c/o9lqWu6h4PlvdVktrgRM5gibAUK744z6KK2/CusXsQvJdXtg1zfSvHaXJHyyxKMAZ9z/wDXxWb4f8IwDxvpcV/9oe8t7L98QQFVtrE44/2q3i1FMl6nW6rpNgk2nxarqs93DJfmUxM5I+RGxwOeG2/nVGwOix+O9UuIWudSeysEiEePNEYJyQO3p+tammtoun+J77T2aFBbWyErOwZyXYsxPpxsH4VS8K+KNDkvPENxbzBVFyAfKgK5A3AEccmpTfK99vzH1KevT3l1430aGy8NuyxRB90gCbfvcc/Sq39g6nqPxQv5ri0trdZdOBALgknIHUZNakviWCf4owW9vZXk7R2Od6j5RnJ6fQ1CmuX03xQmSLQpv3dmQJHYjsD6e9HK7bdBFPW9L1y18Y6LfolpNM1i0BjjIVsgZGOMEVh2mh6//wAI9rWozpBp01nM4iDICrjqGH4mt/xlrWuWkvh7UP7DX93KS43Z2jKn144FWvGR8RW+jwW0FpbzW95eBnUnOxSSwQ9O+PypOmpKKaWv6FKbjdo5fUvCXiBvBE51bVY1eURvIqIGd2ZgSTx7j8qvXHg65sn8IHS9QZpXQl47o/KT5Q5GenU8V1fi2HxDceGNREctpZlmj2soycblz61kzQ+JLN/BgS6t7pRtEpkHOCFB7ehpxV1uuv5Evcnf+29J1Xw1DeaTb3v7uWF5InA2+mc+2P1qS0n1O38aXzXehqbKW2Vkjjw7BtwGcemBUvivUdYsW0m6fRFufKv8M0MmCF65A564rTn1aS28SxTT6XcRxPZygSL8zEqyHBH0zS15Vp0YzjdK1+1tPFmvRHw/KhSUMMwgZGTnt71Y8NJp89lrN/YmTS7u3nmSJBgH5jx8vucAVopr2nRePNTiluriIzWkcoUxHGPlH9KxpdUsLyx1q30y3e81VZJZIZNpGNuCMj2qne+1thDTqds3w9msJItl3b2oie0fh0kc5YofUUugaXqreM77WL7XGjt4bJS0anG0sigD+dZPxTAjt9MljGyRtSQF14J49a46S4mk8baqjzSMhtlyrMSDwtKO111G9z1XS7Xw9afEDWrqacT+fZxSMXbf3x2/3aXwHrWj2+jX02n6dIyzXxX93EBu6Yz+ZqH4eW0E/ibURNBHJjTbYfOgPd/Wuy8FxRxeHI1jRUXzH4UYHWlN2i767Atzm7PXdRufiffxQaNN5cVsELyZX+6e4xTdLvvEdx8Q9Yf+y440jg2Lubr9zH8XtW9prE/ELWBk4EEfGfZKo6A7Hxt4jyxOAcc9OaOZa6dEBz/j248UONCh+zW4SVz5oBHUlB6+h7etavi2w8QQ/wBkQWutRsst2vmRyrjOMYweTgGm+Oyf7W8NDPBkXj/gaVveKFVtU0HcoP8ApY6j3WiMtY6dxdzI8baXqc3hDVPtGtNFl0I8tT8o3LxwRWdrGk63bp4SNrra4R4lIlB+b7n19K6/xp/yKV//AMA/9DWqfiBVI8PZUHFzHjj/AHaVObsvn+Q2jM8dp4mj8L3D289oZEuEZD0O08Y5GO9XLjUfEFtrOg/abCGXzvMilETYIygOep7rVnx6B/witxwP9bGf1FR6+zLrHhTBIzcHOD/sikneK07/AJA9zOutbWLx5Y/b9GnBuNOdc+Xu2lXzjkf5zVbRdX0lNW1y5jjS1t2n8powoEkjFBnAHbpXWXxP/CSaLyeTcg/98iuD1xF/4S/xQ20bljjZTjofIHP1oTUkl5fqDP/Z"},mi=()=>{if(!gt){rt("Please select file.");return}if(!Ut){St("Description should not be blank.");return}St(""),n(vo(ui))};l.useEffect(()=>{Vt!==""&&(le.success(Vt),n(lo()),qt(),n($t(Ht)))},[Vt]);let hi=localStorage.getItem("SiteURL")+"RITeSchool/DOWNLOADS/StudentAchievement/";const fi=()=>{if(gt!==""){const t=`${hi}${gt}`;window.open(t,"_blank")}},pi=t=>{const r={asSchoolId:Number(h),asStudentId:p??y.SchoolWise_Student_Id,asAchievementId:t,asUpdatedById:Number(c)};si({title:"Please Confirm",message:"Are you sure you want to delete this record?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onCancel:()=>{Ca()},onConfirm:()=>{n(No(r)),Ca()}})};l.useEffect(()=>{Oa!==""&&(le.success("Document deleted successfully."),n(co()),n($t(Ht)))},[Oa]);const Jt=()=>{T(!1),qt()},qt=()=>{bt(""),Gt(""),zt(we().format("DD-MM-YYYY HH:mm:ss")),Na(0),rt(""),St("")},xi=M(t=>t.GetStandardwiseMinMaxDOB.IGetStudentsSiblingDetail),gi=()=>{X(!0),ie(0);const t={asSchoolId:Number(localStorage.getItem("localSchoolId"))};n(yo(t))},bi=t=>{const r=t.filter(D=>D.checked).map(D=>D.CommonFieldId).join(", ");S(r)},Kt=()=>{pe(t=>!t),X(!1)},Si=()=>{xe("/RITeSchool/Teacher/EnterStudentSiblingDetails",{state:{fromInternal:!0}})};return e.jsxs(V,{sx:{px:2},children:[e.jsx(uo,{navLinks:[{title:`Students${J==="SD"?" Details":""}`,path:J==="SD"?"/RITeSchool/Teacher/StudentDetailsBaseScreen":"/RITeSchool/Teacher/Students"},{title:"Enter Student's Details",path:"/RITeSchool/Teacher/Students/StudentRegistrationForm"}],rightActions:e.jsxs(e.Fragment,{children:[e.jsx(H,{title:'Add/Edit student details and click on "Save".',children:e.jsx(q,{sx:{color:"white",backgroundColor:nt[500],"&:hover":{backgroundColor:nt[600]}},children:e.jsx(Zt,{})})}),e.jsx(H,{title:"Add  Sibling Details",children:e.jsx(q,{onClick:Si,sx:{color:"white",backgroundColor:it[500],"&:hover":{backgroundColor:it[600]}},children:e.jsx(Bn,{})})}),e.jsx(H,{title:"Add Note",children:e.jsx(q,{onClick:()=>ni(),sx:{color:"white",backgroundColor:it[500],"&:hover":{backgroundColor:it[600]}},children:e.jsx(Fn,{})})}),e.jsx(H,{title:"Save",children:e.jsx(q,{onClick:zn,sx:{color:"white",backgroundColor:qe[500],"&:hover":{backgroundColor:qe[600]}},children:e.jsx(mo,{})})})]})}),e.jsx(V,{sx:{backgroundColor:"white",p:1,mb:1},children:e.jsx(ql,{})}),e.jsxs(V,{sx:{backgroundColor:"white",p:2,mb:1},children:[e.jsx(V,{pt:1,children:e.jsx(K,{variant:"h5",style:{color:"red"},children:Be||""})}),e.jsxs(V,{sx:{display:"flex",alignItems:"center",my:1,backgroundColor:"white",p:1},children:[e.jsx(K,{variant:"body1",sx:{mr:2},children:"Completeness"}),e.jsx(Ko,{variant:"determinate",value:be,sx:{flexGrow:1,height:10}}),e.jsxs(K,{variant:"body1",sx:{ml:2},children:[be,"%"]})]})]}),e.jsx(V,{sx:{backgroundColor:"white",minHeight:"100px",display:"flex",justifyContent:"center",mb:0},children:e.jsxs(ko,{value:g,onChange:ft,variant:"scrollable",scrollButtons:!1,"aria-label":"Student Registration Tabs",TabIndicatorProps:{style:{backgroundColor:"primary"}},sx:{"& .MuiTab-root":{minHeight:"60px",borderRadius:"10px",textTransform:"none",color:"#38548A",backgroundColor:nt[200],"&:hover":{color:"#38548A",backgroundColor:nt[400]},"&.Mui-selected":{backgroundColor:it[300],color:"white"},"&.Mui-focusVisible":{outline:"2px solid blue"}},"& .MuiTabs-indicator":{display:"none"}},children:[e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(En,{}),label:"Admission Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Pn,{}),label:"Personal Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(On,{}),label:"Admission Documents"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(Mn,{}),label:"Family Details"}),e.jsx(ot,{sx:{m:2,maxWidth:200},icon:e.jsx(wo,{}),label:"Additional Details"}),h&&parseInt(h)===122&&e.jsx(ot,{sx:{m:2,maxWidth:200,borderRadius:"100%"},icon:e.jsx(wn,{}),label:"Stream Details"})]})}),e.jsxs(V,{children:[g===0&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Pl,{admission:i.admission,onChange:Jn,invalidFields:ge.filter(t=>t.tab==="admission"),unacceptableFields:Ye.filter(t=>t.tab==="admission")})})}),g===1&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Hl,{personal:i.personal,onChange:qn,invalidFields:ge.filter(t=>t.tab==="personal"),unacceptableFields:Ye.filter(t=>t.tab==="personal")})})}),g===2&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Al,{admissionDocumentList:Ce,onChange:Kn})})}),g===3&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Ol,{family:i.family,onChange:Xn,invalidFields:ge.filter(t=>t.tab==="family"),unacceptableFields:Ye.filter(t=>t.tab==="family")})})}),g===4&&e.jsxs(s,{container:!0,spacing:1,children:[e.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3}),e.jsx(s,{item:!0,xs:12,children:e.jsx(Cl,{additional:i.additional,onChange:Qn})})]}),parseInt(h)===122&&g===5&&e.jsx(s,{container:!0,spacing:1,children:e.jsx(s,{item:!0,xs:12,children:e.jsx(Kl,{streamwiseSubject:i.streamwiseSubject,onChange:$n})})})]}),e.jsxs(V,{sx:{display:"flex",justifyContent:{xs:"center",sm:"space-between"},flexDirection:{xs:"column",sm:"row"},gap:2,p:{xs:1,sm:2},backgroundColor:"white"},children:[e.jsx(Fe,{variant:"contained",onClick:Wt,disabled:g===0,sx:{backgroundColor:nt[100],color:"blue","&:hover":{color:"blue",backgroundColor:it[200]},width:{xs:"100%",sm:"auto"}},children:"Previous"}),e.jsx(Fe,{variant:"contained",onClick:fa,disabled:g===He-1,sx:{backgroundColor:nt[100],color:"green","&:hover":{color:"green",backgroundColor:qe[200]},width:{xs:"100%",sm:"auto"}},children:"Next"})]}),e.jsx(V,{children:e.jsxs(Pt,{open:k,onClose:Jt,fullWidth:!0,maxWidth:"md",PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsxs(Ot,{sx:{bgcolor:"#223354",position:"relative"},children:[e.jsx(H,{title:"Add/Edit student achievement details and click on save.",placement:"bottom-end",children:e.jsx(q,{sx:{color:"white",position:"absolute",top:"-1px",right:"40px"},children:e.jsx(Zt,{})})}),e.jsx(ln,{onClick:Jt,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),e.jsx(K,{variant:"h3",sx:{pt:1,pl:2},children:"Student Achievement/Punishment Details"}),e.jsxs(Mt,{children:[e.jsxs(s,{container:!0,spacing:2,children:[e.jsx(s,{item:!0,xs:6,children:e.jsx(m,{name:"registrationNumber",label:"Registration Number",value:Zn,variant:"outlined",fullWidth:!0,InputProps:{readOnly:!0},disabled:!0})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(m,{name:"StudentName",label:"Student Name",value:ti,variant:"outlined",fullWidth:!0,disabled:!0})}),e.jsx(s,{item:!0,xs:6,children:e.jsx(Qe,{DateValue:ya,onDateChange:oi(),size:"medium",label:"Attachment Date",maxDate:new Date,error:!1,helperText:""})}),e.jsx(s,{item:!0,xs:4,children:e.jsx(H,{title:`Supports only .JPG, .JPEG, .PNG, .BMP, .PDF file type.\r
                   File size should not exceed 1MB.`,children:e.jsx(Cn,{ValidFileTypes:a,MaxfileSize:Da,FileName:gt,ChangeFile:li,FileLabel:"Attachment",isMandatory:!0,height:"52px",width:"100%",errorMessage:Aa||""})})}),e.jsx(s,{item:!0,xs:2,children:e.jsx(e.Fragment,{children:e.jsx(H,{title:"View",children:e.jsx(q,{onClick:fi,sx:{color:"#223354",mt:.7,"&:hover":{color:"#223354",cursor:"pointer"}},children:e.jsx(Dn,{})})})})})]}),e.jsx(s,{xs:12,spacing:2,mt:2,pt:1,children:e.jsx(s,{item:!0,children:e.jsx(ho,{name:"description",label:e.jsxs("span",{children:["Description ",e.jsx("span",{style:{color:"red"},children:" *"})]}),value:Ut||"",onChange:t=>ii(t),sx:{resize:"both"},multiline:!0,fullWidth:!0})})}),Yt&&e.jsx(K,{variant:"h5",style:{color:"red"},children:Yt||""}),e.jsx(V,{py:2,children:Pa.length>0?e.jsx(Dl,{data:Pa,clickView:di,onEdit:ci,onDelete:pi}):e.jsx(K,{variant:"h6",align:"center",color:"blue",sx:{textAlign:"center",marginTop:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:"No record found."})})]}),e.jsxs(wt,{sx:{m:2},children:[e.jsx(Fe,{onClick:Jt,color:"error",children:"Close"}),e.jsx(Fe,{onClick:mi,sx:{color:"green","&:hover":{color:"green",backgroundColor:qe[100]}},children:va!==0?"Update":"Save"})]})]})}),ce!==""&&e.jsx(V,{children:e.jsxs(Pt,{open:Y,onClose:Kt,fullWidth:!0,maxWidth:"sm",PaperProps:{sx:{borderRadius:"15px"}},children:[e.jsx(Ot,{sx:{bgcolor:"#223354",position:"relative"},children:e.jsx(ln,{onClick:Kt,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})}),e.jsx(K,{variant:"h3",sx:{pt:1,pl:3},children:"Sibling Details"}),e.jsxs(Mt,{children:[e.jsxs(Wo,{sx:{p:1,mb:1},children:[e.jsx("b",{children:"Note : "}),"If you click on save button selected Sibling Details will be replaced to the following sibling(s) :",e.jsx("b",{children:ce})]}),e.jsx(V,{children:e.jsx(Jl,{itemList:xi,onItemsChange:bi,resetTrigger:F})})]}),e.jsxs(wt,{sx:{m:2},children:[e.jsx(Fe,{onClick:Kt,color:"error",children:"Close"}),e.jsx(Fe,{onClick:Yn,sx:{color:"green","&:hover":{color:"green",backgroundColor:qe[100]}},children:"save"})]})]})})]})};export{xd as default};
