import{j as e,B as i,af as I,c1 as O,ag as G,ah as E,ai as j,aj as S,ak as H,E as A,q as N,v as w,u as F,r as l,az as P,c as m,A as R,h0 as B,C as L,ay as W,n as U,aG as q,I as z,F as v,H as M,T as u,G as f}from"./index-CpZD2H93.js";import{d as g}from"./Clear-DjDvyafs.js";function X({ItemList:n,HeaderArray:o}){return console.log("ItemList",n),e.jsx(i,{sx:{width:"100%",overflow:"hidden"},children:e.jsx(I,{component:O,square:!0,children:e.jsxs(G,{"aria-label":"simple table",sx:{border:a=>`1px solid ${a.palette.divider}`},children:[e.jsx(E,{sx:{background:a=>a.palette.secondary.main,color:a=>a.palette.common.white},children:e.jsx(j,{children:o.map((a,r)=>e.jsx(S,{align:"center",sx:{color:"white",py:1},children:e.jsx("b",{children:a})},r))})}),e.jsx(H,{children:n.map((a,r)=>e.jsx(j,{sx:t=>({backgroundColor:r===n.length-1?t.palette.secondary.main:"inherit",color:r===n.length-1?t.palette.common.white:"inherit"}),children:a.map((t,c)=>e.jsx(S,{align:"center",sx:d=>({fontWeight:"bold",py:1,color:r===n.length-1?d.palette.common.white:"inherit"}),children:typeof t=="object"?e.jsxs(e.Fragment,{children:[t.name==="X"?e.jsx(g,{sx:{color:"red"}}):t.name==="Holiday"?e.jsx(A,{arrow:!0,placement:"top",title:t.toolTip,children:e.jsx("span",{style:{color:"red"},children:t.name})}):t.name||"-","                    "]}):e.jsx(e.Fragment,{children:t==="X"?e.jsx(g,{sx:{color:"red"}}):t||"-"})},c))},r))})]})})})}const $=()=>{let{selectClasstecahernew:n,AssignedDate:o}=N();console.log("selectClasstecahernew",n),o=w(o);const a=F(),r=Number(localStorage.getItem("localSchoolId")),t=Number(sessionStorage.getItem("AcademicYearId")),[c,d]=l.useState(o==null?new Date().toISOString().split("T")[0]:P(o)),[y,h]=l.useState(["Standard / Division."]),D=m(s=>s.SchoolAttendance.AttendanceOverviewGridData),x=m(s=>s.SchoolAttendance.AttendanceOverviewDivArray),p=m(s=>s.SchoolAttendance.WeekendStatusList),b="Displays attendance status for all classes for selected date.";l.useEffect(()=>{h(["Standard | Division"]),x.length>0&&(x.map(s=>{h(C=>[...C,s])}),h(s=>[...s,"Marked for","Present/Total","Present%"]))},[x]),l.useEffect(()=>{},[p]);const T={asSchoolId:r,asAcademicYearId:t,asSelectedDate:c},k=s=>{d(s)};return R(),l.useEffect(()=>{a(B(T))},[c]),e.jsxs(i,{sx:{px:2},children:[e.jsx(L,{navLinks:[{title:"Attendance",path:"/RITeSchool/Teacher/TAttendance/"+w(n)+"/"+W(c)},{title:"Attendance Overview",path:""}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(U,{direction:{xs:"row",sm:"row"},spacing:1,alignItems:"center",justifyContent:"flex-end",sx:{width:"100%",flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(i,{sx:{background:"white",width:{xs:"100%",sm:"auto"}},children:e.jsx(q,{DateValue:c,onDateChange:k,label:"Start Date",size:"small"})}),e.jsx(A,{title:b,children:e.jsx(z,{sx:{backgroundColor:v[500],color:"white","&:hover":{backgroundColor:v[600]}},children:e.jsx(M,{})})})]})})}),e.jsxs(i,{sx:{display:"flex",backgroundColor:"white",p:1,mb:1},children:[e.jsx(u,{children:e.jsx("b",{children:"Legend : "})}),e.jsx(g,{sx:{color:"red"}})," ",e.jsx(u,{children:e.jsx("b",{children:"Attendance Not Marked "})})]}),p!==""?e.jsx(u,{variant:"h6",sx:{color:"red"},children:p}):e.jsx(i,{sx:{backgroundColor:"white",p:2},children:e.jsxs(f,{container:!0,spacing:2,children:[e.jsx(f,{item:!0,xs:12,children:e.jsx(X,{ItemList:D,HeaderArray:y})}),e.jsx("div",{className:""})]})})]})};export{$ as default};
