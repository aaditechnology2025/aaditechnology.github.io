import{ab as F,u as $,r as t,c as l,cI as U,bb as W,cJ as O,cK as z,j as e,B as a,C as H,n as D,G as A,bI as j,E as _,I as J,F as p,H as K,cL as q,L as Q,M as X,N as Z,T as S,D as ee,O as se}from"./index-CpZD2H93.js";import{B as te}from"./Badge-B69kpfUM.js";const oe=ae=>{const[C,y]=F.useState(!1),c=$(),B=sessionStorage.getItem("AcademicYearId"),d=localStorage.getItem("localSchoolId"),Y=sessionStorage.getItem("Id");sessionStorage.getItem("TeacherId"),sessionStorage.getItem("StandardId");const[i,b]=t.useState(),[h,v]=t.useState(""),[g,w]=t.useState(),x=l(s=>s.AnnualPlanerBaseScreen.ISGetAllAcademicYearsForSchool),m=l(s=>s.AnnualPlanerBaseScreen.ISMonthList),u=l(s=>s.AnnualPlanerBaseScreen.ISStdList),E=l(s=>s.AnnualPlanerBaseScreen.ISGetAllEvents),f=l(s=>s.AnnualPlanerBaseScreen.ParentList),L=s=>(n,o)=>{y(o?s:!1)},G={asSchoolId:Number(d),asUserId:Number(Y),asUserRoleId:2},M={asSchoolId:Number(d),asAcademicYearId:Number(B),asUserId:0},k={asSchoolId:Number(d)},P={asSchoolId:Number(d),asAcademicYearId:Number(i),asMonthId:g,asStandardId:h||0};t.useEffect(()=>{m.length>0&&w(m[0].Value)},[m]),t.useEffect(()=>{u.length>0&&v(u[0].Value)},[u]),t.useEffect(()=>{const s=x.length-1;s>=0&&b(x[s].Value)},[x]),t.useEffect(()=>{c(U(M))},[i]),t.useEffect(()=>{c(W(G))},[]),t.useEffect(()=>{c(O(k))},[]),t.useEffect(()=>{c(z(P))},[g,i,h]);const N=s=>{v(s)},R=s=>{w(s)},T=s=>{b(s)};return e.jsxs(a,{sx:{px:2},children:[e.jsx(H,{navLinks:[{title:"Annual Planner",path:"/RITeSchool/Common/AnnualPlanner"},{title:"Events Overview",path:"/RITeSchool/Common/EventOverview"}],rightActions:e.jsx(e.Fragment,{children:e.jsxs(D,{direction:{xs:"column",sm:"row"},alignItems:"right",spacing:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[e.jsx(A,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-start"},children:e.jsx(D,{direction:"row",gap:1,alignItems:"left",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:e.jsx(a,{children:e.jsx(j,{sx:{minWidth:"10vw"},ItemList:u,onChange:N,defaultValue:h,label:"Standard",size:"small"})})})}),e.jsx(a,{children:e.jsx(j,{sx:{minWidth:"10vw"},ItemList:m,onChange:R,defaultValue:g,label:"Month(s)",size:"small"})}),e.jsx(a,{children:e.jsx(j,{sx:{minWidth:"12vw"},ItemList:x,onChange:T,defaultValue:i,label:"Academic Year",size:"small"})}),e.jsx(a,{children:e.jsx(_,{title:" Displays all the events of the school.",children:e.jsx(J,{sx:{color:"white",backgroundColor:p[500],"&:hover":{backgroundColor:p[600]}},children:e.jsx(K,{})})})})]})})}),e.jsx(a,{children:f&&f.length>0&&E?f.map((s,n)=>{const o=E.filter(r=>q(r.StartDateAndTime)===s&&r.Standards!=="");return o.length>0?e.jsxs(Q,{expanded:C===`panel${n+1}`,onChange:L(`panel${n+1}`),sx:{border:`1px solid ${p[300]}`},children:[e.jsx(X,{expandIcon:e.jsx(Z,{}),"aria-controls":`panel${n+1}bh-content`,id:`panel${n+1}bh-header`,children:e.jsxs(a,{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",pr:2,children:[e.jsx(S,{variant:"h4",sx:{width:"33%",flexShrink:0},children:s}),e.jsx(te,{color:"primary",badgeContent:o.length})]})}),e.jsx(ee,{}),e.jsx(se,{children:e.jsx(A,{container:!0,children:o.map((r,V)=>e.jsx(A,{item:!0,xs:6,sm:4,md:3,lg:3,sx:{p:1,height:"100%"},children:e.jsxs(a,{sx:{border:`1px solid ${p[400]}`,borderRadius:I=>I.general.borderRadius},children:[e.jsx(S,{variant:"h4",sx:{p:1,background:I=>I.palette.secondary.main,color:"white"},children:r.DisplayDate}),e.jsxs(a,{sx:{p:1},children:[e.jsx(S,{variant:"h5",sx:{wordBreak:"break-word"},children:r.EventDescription}),e.jsx("span",{children:r.Standards})]})]})},V))})})]},n):null}):e.jsx(S,{variant:"body1",sx:{textAlign:"center",marginTop:4,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:e.jsx("b",{children:"No event found."})})})]})};export{oe as default};
