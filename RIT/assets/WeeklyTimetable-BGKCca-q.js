import{P as v,c as h,j as t,a0 as Fa,a1 as Ba,E as N,F as ue,a3 as Ea,B as D,n as ke,T as d,l as yt,o as Ds,bI as Pa,he as U,a5 as Ya,a6 as Ts,ap as Ut,J as je,s as mt,aj as Z,u as Ga,r as i,z as Xa,ae as Va,W as Oa,k9 as ot,t as pe,gX as Ne,ka as He,kb as Ue,kc as Ra,kd as za,ke as qe,gZ as Ht,kf as Ha,kg as $e,kh as Ua,ki as qa,kj as Za,kk as Ja,g_ as xt,kl as Qa,km as Ka,kn as el,ko as tl,kp as sl,kq as fs,kr as ys,ks as ms,kt as al,ku as ll,C as rl,G as nl,bC as gs,I as ee,b7 as il,b2 as cl,c7 as ut,bH as bt,bl as ht,H as Tt,K as Is,au as ps,af as Ze,ag as Je,ah as Qe,ai as te,ak as Ke,D as js,aq as ks,gY as Ss,kv as dl,kw as ol,kx as xl,ky as ul,kz as bl,kA as hl,kB as Tl,kC as fl}from"./index-CpZD2H93.js";import{d as Cs}from"./RestartAlt-0rWnjZgh.js";import{d as As}from"./Square-CVQpjtQG.js";import{d as yl}from"./Close-7OiSXahc.js";import{Q as ml}from"./QuestionMark-B_7MKkiz.js";import{F as gl}from"./FormGroup-C5-m8U5s.js";Ws.propTypes={Value1:v.string,ValError:v.string,Heading:v.string,Open:v.bool,OnClose:v.func,onSubmit:v.func,ItemList2:v.array,ItemList3:v.array,ItemList4:v.array,Defaultvalue2:v.string,Defaultvalue3:v.string,Defaultvalue4:v.string,Label1:v.string,OnChange1:v.func,OnChange2:v.func,OnChange3:v.func,ErrorMsg1:v.bool,ErrorMsg2:v.bool,ErrorMsg3:v.bool,Label3:v.string,ValErrorMsgList:v.array};function Ws({Value1:P,ValErrorMsgList:r=[],ValError:J,Open:L,OnClose:ve,onSubmit:gt,Heading:It,Label1:et,ItemList2:Q,OnChange1:we,Defaultvalue2:tt,ErrorMsg1:pt,ErrorMsg2:Me,Defaultvalue3:jt,OnChange2:Le,ItemList3:kt,ErrorMsg3:_e,Defaultvalue4:Fe,OnChange3:St,ItemList4:V,Label3:Y}){const O=h($=>$.WeeklyTimetable.Loading);return t.jsx(t.Fragment,{children:t.jsxs(Fa,{open:L,onClose:ve,maxWidth:"xs",fullWidth:!0,PaperProps:{sx:{borderRadius:"15px"}},children:[t.jsxs(Ba,{sx:{py:1.8,backgroundColor:$=>$.colors.primary.main,color:$=>$.palette.common.white},children:[t.jsx(N,{title:"Add additional / optional subject lectures.",children:t.jsx(ml,{sx:{color:"white",borderRadius:"7px",position:"absolute",top:"4px",right:"35px",cursor:"pointer","&:hover":{backgroundColor:ue[600]}}})}),t.jsx(yl,{onClick:ve,sx:{color:"white",borderRadius:"7px",position:"absolute",top:"5px",right:"8px",cursor:"pointer","&:hover":{color:"red"}}})]}),t.jsx(Ea,{dividers:!0,children:t.jsxs(D,{children:[(J==null?void 0:J.length)>0&&t.jsx("span",{dangerouslySetInnerHTML:{__html:`${J}`},style:{color:"red",fontWeight:"bolder"}}),r!==void 0&&(r==null?void 0:r.length)>0&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:r.map(($,R)=>Object.keys($).map(G=>{const K=$[G].trim();return K!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:K},style:{color:"red",fontWeight:"bolder",fontSize:"12px"}}):null}))}),t.jsx(d,{variant:"h4",children:It}),O&&t.jsx(yt,{}),t.jsxs(ke,{gap:2,mt:2,children:[t.jsx(D,{sx:{width:"100%"},children:t.jsx(Ds,{label:et,value:P,sx:{bgcolor:"#F0F0F0",minWidth:"100%"},size:"small",InputProps:{readOnly:!0}})}),t.jsxs(D,{sx:{width:"100%"},children:[t.jsx(Pa,{onChange:we,ItemList:Q,label:"Week Day",sx:{minWidth:"100%"},size:"small",defaultValue:tt,mandatory:!0,DisableClearable:!0}),pt&&t.jsx("span",{style:{color:"red",fontSize:"12px"},children:"Weekday should not be empty."})]}),t.jsxs(D,{sx:{width:"100%"},children:[t.jsx(U,{onChange:Le,ItemList:kt,label:"Lecture Number",sx:{minWidth:"100%"},size:"small",defaultValue:jt,mandatory:!0,DisableClearable:!0}),Me&&t.jsx("span",{style:{color:"red",fontSize:"12px"},children:"Lecture number should not be empty."})]}),t.jsxs(D,{sx:{width:"100%"},children:[t.jsx(U,{onChange:St,ItemList:V,label:Y,sx:{minWidth:"100%"},size:"small",defaultValue:Fe,mandatory:!0,DisableClearable:!0}),_e&&t.jsxs("span",{style:{color:"red",fontSize:"12px"},children:[Y," name should not be empty."]})]})]})]})}),t.jsxs(Ya,{sx:{py:2,px:3},children:[t.jsx(Ts,{onClick:ve,sx:{color:"red","&:hover":{color:"red",backgroundColor:Ut[100]}},children:"Cancel"}),t.jsx(Ts,{onClick:gt,sx:{color:"green","&:hover":{color:"green",backgroundColor:je[100]}},children:"Save"})]})]})})}const W=mt(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),backgroundColor:"#19bed4",color:P.palette.common.white,fontWeight:"bold",border:"1px solid rgba(224, 224, 224, 1)",textAlign:"center"})),De=mt(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),backgroundColor:"#bdc7cd",fontWeight:"bold",border:"1px solid rgba(224, 224, 224, 1)",textAlign:"center"})),se=mt(Z)(({theme:P})=>({paddingTop:P.spacing(.2),paddingBottom:P.spacing(.2),paddingLeft:P.spacing(.2),paddingRight:P.spacing(.2),border:"1px solid rgba(224, 224, 224, 1)"})),ft=mt(Z)(({theme:P})=>({paddingTop:P.spacing(1),paddingBottom:P.spacing(1),border:"1px solid rgba(224, 224, 224, 1)"})),Al=P=>{const r=Ga(),{showAlert:J,closeAlert:L}=i.useContext(Xa),ve=sessionStorage.getItem("RoleId"),gt=sessionStorage.getItem("TeacherId"),It=Va("Weekly Timetable"),et=sessionStorage.getItem("SchoolConfiguration"),Q=h(e=>e.WeeklyTimetable.ISGetValidateAdditionalDataForTeacher),we=et?JSON.parse(et):[],tt=we==null?void 0:we.filter(e=>e.Configure_Id===59),pt=h(e=>e.WeeklyTimetable.ISTeachersList),Me=h(e=>e.TMTimetable.ISGetLectureCountsForTeachers),jt=h(e=>e.WeeklyTimetable.ISAddClassesWeekDay),Le=h(e=>e.WeeklyTimetable.ISResetTimetableMsg),kt=h(e=>e.WeeklyTimetable.ISGetStandardName),_e=h(e=>e.WeeklyTimetable.ISGetSaveTeacherTimetableMsg),Fe=h(e=>e.WeeklyTimetable.ISGetSaveClassTimetableMsg),St=h(e=>e.WeeklyTimetable.ISGetDivisionName),V=h(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForMon),Y=h(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForTue),O=h(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForWed),$=h(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForThu),R=h(e=>e.WeeklyTimetable.ISGetTeacherSubjectMaxLecForFri),G=h(e=>e.WeeklyTimetable.ISGetLectureNoWeekday),K=h(e=>e.WeeklyTimetable.ISGetApplicables),q=h(e=>e.WeeklyTimetable.ISGetClassLecNoWeekday),M=h(e=>e.WeeklyTimetable.ISWeekdayId),Se=h(e=>e.WeeklyTimetable.ISClassSubjectBaseLecList),_=h(e=>e.WeeklyTimetable.ISClassWeekdayId),Ct=h(e=>e.WeeklyTimetable.ISMPTinfo),At=h(e=>e.WeeklyTimetable.ISAssemblyInfo),Dt=h(e=>e.WeeklyTimetable.ISStayBackInfo),Ns=h(e=>e.WeeklyTimetable.ISMPTinfoClass),$s=h(e=>e.WeeklyTimetable.ISWeeklytestClass),Wt=h(e=>e.WeeklyTimetable.ISWeeklytestInfo),vs=h(e=>e.WeeklyTimetable.ISAssemblyInfoClass),ws=h(e=>e.WeeklyTimetable.ISStaybackClass),st=h(e=>e.WeeklyTimetable.Loading),Nt=h(e=>e.WeeklyTimetable.ISGetDeleteAdditionalLectureMsg),$t=h(e=>e.WeeklyTimetable.ISGetManageClassTimeTableMsg),Be=h(e=>e.WeeklyTimetable.ISTimetableDetails),vt=h(e=>e.WeeklyTimetable.ISGetDeleteAdditionalLecturesMsg),ge=h(e=>e.WeeklyTimetable.ISValidateTeacherData),at=h(e=>e.WeeklyTimetable.ISValidateAddLecTeacherData),Ie=h(e=>e.WeeklyTimetable.ISValidateClassData),wt=h(e=>e.WeeklyTimetable.ISExtLectCount),lt=h(e=>e.WeeklyTimetable.ISAddLecForClass),Mt=h(e=>e.WeeklyTimetable.ISGetGroupwiseOptSub),rt=h(e=>e.WeeklyTimetable.ISGetCheckDuplicateLecturesMsg),Ms=h(e=>e.WeeklyTimetable.ISGetAddLecPopUpLecNoList),Ls=h(e=>e.WeeklyTimetable.ISGetAddLecPopUpClassSubList),_s=h(e=>e.WeeklyTimetable.ISGetAddLecPopUpCompClassNameDetailsList),Ee=h(e=>e.WeeklyTimetable.ISGetValidateAdditionalDataForTeacher),n=h(e=>e.SchoolSettings.SchoolSettings),[qt,Zt]=i.useState(null),[u,Fs]=i.useState("Teacher"),[Bs,nt]=i.useState(!1),[x,Lt]=i.useState("0"),[Jt,Es]=i.useState(""),[ae,_t]=i.useState("0"),[p,it]=i.useState("0"),[Qt,Ps]=i.useState(""),[Kt,Ys]=i.useState(""),[F,Ft]=i.useState(!1),[B,Bt]=i.useState(!1),[E,Et]=i.useState(!1),[X,Pt]=i.useState(!1),[g,Ce]=i.useState({}),[z,Ae]=i.useState({}),[es,Gs]=i.useState(!1),[j,ts]=i.useState("0"),[A,Yt]=i.useState("0"),[H,Gt]=i.useState("0"),[w,Xt]=i.useState("0"),[le,Xs]=i.useState("Assembly"),[re,Vs]=i.useState("M.P.T"),[ne,Os]=i.useState("StayBack"),[ie,Rs]=i.useState("Weekly Test"),[Pe,zs]=i.useState(!0),[Ye,Hs]=i.useState(!0),[Ge,Us]=i.useState(!0),[Xe,qs]=i.useState(!0),Ve=e=>{var T,y,k,I,m,C;let s=!0;const a=((T=e.Text1)==null?void 0:T.trim())==="",l=((y=e.Text2)==null?void 0:y.trim())==="",o=((k=e.Text3)==null?void 0:k.trim())==="",b=((I=e.Text5)==null?void 0:I.trim())==="",c=((m=e.Text6)==null?void 0:m.trim())==="";return((C=e.Text4)==null?void 0:C.trim())!==""&&a&&l&&o&&b&&c&&(s=!1),s};i.useEffect(()=>{r(Oa({asSchoolId:localStorage.getItem("SchoolId")}))},[r]),i.useEffect(()=>{Object.keys(n).length>0&&((n==null?void 0:n.AssemblyName)!==null&&(n==null?void 0:n.AssemblyName)!==void 0&&Xs(n==null?void 0:n.AssemblyName),(n==null?void 0:n.MPTName)!==null&&(n==null?void 0:n.MPTName)!==void 0&&Vs(n==null?void 0:n.MPTName),(n==null?void 0:n.StaybackName)!==null&&(n==null?void 0:n.StaybackName)!==void 0&&Os(n==null?void 0:n.StaybackName),(n==null?void 0:n.WeeklyTestName)!==null&&(n==null?void 0:n.WeeklyTestName)!==void 0&&Rs(n==null?void 0:n.WeeklyTestName),(n==null?void 0:n.IsWeeklyTestApplicable)!==null&&(n==null?void 0:n.IsWeeklyTestApplicable)!==void 0&&(n==null?void 0:n.IsWeeklyTestApplicable)==="N"&&zs(!1),(n==null?void 0:n.IsStaybackApplicable)!==null&&(n==null?void 0:n.IsStaybackApplicable)!==void 0&&(n==null?void 0:n.IsStaybackApplicable)==="N"&&qs(!1),(n==null?void 0:n.IsAssemblyApplicable)!==null&&(n==null?void 0:n.IsAssemblyApplicable)!==void 0&&(n==null?void 0:n.IsAssemblyApplicable)==="N"&&Hs(!1),(n==null?void 0:n.IsMPTApplicable)!==null&&(n==null?void 0:n.IsMPTApplicable)!==void 0&&(n==null?void 0:n.IsMPTApplicable)==="N"&&Us(!1))},[n]);const ss=(e={})=>{var T,y,k,I,m,C;let s=!0;const a=(((T=e.Text1)==null?void 0:T.trim())??"")==="",l=(((y=e.Text2)==null?void 0:y.trim())??"")==="",o=(((k=e.Text3)==null?void 0:k.trim())??"")==="",b=(((I=e.Text5)==null?void 0:I.trim())??"")==="",c=(((m=e.Text6)==null?void 0:m.trim())??"")==="";return(((C=e.Text4)==null?void 0:C.trim())??"")!==""&&a&&l&&o&&b&&c&&(s=!1),s},Zs=e=>e.WeekdayId===j;i.useEffect(()=>{w==="0"&&r(ot())},[w]),i.useEffect(()=>{Ee!==void 0&&(Ee==null?void 0:Ee.length)===0&&(pe.success("Additional lecture added successfully"),u==="Teacher"?r(Ne(We)):u==="Class"&&r(He(Oe)),r(Ue()),nt(!1),ze(!1))},[Ee]);function Js(e,s,a,l){const o=a.filter(T=>T.WeekdayId===e&&T.LecNo===s),b=o.length>0?o[0].StdDivId:null,c=o.length>0?o[0].SubId:null,f=l.filter(T=>T.SubId===c&&T.StdDivId!==b);return f.unshift({Id:"0",StdDivId:"0",SubId:"0",Name:"Select",SubTeacher:"Select",OrgStdId:"0",OrgDivId:"0",Value:"0"}),f}i.useEffect(()=>{var e,s;if(j!=="0"&&A!=="0"&&Se.length>0){const a=Se==null?void 0:Se.filter(c=>c.Weekday_Id===j&&c.Lecture_Number===A);let l=(e=a[0])==null?void 0:e.ParentGroupId,o=(s=a[0])==null?void 0:s.SubjectGroupId;const b={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStdDivId:Number(p),asParentGroupId:Number(l),asSubjectGroupId:Number(o)};r(Ra(b))}},[Se,j,A]);const[Qs,Ks]=i.useState([]),[ct,ea]=i.useState("0");i.useEffect(()=>{var e;if(Mt.length>0&&j!=="0"&&A!=="0"){let a=(e=(Se==null?void 0:Se.filter(o=>o.Weekday_Id===j&&o.Lecture_Number===A))[0])==null?void 0:e.Subject_Id,l=Mt.filter(o=>o.Subject_Id!==a);l=l.map(o=>({Id:o.Subject_Id,Name:o.SubjectTeacher,Value:o.Subject_Id,TeacherId:o.Teacher_Id})),l.unshift({Id:"0",Name:"Select",Value:"0",TeacherId:"0"}),Ks(l)}},[Mt,j,A]);const ta=Js(j,A,_s,Ls);let as=Ms.filter(Zs);as.unshift({Id:"0",Name:"Select",Value:"0"});const Vt={asSchoolId:Number(localStorage.getItem("SchoolId")),asTeacher_Id:Number(x),asConsiderAssembly:Ye?"Y":"N",asConsiderMPT:Ge?"Y":"N",asConsiderStayback:Xe?"Y":"N",asConsiderWeeklyTest:Pe?"Y":"N"};i.useEffect(()=>{_e!==""&&(pe.success(_e),r(za()),sessionStorage.removeItem("ExceedLecMsg"),r(qe()),r(Ne(We)),r(Ht(Vt)))},[_e]),i.useEffect(()=>{Fe!==""&&(pe.success(Fe),r(Ha()),r($e()),r(He(Oe)))},[Fe]),i.useEffect(()=>{vt!==""&&(pe.success(vt),r(Ua()),r(Ne(We)),r(He(Oe)))},[vt]);const ls={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcadmicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_id:ve==="2"&&It==="Y"||tt.length>0&&tt[0].Can_Edit==="Y"?0:Number(gt)};i.useEffect(()=>{u==="Class"?(r(qe()),r(qa(ls))):u==="Teacher"&&(r($e()),r(Za(ls)))},[u]),i.useEffect(()=>{Nt!==""&&pe.success(Nt),r(Ja()),r(xt(dt))},[Nt]),i.useEffect(()=>{const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asStandardId:Number(ae)};ae!=="0"&&r(Qa(e))},[ae]);const We={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacherID:u==="Teacher"&&x!=="0"?Number(x):0};i.useEffect(()=>{x!=="0"&&u==="Teacher"&&(Ce({}),r(Ka()),r(Ne(We)))},[x,u]),i.useEffect(()=>{p!=="0"&&u==="Class"&&(Ae({}),r(el()),r(He(Oe)))},[p,u]);const Oe={asSchool_Id:Number(localStorage.getItem("SchoolId")),asAcademicYear_ID:Number(sessionStorage.getItem("AcademicYearId")),asStandardDivisionId:u==="Class"&&p!=="0"?Number(p):0},rs={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacherId:u==="Teacher"&&x!=="0"?Number(x):0,asStandardDivId:u==="Class"&&p!=="0"?Number(p):0},[sa,aa]=i.useState(),[la,ra]=i.useState(),[na,ia]=i.useState(),[ca,da]=i.useState(),[oa,xa]=i.useState();i.useEffect(()=>{x!=="0"&&(async()=>{try{await Promise.all([r(Ss(rs))])}catch{pe.error("Request Failed. Try refreshing the page.")}})()},[x]),i.useEffect(()=>{$t!==""&&(pe.success($t),r(tl()),bs(),r(Ne(We)),nt(!1),ze(!1))},[$t]),i.useEffect(()=>{if(es&&G.length>0&&M.length>0&&(V==null?void 0:V.length)>0&&(Y==null?void 0:Y.length)>0&&(O==null?void 0:O.length)>0&&($==null?void 0:$.length)>0&&(R==null?void 0:R.length)>0){Ce({});const e={},s=[V,Y,O,$,R],a=M.map(l=>l.WeekdayId);G.forEach(l=>{const o=l.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((b,c)=>{var y,k,I,m;let f=s[c].filter(C=>C.Id===l[b]);const T=`${a[c]}-${o}`;e[T]=`${l[b]}-${a[c]}-${((y=f[0])==null?void 0:y.StdDivId)===void 0?"0":(k=f[0])==null?void 0:k.StdDivId}-${((I=f[0])==null?void 0:I.SubId)===void 0?"0":(m=f[0])==null?void 0:m.SubId}-${o}`})}),Ce(e)}},[G,M,es,V,Y,O,$,R]),i.useEffect(()=>{if(q.length>0&&_.length>0&&V.length>0&&Y.length>0&&O.length>0&&$.length>0&&R.length>0){Ae({});const e={},s=[V,Y,O,$,R],a=_.map(l=>l.WeekdayId);q.forEach(l=>{const o=l.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((b,c)=>{var y,k,I,m;let f=s[c].filter(C=>C.Id===l[b]);const T=`${a[c]}-${o}`;e[T]=`${l[b]}-${a[c]}-${((y=f[0])==null?void 0:y.TeacherId)===void 0?"0":(k=f[0])==null?void 0:k.TeacherId}-${((I=f[0])==null?void 0:I.SubId)===void 0?"0":(m=f[0])==null?void 0:m.SubId}-${o}`})}),Ae(e)}},[q,_,V,Y,O,$,R]),i.useEffect(()=>{K.length>0&&K.map((e,s)=>{Ft(e.Assembly==="Y"),Bt(e.MPT==="Y"),Pt(e.Weeklytest==="Y"),Et(e.Stayback==="True")})},[K]),i.useEffect(()=>{p!=="0"&&(async()=>{try{await Promise.all([r(Ss(rs))])}catch{pe.error("Request Failed. Try refreshing the page.")}})()},[p]);const dt={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearID:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_Id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Teacher"?0:Number(ae)};i.useEffect(()=>{Le!==""&&(pe.success(Le),r(sl()),r(He(Oe)),r(Ne(We)),r(qe()),r($e()),r(xt(dt)),r(Ht(Vt)))},[Le]),i.useEffect(()=>{x!=="0"&&r(Ht(Vt))},[x]),i.useEffect(()=>{x!=="0"&&r(xt(dt))},[x]),i.useEffect(()=>{ae!=="0"&&p!=="0"&&r(xt(dt))},[ae,p]);const ns=()=>{r(ot()),bs(),nt(!0),ze(!1);const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearID:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_Id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Class"?Number(p):0};r(dl(e)),r(ol(e)),u==="Class"&&r(xl(e))},ua=e=>{Zt(e.currentTarget)},ba=()=>{Zt(null)},is=()=>{const e={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcadmicYearId:Number(sessionStorage.getItem("AcademicYearId")),asTeacher_id:u==="Teacher"?Number(x):0,asStandardDivision_Id:u==="Teacher"?0:Number(p)};J({title:"Please Confirm",message:"Are you sure you want to reset this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{r(ul(e)),L()},onCancel:()=>{L()}})},cs=!!qt,ha=cs?"teacher-settings-popover":void 0,Ta=e=>{Bt(B===!1?e.target.checked:!1)},fa=e=>{Et(E===!1?e.target.checked:!1)},ya=e=>{Ft(F===!1?e.target.checked:!1)},ma=e=>{Pt(X===!1?e.target.checked:!1)},ga=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Ia=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},pa=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},ja=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},ka=(e,s)=>{Ce(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.StdDivId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Sa=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Ca=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Aa=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Da=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))},Wa=(e,s)=>{Ae(a=>({...a,[s]:`${e.Value}-${s==null?void 0:s.split("-")[0]}-${e.TeacherId}-${e.SubId}-${s==null?void 0:s.split("-")[1]}`}))};function ds(){let e="";const s=_.map(a=>a.WeekdayId);return q.forEach(a=>{const l=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,b)=>{var f,T;const c=`${s[b]}-${l}`;((f=z[c])==null?void 0:f.split("-")[0])!=="0"&&l!=="99"&&(e+=`<DaywiseTimeTable Weekday_Id="${(T=z[c])==null?void 0:T.split("-")[1]}" />`)})}),e=`<DaywiseTimeTableMaster>${e}</DaywiseTimeTableMaster>`,e}function os(){let e="";const s=_.map(a=>a.WeekdayId);return q.forEach(a=>{const l=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,b)=>{var f,T,y,k,I;const c=`${s[b]}-${l}`;((f=z[c])==null?void 0:f.split("-")[0])!=="0"&&l!=="99"&&(e+=`<DaywiseTimeTableDetail WeekDay_Id="${(T=z[c])==null?void 0:T.split("-")[1]}" Lecture_Number="${(y=z[c])==null?void 0:y.split("-")[4]}" Teacher_ID="${(k=z[c])==null?void 0:k.split("-")[2]}" Subject_Id="${(I=z[c])==null?void 0:I.split("-")[3]}"/>`)})}),e=`<DaywiseTimeTableDetails>${e}</DaywiseTimeTableDetails>`,e}const Na={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:ds(),asDetailXml:os(),asAdditionalLect:null,IsAdditionalClass:!1,asIncCnt:0};function $a(){J({title:"Please Confirm",message:"Are you sure you want to save this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{r(bl(Na)),L()},onCancel:()=>{L()}})}function va(){sessionStorage.removeItem("ExceedLecMsg");const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Ot(),asDetailXml:Rt(),asTeacherXML:Re(),IsAdditionalClass:0,asIncCnt:0};J({title:"Please Confirm",message:"Are you sure you want to save this timetable?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{r(hl(e)),L()},onCancel:()=>{L()}})}i.useEffect(()=>{if(ge.length>0&&Ve(ge[0])===!1){let e=ge[0];J({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Ot(),asDetailXml:Rt(),asTeacherXML:Re(),IsAdditionalClass:0,asIncCnt:1};r(fs(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),r(qe())}})}},[ge]),i.useEffect(()=>{if(Q!==void 0&&(Q==null?void 0:Q.length)>0&&Q!==void 0&&ss(Q[0])===!1){let e=Q[0];const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(x),asStdDivId:Number(w),asLectureNo:Number(A),asWeekDayId:Number(j)},a={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id="${w}" Weekday_Id="${j}" /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id="${j}" Teacher_ID="${x}" Standard_Division_Id="${w}" Lecture_Number="${A}" Subject_Id="${H}" /></DaywiseTimeTableDetails>`,asTeacherXML:Re(),IsAdditionalClass:1,asIncCnt:0},l={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:1},o={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInserted_By_id:Number(sessionStorage.getItem("Id")),asStandardDivId:Number(w),asDayTimeTableMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDayTimeTableDetailsXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,asIsAdditionalClass:!0,asIsCountInceased:0},b={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(ct),asStdDivId:Number(p),asLectureNo:Number(A),asWeekDayId:Number(j)},c={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${p}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${ct}' Standard_Division_Id='${p}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:1};J({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{u==="Teacher"?r(ys(a,s,o,l)):u==="Class"&&r(ms(b,c)),L()},onCancel:()=>{L(),r(Ue())}})}},[Q]),i.useEffect(()=>{if(at.length>0&&Ve(at[0])===!1){let e=at[0];J({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:Ot(),asDetailXml:Rt(),asTeacherXML:Re(),IsAdditionalClass:0,asIncCnt:1};r(fs(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),r(al())}})}},[at]),i.useEffect(()=>{if(Ie.length>0&&Ve(Ie[0])===!1){let e=Ie[0];J({title:"Please Confirm",message:`${e.Text4}Do you want to increase limit for subject(s)?`,variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:ds(),asDetailXml:os(),asAdditionalLect:null,IsAdditionalClass:!1,asIncCnt:1};r(ll(s)),L()},onCancel:()=>{L(),sessionStorage.removeItem("ExceedLecMsg"),r($e())}})}},[Ie]);function xs(){const e={},s=["Monday","Tuesday","Wednesday","Thursday","Friday"];if(M.length>0)for(let a=0;a<M.length;a++)e[M[a].WeekdayId]=s[a];return e}function us(e){const s=xs();if(e!==void 0){const[a,l,o,b,c]=e.split("-"),f=s[l];return[...E?Dt:[],...F?At:[],...B?Ct:[],...X?Wt:[]].some(y=>y.Text1===f&&y.Text2===c)}}function wa(e){const s=xs();if(e!==void 0){const[a,l,o,b,c]=e.split("-"),f=Be.find(T=>T.Text2===s[l]&&T.Text1===c);if(f){const T=f.Text5,y={asSchoolId:Number(localStorage.getItem("SchoolId")),asDetailID:Number(T)};r(Tl(y))}}}function Ma(e,s){let a=0;if(Object.keys(g).length>0){for(const l in g)if(g.hasOwnProperty(l)){const o=g[l],[,,b,c]=o.split("-");c===e&&b===s&&a++}}return a}function Ot(){let e="";const s=M.map(a=>a.WeekdayId);return G.forEach(a=>{const l=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,b)=>{var f,T,y,k,I;const c=`${s[b]}-${l}`;us(g[c])&&(g[c]=`0-${(f=g[c])==null?void 0:f.split("-")[1]}-0-0-${(T=g[c])==null?void 0:T.split("-")[4]}`),((y=g[c])==null?void 0:y.split("-")[0])!=="0"&&l!=="99"&&(e+=`<DaywiseTimeTable Standard_Division_Id="${(k=g[c])==null?void 0:k.split("-")[2]}" Weekday_Id="${(I=g[c])==null?void 0:I.split("-")[1]}" />`)})}),e=`<DaywiseTimeTableMaster>${e}</DaywiseTimeTableMaster>`,e}function Rt(){let e="";const s=M.map(a=>a.WeekdayId);return G.forEach(a=>{const l=a.Text1;["Text2","Text3","Text4","Text5","Text6"].forEach((o,b)=>{var f,T,y,k,I,m,C;const c=`${s[b]}-${l}`;us(g[c])&&(g[c]=`0-${(f=g[c])==null?void 0:f.split("-")[1]}-0-0-${(T=g[c])==null?void 0:T.split("-")[4]}`,wa(g[c])),((y=g[c])==null?void 0:y.split("-")[0])!=="0"&&l!=="99"&&(e+=`<DaywiseTimeTableDetail WeekDay_Id="${(k=g[c])==null?void 0:k.split("-")[1]}" Teacher_ID="${x}" Standard_Division_Id="${(I=g[c])==null?void 0:I.split("-")[2]}" Lecture_Number="${(m=g[c])==null?void 0:m.split("-")[4]}" Subject_Id="${(C=g[c])==null?void 0:C.split("-")[3]}"/>`)})}),e=`<DaywiseTimeTableDetails>${e}</DaywiseTimeTableDetails>`,e}function Re(){let e="";return e=`<TeacherMaster><Teacher Assembly_Applicable="${F===!0?"Y":"N"}" MPT_Applicable="${B===!0?"Y":"N"}" Stayback_Applicable="${E===!0?"Y":"N"}" /></TeacherMaster>`,e}const[zt,ze]=i.useState(!1);function bs(){ts("0"),Yt("0"),Gt("0")}function hs(e){const s={asSchoolId:Number(localStorage.getItem("SchoolId")),asDetailID:Number(e)};J({title:"Please Confirm",message:"Are you sure you want to delete this additional lecture ?",variant:"warning",confirmButtonText:"Confirm",cancelButtonText:"Cancel",onConfirm:()=>{L(),r(fl(s))},onCancel:L})}function ce(e,s){return Ge?Ct.find(l=>l.Text1===e&&l.Text2===s):!1}function de(e,s){return Ye?At.find(l=>l.Text1===e&&l.Text2===s):!1}function oe(e,s){return Xe?Dt.find(l=>l.Text1===e&&l.Text2===s):!1}function xe(e,s){return Pe?Wt.find(l=>l.Text1===e&&l.Text2===s):!1}function be(e,s){return Ge?Ns.find(l=>l.Text1===e&&l.Text4===s):!1}function he(e,s){return Ye?vs.find(l=>l.Text1===e&&l.Text4===s):!1}function Te(e,s){return Xe?ws.find(l=>l.Text1===e&&l.Text4===s):!1}function fe(e,s){return Pe?$s.find(l=>l.Text1===e&&l.Text4===s):!1}function ye(e,s){let a=!1;return Be.find(o=>o.Text2===e&&o.Text1===s)!==void 0&&(a=!0),a}function me(e,s){let a=!1;return lt.find(o=>o.Text3===e&&o.Text2===s)!==void 0&&(a=!0),a}function S(e,s){const a=Number(s);let l=e.filter(o=>a<=parseInt(o.MaxDayLec));return l.unshift({Id:"0",Name:"Select",Value:"0",StdDivId:"0",SubId:"0",TeacherId:"0",MaxDayLec:"0"}),l}i.useEffect(()=>{if(x!=="0"&&K.length>0&&Object.keys(g).length>0&&G.length>0){let e=["Monday","Tuesday","Wednesday","Thursday","Friday"];const s={Monday:aa,Tuesday:ra,Wednesday:ia,Thursday:da,Friday:xa};e.forEach(a=>{let l=G.reduce((o,b)=>{let c=0,f=0,T=0,y=0,k=0;const I={Monday:b.Text2!=="0",Tuesday:b.Text3!=="0",Wednesday:b.Text4!=="0",Thursday:b.Text5!=="0",Friday:b.Text6!=="0"};return b.Text1!=="99"&&(c=B&&ce(a,b.Text1)?1:0,f=F&&de(a,b.Text1)?1:0,T=E&&oe(a,b.Text1)?1:0,y=X&&xe(a,b.Text1)?1:0,k=I[a]?1:0),o+c+f+T+y+k},0);s[a](Number(l))})}},[G,g,K,F,B,E,X,x,Dt,Wt,At,Ct]);function La(){r(ot()),r(Ue());const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(x),asStdDivId:Number(w),asLectureNo:Number(A),asWeekDayId:Number(j)},s={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id="${w}" Weekday_Id="${j}" /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id="${j}" Teacher_ID="${x}" Standard_Division_Id="${w}" Lecture_Number="${A}" Subject_Id="${H}" /></DaywiseTimeTableDetails>`,asTeacherXML:Re(),IsAdditionalClass:1,asIncCnt:0},a={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asTeacherID:Number(x),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:0},l={asSchoolId:Number(localStorage.getItem("localSchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInserted_By_id:Number(sessionStorage.getItem("Id")),asStandardDivId:Number(w),asDayTimeTableMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${w}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDayTimeTableDetailsXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${x}' Standard_Division_Id='${w}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,asIsAdditionalClass:!0,asIsCountInceased:0};j!=="0"&&A!=="0"&&w!=="0"?r(ys(s,e,l,a)):ze(!0)}function _a(){r(ot()),r(Ue());const e={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asSubjectId:Number(H),asTeacherId:Number(ct),asStdDivId:Number(p),asLectureNo:Number(A),asWeekDayId:Number(j)},s={asSchoolId:Number(localStorage.getItem("SchoolId")),asAcademicYearId:Number(sessionStorage.getItem("AcademicYearId")),asInsertedById:Number(sessionStorage.getItem("Id")),asStdDivId:Number(p),asMasterXml:`<DaywiseTimeTableMaster><DaywiseTimeTable Standard_Division_Id='${p}' Weekday_Id='${j}' /></DaywiseTimeTableMaster>`,asDetailXml:`<DaywiseTimeTableDetails><DaywiseTimeTableDetail WeekDay_Id='${j}' Teacher_ID='${ct}' Standard_Division_Id='${p}' Lecture_Number='${A}' Subject_Id='${H}' /></DaywiseTimeTableDetails>`,IsAdditionalClass:!0,asIncCnt:0};j!=="0"&&A!=="0"&&H!=="0"?r(ms(e,s)):ze(!0)}return t.jsxs(t.Fragment,{children:[t.jsxs(D,{sx:{mx:2},children:[t.jsx(rl,{navLinks:[{title:"Weekly Timetable",path:"/RITeSchool/Teacher/WeeklyTimetable"}],rightActions:t.jsx(t.Fragment,{children:t.jsxs(ke,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:"right",spacing:1,sx:{mt:{xs:0,sm:0},flexWrap:{xs:"nowrap",sm:"nowrap"}},children:[t.jsx(nl,{item:!0,xs:12,sm:6,display:"flex",justifyContent:{xs:"flex-start",sm:"flex-end"},children:t.jsx(ke,{direction:"row",gap:1,alignItems:"left",sx:{flexWrap:{xs:"wrap",sm:"nowrap"},justifyContent:{xs:"flex-start",sm:"flex-start"}},children:t.jsxs(Ds,{label:"Select By",size:"small",select:!0,value:u,onChange:e=>{Fs(e.target.value),u==="Teacher"?(it("0"),_t("0"),Lt("0")):u==="Class"&&(Lt("0"),it("0"),_t("0"))},children:[t.jsx(gs,{value:"Teacher",children:"Teacher"}),t.jsx(gs,{value:"Class",children:"Class"})]})})}),t.jsxs(ke,{direction:{xs:"row",sm:"row"},gap:1,alignItems:"center",justifyContent:"flex-start",sx:{width:"100%",flexWrap:{xs:"wrap",sm:"nowrap"}},children:[t.jsx(D,{sx:{width:{xs:"100%",sm:"auto"}},children:u==="Teacher"&&t.jsx(U,{onChange:e=>{Lt(e.Value),Es(e.Name),Gs(!0),r(qe())},ItemList:pt,defaultValue:x,label:"Teacher",sx:{minWidth:250,mb:{xs:1,sm:"auto"}},size:"small"})}),x!=="0"&&x!==void 0&&t.jsx(N,{title:"Teacher Settings",children:t.jsx(ee,{onClick:ua,sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(il,{})})}),t.jsx(cl,{id:ha,open:cs,anchorEl:qt,onClose:ba,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t.jsx(D,{sx:{p:2},children:t.jsxs(gl,{children:[Ye&&t.jsx(ut,{control:t.jsx(bt,{checked:F,onChange:ya}),label:`Is ${le} Applicable?`}),Ge&&t.jsx(ut,{control:t.jsx(bt,{checked:B,onChange:Ta}),label:`Is ${re} Applicable?`}),Xe&&t.jsx(ut,{control:t.jsx(bt,{checked:E,onChange:fa}),label:`Is ${ne} Applicable?`}),Pe&&t.jsx(ut,{control:t.jsx(bt,{checked:X,onChange:ma}),label:`Is ${ie} Applicable?`})]})})}),u==="Class"&&t.jsxs(t.Fragment,{children:[t.jsx(D,{children:t.jsx(U,{onChange:e=>{_t(e.Value),it("0"),Ps(e.Name),r($e())},ItemList:kt,label:"Standard",defaultValue:ae,sx:{minWidth:150},size:"small",DisableClearable:!0})}),t.jsx(D,{children:t.jsx(U,{onChange:e=>{it(e.Value),Ys(e.Name),r($e())},ItemList:ae!=="0"?St:[],label:"Division",defaultValue:p,sx:{minWidth:150},size:"small",DisableClearable:!0})})]}),u==="Teacher"&&x!=="0"&&x!==void 0&&t.jsxs(t.Fragment,{children:[t.jsx(N,{title:"Reset",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ht[500],"&:hover":{backgroundColor:ht[600]}},onClick:is,children:t.jsx(Cs,{})})}),t.jsx(D,{children:t.jsx(N,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(Tt,{})})})}),t.jsx(N,{title:"Save",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:va,children:t.jsx(Is,{})})}),t.jsx(N,{title:"Additional Lectures",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:ns,children:t.jsx(ps,{})})})]}),u==="Class"&&ae!=="0"&&p!=="0"&&t.jsxs(t.Fragment,{children:[t.jsx(N,{title:"Reset",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ht[500],"&:hover":{backgroundColor:ht[600]}},onClick:is,children:t.jsx(Cs,{})})}),t.jsx(D,{children:t.jsx(N,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(Tt,{})})})}),t.jsx(N,{title:"Save",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:$a,children:t.jsx(Is,{})})}),t.jsx(N,{title:"Optional Subject Lectures",children:t.jsx(ee,{sx:{color:"white",backgroundColor:je[500],"&:hover":{backgroundColor:je[600]}},onClick:ns,children:t.jsx(ps,{})})})]}),x==="0"||x===void 0?u==="Teacher"&&t.jsx(D,{children:t.jsx(N,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(Tt,{})})})}):"",p==="0"||p===void 0?u==="Class"&&t.jsx(D,{children:t.jsx(N,{title:"Define timetable for the selected teacher / class.",children:t.jsx(ee,{sx:{color:"white",backgroundColor:ue[500],"&:hover":{backgroundColor:ue[600]}},children:t.jsx(Tt,{})})})}):""]})]})})}),t.jsx(D,{sx:{background:"white",p:1},children:t.jsxs(D,{sx:{display:"flex",gap:"20px",alignItems:"center"},children:[t.jsx(d,{variant:"h4",sx:{mb:0,lineHeight:"normal",alignSelf:"center",paddingBottom:"2px"},children:"Legend"}),t.jsxs(D,{sx:{display:"flex",gap:"20px"},children:[t.jsxs(D,{sx:{display:"flex",gap:1,alignItems:"center"},children:[t.jsx(As,{style:{color:"#9ca3af",fontSize:25,position:"relative",top:"-2px"}}),t.jsx(d,{children:"Lecture not applicable"})]}),t.jsxs(D,{sx:{display:"flex",gap:1,alignItems:"center"},children:[t.jsx(As,{style:{color:"#e5e7eb",fontSize:25,position:"relative",top:"-2px"}}),t.jsx(d,{children:"Associated with additional / optional subject lectures"})]})]})]})}),t.jsxs(D,{sx:{p:2,background:"white",mt:1},children:[(ge==null?void 0:ge.length)>0&&Ve(ge[0])&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:ge.map((e,s)=>Object.keys(e).map(a=>{const l=e[a].trim();return l!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:l},style:{color:"red",fontWeight:"bolder"}}):null}))}),(Ie==null?void 0:Ie.length)>0&&Ve(Ie[0])&&t.jsx(ke,{sx:{width:"100%"},spacing:.5,children:Ie.map((e,s)=>Object.keys(e).map(a=>{const l=e[a].trim();return l!==""?t.jsx("span",{dangerouslySetInnerHTML:{__html:l},style:{color:"red",fontWeight:"bolder"}}):null}))}),t.jsx(ke,{direction:"row",gap:1,alignItems:"center",justifyContent:"space-between",mt:1,children:u==="Teacher"?t.jsxs(d,{variant:"h4",children:["Weekly timetable for"," ",x!=="0"?Jt:"teacher / class name"]}):t.jsxs(d,{variant:"h4",children:["Weekly timetable for"," ",ae!=="0"&&p!=="0"?`Class ${Qt} - ${Kt}`:"teacher / class name"]})}),x!=="0"&&Object.keys(g).length===0&&t.jsx(yt,{}),p!=="0"&&Object.keys(z).length===0&&t.jsx(yt,{}),st?t.jsx(yt,{}):t.jsxs(t.Fragment,{children:[u==="Teacher"&&x!=="0"&&x!==void 0&&G.length>0&&Object.keys(g).length>0?t.jsxs(t.Fragment,{children:[t.jsx(D,{sx:{mt:2},children:t.jsx(Ze,{children:t.jsxs(Je,{children:[t.jsx(Qe,{children:t.jsxs(te,{children:[t.jsx(W,{children:"Weekdays >>"}),t.jsx(W,{children:"Monday"}),t.jsx(W,{children:"Tuesday"}),t.jsx(W,{children:"Wednesday"}),t.jsx(W,{children:"Thursday"}),t.jsx(W,{children:"Friday"})]})}),t.jsx(Ke,{children:G.length>0&&(G==null?void 0:G.map((e,s)=>{var a,l,o,b,c,f,T,y,k;return t.jsx(t.Fragment,{children:M.length>0&&e.Text1!=="99"?t.jsxs(te,{children:[t.jsx(se,{sx:{textAlign:"center"},children:e.Text1}),t.jsx(N,{title:`For - Monday : ${e.Text1}`,arrow:!0,placement:"top",enterDelay:2e3,children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Monday",e.Text1)||F&&de("Monday",e.Text1)||E&&oe("Monday",e.Text1)||X===!0&&xe("Monday",e.Text1)?"#f3f4f6":S(V,e.Text1).length===1?"#9ca3af":e.Text2!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):F===!0&&de("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):E===!0&&oe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(V,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:I=>ga(I,`${M[0].WeekdayId}-${e.Text1}`),ItemList:S(V,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text2!=="0"&&ye("Monday",e.Text1)?"#e5e7eb":e.Text2!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",disabled:e.Text2!=="0"&&ye("Monday",e.Text1),DisableClearable:!0,defaultValue:(a=g[`${M[0].WeekdayId}-${e.Text1}`])==null?void 0:a.split("-")[0]})})}),t.jsx(N,{title:`For - Tuesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Tuesday",e.Text1)||F&&de("Tuesday",e.Text1)||E&&oe("Tuesday",e.Text1)||X===!0&&xe("Tuesday",e.Text1)?"#f3f4f6":S(Y,e.Text1).length===1?"#9ca3af":e.Text3!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):F===!0&&de("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):S(Y,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):E===!0&&oe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):t.jsx(U,{onChange:I=>{var m;return Ia(I,`${(m=M[1])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(Y,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text3!=="0"&&ye("Tuesday",e.Text1)?"#e5e7eb":e.Text3!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text3!=="0"&&ye("Tuesday",e.Text1),defaultValue:(o=g[`${(l=M[1])==null?void 0:l.WeekdayId}-${e.Text1}`])==null?void 0:o.split("-")[0]})})}),t.jsx(N,{title:`For - Wednesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Wednesday",e.Text1)||F&&de("Wednesday",e.Text1)||E&&oe("Wednesday",e.Text1)||X===!0&&xe("Wednesday",e.Text1)?"#f3f4f6":S(O,e.Text1).length===1?"#9ca3af":e.Text4!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):F===!0&&de("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):E===!0&&oe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(O,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:I=>{var m;return pa(I,`${(m=M[2])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(O,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text4!=="0"&&ye("Wednesday",e.Text1)?"#e5e7eb":e.Text4!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text4!=="0"&&ye("Wednesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(c=g[`${(b=M[2])==null?void 0:b.WeekdayId}-${e.Text1}`])==null?void 0:c.split("-")[0]})})}),t.jsx(N,{title:`For - Thursday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Thursday",e.Text1)||F&&de("Thursday",e.Text1)||E&&oe("Thursday",e.Text1)||X===!0&&xe("Thursday",e.Text1)?"#f3f4f6":S($,e.Text1).length===1?"#9ca3af":e.Text5!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):F===!0&&de("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):E===!0&&oe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S($,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:I=>{var m;return ja(I,`${(m=M[3])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S($,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text5!=="0"&&ye("Thursday",e.Text1)?"#e5e7eb":e.Text5!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text5!=="0"&&ye("Thursday",e.Text1),defaultValue:(T=g[`${(f=M[3])==null?void 0:f.WeekdayId}-${e.Text1}`])==null?void 0:T.split("-")[0]})})}),t.jsx(N,{title:`For - Friday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${B&&ce("Friday",e.Text1)||F&&de("Friday",e.Text1)||E&&oe("Friday",e.Text1)||X===!0&&xe("Friday",e.Text1)?"#f3f4f6":S(R,e.Text1).length===1?"#9ca3af":e.Text6!=="0"?"#f3f4f6":""}`},children:B===!0&&ce("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):F===!0&&de("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):E===!0&&oe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):X===!0&&xe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):S(R,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:I=>{var m;return ka(I,`${(m=M[4])==null?void 0:m.WeekdayId}-${e.Text1}`)},ItemList:S(R,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text6!=="0"&&ye("Friday",e.Text1)?"#e5e7eb":e.Text6!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},size:"small",DisableClearable:!0,disabled:e.Text6!=="0"&&ye("Friday",e.Text1),defaultValue:(k=g[`${(y=M[4])==null?void 0:y.WeekdayId}-${e.Text1}`])==null?void 0:k.split("-")[0]})})})]},s):t.jsx(te,{children:Object.keys(g).length>0&&t.jsxs(t.Fragment,{children:[t.jsx(De,{children:"Total Lectures"}),t.jsx(De,{children:K.length>0&&sa}),t.jsx(De,{children:K.length>0&&la}),t.jsx(De,{children:K.length>0&&na}),t.jsx(De,{children:K.length>0&&ca}),t.jsx(De,{children:K.length>0&&oa})]})})})}))})]})})}),t.jsx(js,{sx:{my:2}})]}):"",u==="Class"&&p!=="0"&&p!==void 0&&(q==null?void 0:q.length)>0&&Object.keys(z).length>0?t.jsxs(t.Fragment,{children:[t.jsx(D,{sx:{mt:2},children:t.jsx(Ze,{children:t.jsxs(Je,{children:[t.jsx(Qe,{children:t.jsxs(te,{children:[t.jsx(W,{children:"Weekdays >>"}),t.jsx(W,{children:"Monday"}),t.jsx(W,{children:"Tuesday"}),t.jsx(W,{children:"Wednesday"}),t.jsx(W,{children:"Thursday"}),t.jsx(W,{children:"Friday"})]})}),t.jsx(Ke,{children:(q==null?void 0:q.length)>0&&(q==null?void 0:q.map((e,s)=>{var a,l,o,b,c,f,T,y,k,I;return t.jsx(t.Fragment,{children:(_==null?void 0:_.length)>0&&e.Text1!=="99"&&t.jsxs(te,{children:[t.jsx(se,{sx:{textAlign:"center"},children:e.Text1}),t.jsx(N,{title:`For - Monday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Monday",e.Text1)||he("Monday",e.Text1)||Te("Monday",e.Text1)||fe("Monday",e.Text1)?"#f3f4f6":S(V,e.Text1).length===1?"#9ca3af":e.Text2!=="0"?"#f3f4f6":""}`},children:be("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):he("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):fe("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Monday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(V,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var C;return Sa(m,`${(C=_[0])==null?void 0:C.WeekdayId}-${e.Text1}`)},ItemList:S(V,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text2!=="0"&&me("Monday",e.Text1)?"#e5e7eb":e.Text2!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text2!=="0"&&me("Monday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(l=z[`${(a=_[0])==null?void 0:a.WeekdayId}-${e.Text1}`])==null?void 0:l.split("-")[0]})})}),t.jsx(N,{title:`For - Tuesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Tuesday",e.Text1)||he("Tuesday",e.Text1)||Te("Tuesday",e.Text1)||fe("Tuesday",e.Text1)?"#f3f4f6":S(Y,e.Text1).length===1?"#9ca3af":e.Text3!=="0"?"#f3f4f6":""}`},children:be("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):he("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):fe("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Tuesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(Y,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var C;return Ca(m,`${(C=_[1])==null?void 0:C.WeekdayId}-${e.Text1}`)},ItemList:S(Y,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text3!=="0"&&me("Tuesday",e.Text1)?"#e5e7eb":e.Text3!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text3!=="0"&&me("Tuesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(b=z[`${(o=_[1])==null?void 0:o.WeekdayId}-${e.Text1}`])==null?void 0:b.split("-")[0]})})}),t.jsx(N,{title:`For - Wednesday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Wednesday",e.Text1)||he("Wednesday",e.Text1)||Te("Wednesday",e.Text1)||fe("Wednesday",e.Text1)?"#f3f4f6":S(O,e.Text1).length===1?"#9ca3af":e.Text4!=="0"?"#f3f4f6":""}`},children:be("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):he("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):fe("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Wednesday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(O,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var C;return Aa(m,`${(C=_[2])==null?void 0:C.WeekdayId}-${e.Text1}`)},ItemList:S(O,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text4!=="0"&&me("Wednesday",e.Text1)?"#e5e7eb":e.Text4!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text4!=="0"&&me("Wednesday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(f=z[`${(c=_[2])==null?void 0:c.WeekdayId}-${e.Text1}`])==null?void 0:f.split("-")[0]})})}),t.jsx(N,{title:`For - Thursday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Thursday",e.Text1)||he("Thursday",e.Text1)||fe("Thursday",e.Text1)||Te("Thursday",e.Text1)?"#f3f4f6":S($,e.Text1).length===1?"#9ca3af":e.Text5!=="0"?"#f3f4f6":""}`},children:be("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):he("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):fe("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Thursday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S($,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var C;return Da(m,`${(C=_[3])==null?void 0:C.WeekdayId}-${e.Text1}`)},ItemList:S($,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text5!=="0"&&me("Thursday",e.Text1)?"#e5e7eb":e.Text5!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text5!=="0"&&me("Thursday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(y=z[`${(T=_[3])==null?void 0:T.WeekdayId}-${e.Text1}`])==null?void 0:y.split("-")[0]})})}),t.jsx(N,{title:`For - Friday : ${e.Text1}`,arrow:!0,placement:"top",children:t.jsx(se,{sx:{backgroundColor:`${be("Friday",e.Text1)||he("Friday",e.Text1)||fe("Friday",e.Text1)||Te("Friday",e.Text1)?"#f3f4f6":S(R,e.Text1).length===1?"#9ca3af":e.Text6!=="0"?"#f3f4f6":""}`},children:be("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:re})}):he("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:le})}):fe("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ie})}):Te("Friday",e.Text1)?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:ne})}):S(R,e.Text1).length===1?t.jsx(d,{variant:"body2",sx:{color:"black",minWidth:200,textAlign:"center"},children:t.jsx("b",{children:"Lecture Not Applicable"})}):t.jsx(U,{onChange:m=>{var C;return Wa(m,`${(C=_[4])==null?void 0:C.WeekdayId}-${e.Text1}`)},ItemList:S(R,e.Text1),sx:{minWidth:200,backgroundColor:`${e.Text6!=="0"&&me("Friday",e.Text1)?"#e5e7eb":e.Text6!=="0"?"#f3f4f6":""}`,"& .Mui-disabled":{color:"inherit",WebkitTextFillColor:"inherit",fontWeight:"bold"}},disabled:e.Text6!=="0"&&me("Friday",e.Text1),size:"small",DisableClearable:!0,defaultValue:(I=z[`${(k=_[4])==null?void 0:k.WeekdayId}-${e.Text1}`])==null?void 0:I.split("-")[0]})})})]})})}))})]})})}),t.jsx(js,{sx:{my:2}})]}):"",u==="Teacher"&&x==="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginBottom:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",mt:2},children:t.jsx("b",{children:"No record found."})}),u==="Class"&&p==="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginBottom:1,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",mt:2},children:t.jsx("b",{children:"No record found."})})]}),t.jsxs(ke,{direction:"row",gap:2,children:[u==="Class"&&p!=="0"&&p!==void 0&&!st&&Object.keys(z).length>0&&t.jsx(t.Fragment,{children:t.jsxs(D,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Additional / optional subject lectures"}),lt.length===0&&ae!=="0"&&p!=="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:5,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:t.jsx("b",{children:"No additional lectures assigned."})}),lt.length>0&&t.jsx(Ze,{sx:{width:"100%"},children:t.jsxs(Je,{children:[t.jsx(Qe,{children:t.jsxs(te,{children:[t.jsx(W,{sx:{textAlign:"left"},children:"Week Day"}),t.jsx(W,{children:"Lecture #"}),t.jsx(W,{sx:{textAlign:"left"},children:"Subject"}),t.jsx(W,{sx:{textAlign:"left"},children:"Teacher Name"}),t.jsx(W,{children:"Delete"})]})}),t.jsx(Ke,{children:lt.map((e,s)=>t.jsxs(te,{children:[t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text3}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text2}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text4}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text10}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:t.jsx(N,{title:"Delete",children:t.jsx(ee,{onClick:()=>hs(e.Text6),sx:{color:"#223354","&:hover":{color:"red",backgroundColor:Ut[100]}},children:t.jsx(ks,{})})})})]}))})]})})]})}),u==="Teacher"&&x!=="0"&&!st&&x!==void 0&&G.length>0&&Object.keys(g).length>0&&t.jsxs(D,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Class-subject lecture count"}),x!=="0"&&t.jsx(Ze,{sx:{width:"100%"},children:t.jsxs(Je,{children:[t.jsx(Qe,{children:t.jsxs(te,{children:[t.jsx(W,{sx:{textAlign:"left"},children:"Class Subjects"}),t.jsx(W,{sx:{textAlign:"center"},children:"Lecture Count"})]})}),t.jsx(Ke,{children:Me==null?void 0:Me.map((e,s)=>{let a;const[l,o,b,c]=wt==null?void 0:wt.split("-");switch(e.Text2){case"Assembly":a=F?e.Text3:"0";break;case"M.P.T.":a=B?e.Text3:"0";break;case"Stay Back":a=E?e.Text3:"0";break;case"Weekly Tests":a=X?e.Text3:"0";break;default:a=e.Text3;break}function f(){let T=0;for(const y in g)if(g.hasOwnProperty(y)){const k=g[y];(k==null?void 0:k.split("-")).slice(0,-1).every(C=>C!=="0")&&T++}return T}return e.Text2==="Total Weekly Lectures"?t.jsxs(te,{children:[t.jsx(De,{sx:{textAlign:"left"},dangerouslySetInnerHTML:{__html:e.Text2}}),t.jsx(De,{sx:{textAlign:"center"},children:f()+(Ge&&B&&Number(l))+(Xe&&E&&Number(o))+(Pe&&X&&Number(c))+(Ye&&F&&Number(b))})]},s):["Assembly","M.P.T.","Stay Back","Weekly Tests"].includes(e.Text2)?t.jsxs(te,{children:[t.jsx(ft,{sx:{textAlign:"left"},children:e.Text2}),t.jsx(ft,{sx:{textAlign:"center"},children:a})]},s):t.jsxs(te,{children:[t.jsx(ft,{sx:{textAlign:"left"},children:e.Text2}),t.jsx(ft,{sx:{textAlign:"center"},children:Ma(e.Text5,e.Text4)})]},s)})})]})})]}),u==="Teacher"&&x!=="0"&&!st&&x!==void 0&&G.length>0&&Object.keys(g).length>0&&t.jsxs(D,{sx:{flex:1},children:[t.jsx(d,{variant:"body1",sx:{textAlign:"center",backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white",marginBottom:.5,fontWeight:"bold"},children:"Additional lectures"}),Be.length===0&&x!=="0"&&t.jsx(d,{variant:"body1",sx:{textAlign:"center",marginTop:10,backgroundColor:"#324b84",padding:1,borderRadius:2,color:"white"},children:t.jsx("b",{children:"No additional lectures assigned."})}),Be.length>0&&t.jsx(Ze,{sx:{width:"100%"},children:t.jsxs(Je,{children:[t.jsx(Qe,{children:t.jsxs(te,{children:[t.jsx(W,{sx:{textAlign:"left"},children:"WeekDay"}),t.jsx(W,{sx:{textAlign:"center"},children:"Lecture #"}),t.jsx(W,{children:"Class"}),t.jsxs(W,{sx:{textAlign:"left"},children:["Subject"," "]}),t.jsxs(W,{sx:{textAlign:"center"},children:["Delete"," "]})]})}),t.jsx(Ke,{children:Be.map((e,s)=>t.jsxs(te,{children:[t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px"},children:e.Text2}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text1}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"center"},children:e.Text4}),t.jsx(Z,{sx:{border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px",textAlign:"left"},children:e.Text3}),t.jsx(Z,{sx:{textAlign:"center",border:"1px solid rgba(224, 224, 224, 1)",paddingTop:"1px",paddingBottom:"1px"},children:t.jsx(N,{title:"Delete",children:t.jsx(ee,{onClick:()=>hs(e.Text5),sx:{color:"#223354","&:hover":{color:"red",backgroundColor:Ut[100]}},children:t.jsx(ks,{})})})})]}))})]})})]})]})]})]}),t.jsx(Ws,{Value1:u==="Teacher"?Jt:`${Qt} - ${Kt}`,ValErrorMsgList:Q!==void 0&&ss(Q[0])?Q:[],ValError:(rt==null?void 0:rt.length)>0?rt:"",Open:Bs,onSubmit:u==="Teacher"?La:_a,Heading:u==="Teacher"?"Assign additional lectures to teacher":"Assign optional subject lectures to class",OnClose:()=>{nt(!1),r(Ue())},ItemList2:jt,OnChange1:e=>{ts(e),Yt("0"),Xt("0")},Label1:u==="Teacher"?"Teacher Name":"Class Name",Defaultvalue2:j,ErrorMsg1:!!(zt&&j==="0"),ItemList3:j!=="0"?as:[],Defaultvalue3:A,OnChange2:e=>{Yt(e.Value),Xt("0")},Label3:u==="Teacher"?"Class-Subjects":"Subject-Teacher",ErrorMsg2:!!(zt&&A==="0"&&j!=="0"),ErrorMsg3:!!(zt&&H==="0"&&A!=="0"&&j!=="0"),Defaultvalue4:u==="Teacher"?w:H,OnChange3:e=>{u==="Teacher"?(Gt(e.SubId),Xt(e.StdDivId)):u==="Class"&&(Gt(e.Id),ea(e.TeacherId))},ItemList4:u==="Teacher"&&A!=="0"?ta:u==="Class"&&A!=="0"?Qs:[]})]})};export{Al as default};
