import{u as Y,q as P,v as u,c as i,r as o,bx as j,bc as C,j as t,B as g,C as D,l as M}from"./index-CpZD2H93.js";import{L as N}from"./List1-CVRAXJd-.js";import{M as w}from"./MonthYearselector-C9gxwKYF.js";import"./Attachment-BXtOqCtF.js";import"./Dropdown-AVnwFZWJ.js";function F(){const d=Y();let{Month:a,Year:n}=P();a=u(a),n=u(n);const b=i(e=>e.Dashboard.PhotoAlbumList),I=i(e=>e.Dashboard.Loading),p=i(e=>e.PhotoGalllary.YearList),h=localStorage.getItem("localSchoolId"),m=sessionStorage.getItem("Id"),x=sessionStorage.getItem("RoleId"),[s,l]=o.useState(0),[r,c]=o.useState(0);o.useEffect(()=>{localStorage.setItem("url",window.location.pathname),a!==void 0?(l(Number(a)),c(Number(n))):(l(new Date().getMonth()+1),c(new Date().getFullYear()));const e={asSchoolId:Number(h),asUserId:Number(m),asUserRoleId:Number(x)};d(j(e))},[]);const S=e=>{l(e)},L=e=>{c(e)},[f,y]=o.useState(!0);return o.useEffect(()=>{if(s>0){const e={aiSchoolId:Number(h),aiMonth:s,aiYear:r,aiUserId:Number(m),iFirstLoad:f};d(C(e))}},[r,s]),t.jsxs(g,{sx:{px:2},children:[t.jsx(D,{navLinks:[{title:"Photo Gallery",path:""}]}),t.jsxs(g,{sx:{background:"white",p:2},children:[t.jsx(w,{month:s,onChange:S,year:r,YearData:p,newChange:L}),I?t.jsx(M,{}):t.jsx(N,{items:b,SelectedMonth:s,SelectedYear:r})]})]})}export{F as default};
